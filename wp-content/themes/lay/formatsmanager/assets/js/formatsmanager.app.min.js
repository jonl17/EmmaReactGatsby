/*! laytheme 31-07-2018 */

var FormatsManager=new Marionette.Application;FormatsManager.addRegions({mainRegion:"#formatsmanager"}),FormatsManager.on("start",function(){FormatsManager.trigger("manager:show")}),jQuery(document).ready(function(){FormatsManager.start()}),FormatsManager.module("Entities",function(t,e,o,a,s,i){var n={jsonObject:null};t.API={getRowsEntities:function(){return l()},updateJSON:function(){r()},getJSON:function(){p()},getJSONObject:function(){return n.jsonObject},getFontsJSONObject:function(){return d()}},t.Row=o.Model.extend({}),t.RowsCollection=o.Collection.extend({model:t.Row});var l=function(){var e=[];return null!=n.jsonObject&&(e=n.jsonObject),rowsCollection=new t.RowsCollection(e),rowsCollection},p=function(){var t=s.trim(s("#formatsmanager_json").val());if(void 0!==t&&""!=t){var e=JSON.parse(t);n.jsonObject=e}},r=function(){var t=e.module("Row").API.getRowsView().collection.toJSON(),o=window.JSON.stringify(t,void 0,2);s("#formatsmanager_json").val(o)},d=function(){var t=s.trim(s("#fontmanager_json").val());if(void 0!==t&&""!=t)return JSON.parse(t)}}),FormatsManager.module("FormatsManagerApp",function(t,e,o,a,s,i){e.on("manager:show",function(){e.module("Manager").API.showManager()})}),FormatsManager.module("Manager",function(t,e,o,a,s,i){t.API={showManager:function(){p()}};var n=function(){window.ParsleyValidator.addValidator("isother",function(t,e){var o=!0;return s(".js-format-name").each(function(){s(this).text()==t&&(o=!1)}),o},32).addMessage("en","isother","This name is already used."),s.listen("parsley:field:error",function(t){arrErrorMsg=ParsleyUI.getErrorsMessages(t),errorMsg=arrErrorMsg.join(";"),t.$element.popover("destroy").popover({container:"body",placement:"bottom",content:errorMsg}).popover("show")}),s.listen("parsley:field:success",function(t){t.$element.popover("destroy")})},l=function(){s(".js-format-name-input").on("input propertychange",function(){1==s(this).parsley().validate()?s(".js-add-format").removeAttr("disabled"):s(".js-add-format").attr("disabled","disabled")})},p=function(){e.module("Entities").API.getJSON();var t=e.module("Entities").API.getRowsEntities();e.module("Row").API.initRows(t);var o=e.module("Row").API.getRowsView();e.mainRegion.show(o),n(),l(),s('[data-toggle="tooltip"]').tooltip({container:"#formatsmanager"})}}),FormatsManager.module("Row",function(t,e,o,a,s,i){var n={rowsView:null};t.API={initRows:function(t){r(t)},getRowsView:function(){return n.rowsView},insertRow:function(t){l(t)},deleteFontRow:function(t){p(t)}},t.setInputAttrs=function(t,e){var o=e.get("fontsizemu");void 0===o&&(o="px"),t.find('.font-size-mu option[value="'+o+'"]').attr("selected","selected");var a=e.get("phone-fontsizemu");void 0===a&&(a="px"),t.find('.phone-font-size-mu option[value="'+a+'"]').attr("selected","selected");var s=e.get("tablet-fontsizemu");void 0===s&&(s="px"),t.find('.tablet-font-size-mu option[value="'+s+'"]').attr("selected","selected");var i=e.get("fontsize");t.find(".font-size").val(i);var n=e.get("phone-fontsize");void 0===n&&(n="16"),t.find(".phone-font-size").val(n);var l=e.get("tablet-fontsize");void 0===l&&(l="16"),t.find(".tablet-font-size").val(l),i=e.get("color"),t.find(".colorpicker").val(i),i=e.get("lineheight"),t.find(".line-height").val(i),i=e.get("letterspacing"),t.find(".letter-spacing").val(i),i=e.get("spacebottom"),t.find(".space-bottom").val(i),i=e.get("spacetop"),t.find(".space-top").val(i);var p=e.get("phone-spacetop");void 0===p&&(p="0"),t.find(".phone-space-top").val(p);var r=e.get("phone-spacebottom");void 0===r&&(r="20"),t.find(".phone-space-bottom").val(r);var d=e.get("tablet-spacetop");void 0===d&&(d="0"),t.find(".tablet-space-top").val(d);var c=e.get("tablet-spacebottom");void 0===c&&(c="20"),t.find(".tablet-space-bottom").val(c);var u=e.get("textindent");void 0!==u&&t.find(".text-indent").val(u);var m=e.get("textalign");void 0!==m&&(t.find(".text-align-row button").removeClass("active"),t.find('.text-align-row button[data-align="'+m+'"]').addClass("active"));var g=e.get("fontweight");"normal"!=g&&void 0!==g||(g="400"),t.find('.font-weight-select option[value="'+g+'"]').attr("selected","selected"),i=e.get("fontfamily"),$fontselectOption=t.find('.font-select option[value="'+i+'"]'),$fontselectOption.length&&t.find('.font-select option[value="'+i+'"]').attr("selected","selected");var f=e.get("borderbottom");void 0!==f&&1==f&&t.find(".js-font-style-border-bottom").addClass("active");var h=e.get("italic");void 0!==h&&1==h&&t.find(".js-font-style-italic").addClass("active");var v=e.get("underline");void 0!==v&&1==v&&t.find(".js-font-style-underline").addClass("active");var b=e.get("caps");void 0!==b&&1==b&&t.find(".js-font-style-caps").addClass("active");var y=e.get("spacebottommu");void 0===y&&(y="px"),t.find('.space-bottom-mu option[value="'+y+'"]').attr("selected","selected");var j=e.get("spacetopmu");void 0===j&&(j="px"),t.find('.space-top-mu option[value="'+j+'"]').attr("selected","selected");var S=e.get("phone-spacebottommu");void 0===S&&(S="px"),t.find('.phone-space-bottom-mu option[value="'+S+'"]').attr("selected","selected");var x=e.get("phone-spacetopmu");void 0===x&&(x="px"),t.find('.phone-space-top-mu option[value="'+x+'"]').attr("selected","selected");var w=e.get("tablet-spacebottommu");void 0===w&&(w="px"),t.find('.tablet-space-bottom-mu option[value="'+w+'"]').attr("selected","selected");var z=e.get("tablet-spacetopmu");void 0===z&&(z="px"),t.find('.tablet-space-top-mu option[value="'+z+'"]').attr("selected","selected")};var l=function(){var t=s(".js-format-name-input").val(),a=s(".js-format-type").val();s(".js-format-name-input").val("").removeClass("parsley-success"),s(".js-add-format").attr("disabled","disabled");var i=s(".js-copy-formats").val(),l=null;""==i?l=new o.Model({formatname:t,type:a,fontfamily:"helvetica,sans-serif",fontsize:"16",fontsizemu:"px",fontweight:"400",color:"#000",lineheight:"1.2",letterspacing:"0",spacebottom:"20",spacebottommu:"px",spacetop:"0",spacetopmu:"px",textalign:"left","text-indent":"0","phone-spacetop":"0","phone-spacetopmu":"px","phone-spacebottom":"20","phone-spacebottommu":"px","phone-fontsize":"16","phone-fontsizemu":"px","tablet-spacetop":"0","tablet-spacetopmu":"px","tablet-spacebottom":"20","tablet-spacebottommu":"px","tablet-fontsize":"16","tablet-fontsizemu":"px",italic:!1,underline:!1,borderbottom:!1,caps:!1}):n.rowsView.collection.each(function(e){if(e.get("formatname")==i){var s=e.get("phone-spacetop");void 0===s&&(s=e.get("spacetop"));var n=e.get("phone-spacebottom");void 0===n&&(n=e.get("spacebottom"));var p=e.get("phone-fontsize");void 0===p&&(p="16");var r=e.get("phone-fontsizemu");void 0===r&&(r="px");var d=e.get("tablet-spacetop");void 0===d&&(d=e.get("spacetop"));var c=e.get("tablet-spacebottom");void 0===c&&(c=e.get("spacebottom"));var u=e.get("tablet-fontsize");void 0===u&&(u="16");var m=e.get("tablet-fontsizemu");void 0===m&&(m="px");var g=e.get("textindent");void 0===g&&(g=0);var f=e.get("fontsizemu");void 0===f&&(f="px");var h=e.get("spacebottommu");void 0===h&&(h="px");var v=e.get("spacetopmu");void 0===v&&(v="px");var b=e.get("phone-spacebottommu");void 0===b&&(b="px");var y=e.get("phone-spacetopmu");void 0===y&&(y="px");var j=e.get("tablet-spacebottommu");void 0===j&&(j="px");var S=e.get("tablet-spacetopmu");void 0===S&&(S="px");var x=e.get("caps");void 0===x&&(x=!1);var w=e.get("underline");void 0===w&&(w=!1);var z=e.get("borderbottom");void 0===z&&(z=!1);var P=e.get("italic");void 0===P&&(P=!1),l=new o.Model({formatname:t,type:a,fontfamily:e.get("fontfamily"),fontsize:e.get("fontsize"),fontsizemu:f,fontweight:e.get("fontweight"),color:e.get("color"),lineheight:e.get("lineheight"),letterspacing:e.get("letterspacing"),spacebottom:e.get("spacebottom"),spacebottommu:h,spacetop:e.get("spacetop"),spacetopmu:v,textalign:e.get("textalign"),"text-indent":g,"phone-spacetop":s,"phone-spacetopmu":y,"phone-spacebottom":n,"phone-spacebottommu":b,"phone-fontsize":p,"phone-fontsizemu":r,"tablet-spacetop":d,"tablet-spacetopmu":S,"tablet-spacebottom":c,"tablet-spacebottommu":j,"tablet-fontsize":u,"tablet-fontsizemu":m,italic:P,underline:w,borderbottom:z,caps:x})}}),n.rowsView.collection.add(l),e.module("Entities").API.updateJSON(),s('[data-toggle="tooltip"]').tooltip({container:"#formatsmanager"})},p=function(t){n.rowsView.collection.remove(t),e.module("Entities").API.updateJSON()},r=function(e){n.rowsView=new t.Rows({collection:e}),d()},d=function(){}}),FormatsManager.module("Row",function(t,e,o,a,s,i){t.Row=a.ItemView.extend({template:"#row-view",tagName:"tbody",templateHelpers:function(){var t=this.model;return{showFormatName:function(){return t.get("formatname")},showFormatType:function(){return t.get("type")},showText:function(){switch(t.get("type")){case"Paragraph":return"Paragraph ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.";case"Headline":return"Headline ipsum dolor sit amet, consectetur adipisicing elit";case"Character":return"Character ipsum dolor sit amet, consectetur adipisicing elit"}},getStyleDesktop:function(){var e="font-family:"+t.get("fontfamily")+";",o=t.get("fontsizemu");void 0===o&&(o="px");var a=t.get("textindent");void 0===a&&(a="0");var s=t.get("borderbottom");s=void 0!==s&&1==s?"border-bottom:1px solid;display:inline;":"";var i=t.get("italic");i=void 0!==i&&1==i?"font-style:italic;":"";var n=t.get("underline");n=void 0!==n&&1==n?"text-decoration:underline;":"";var l=t.get("caps");return l=void 0!==l&&1==l?"text-transform:uppercase;":"",String()+'style="font-size:'+t.get("fontsize")+o+";color:"+t.get("color")+";line-height:"+t.get("lineheight")+";letter-spacing:"+t.get("letterspacing")+"em;"+e+"text-align:"+t.get("textalign")+";font-weight:"+t.get("fontweight")+";text-indent:"+a+"em;"+s+i+n+l+'"'},getStyleTablet:function(){var e="font-family:"+t.get("fontfamily")+";",o=t.get("tablet-fontsizemu");void 0===o&&(o="px");var a=t.get("textindent");void 0===a&&(a="0");var s=t.get("tablet-fontsize");void 0===s&&(s="16");var i=t.get("borderbottom");i=void 0!==i&&1==i?"border-bottom:1px solid;display:inline;":"";var n=t.get("italic");n=void 0!==n&&1==n?"font-style:italic;":"";var l=t.get("underline");l=void 0!==l&&1==l?"text-decoration:underline;":"";var p=t.get("caps");return p=void 0!==p&&1==p?"text-transform:uppercase;":"",String()+'style="font-size:'+s+o+";color:"+t.get("color")+";line-height:"+t.get("lineheight")+";letter-spacing:"+t.get("letterspacing")+"em;"+e+"text-align:"+t.get("textalign")+";font-weight:"+t.get("fontweight")+";text-indent:"+a+"em;"+i+n+l+p+'"'},getStylePhone:function(){var e="font-family:"+t.get("fontfamily")+";",o=t.get("phone-fontsizemu");void 0===o&&(o="px");var a=t.get("textindent");void 0===a&&(a="0");var s=t.get("phone-fontsize");void 0===s&&(s="16");var i=t.get("borderbottom");i=void 0!==i&&1==i?"border-bottom:1px solid;display:inline;":"";var n=t.get("italic");n=void 0!==n&&1==n?"font-style:italic;":"";var l=t.get("underline");l=void 0!==l&&1==l?"text-decoration:underline;":"";var p=t.get("caps");return p=void 0!==p&&1==p?"text-transform:uppercase;":"",String()+'style="font-size:'+s+o+";color:"+t.get("color")+";line-height:"+t.get("lineheight")+";letter-spacing:"+t.get("letterspacing")+"em;"+e+"text-align:"+t.get("textalign")+";font-weight:"+t.get("fontweight")+";text-indent:"+a+"em;"+i+n+l+p+'"'},getSpaceBottomStyleDesktop:function(){if("Character"!=t.get("type")){var e=t.get("spacebottommu");return void 0===e&&(e="px"),String()+'style="height:'+t.get("spacebottom")+e+';"'}return String()+'style="height:0;"'},getSpaceTopStyleDesktop:function(){if("Character"!=t.get("type")){var e=t.get("spacetopmu");return void 0===e&&(e="px"),String()+'style="height:'+t.get("spacetop")+e+';"'}return String()+'style="height:0;"'},getSpaceBottomStylePhone:function(){if("Character"!=t.get("type")){var e=t.get("phone-spacebottom");void 0===e&&(e="20");var o=t.get("phone-spacebottommu");return void 0===o&&(o="px"),String()+'style="height:'+e+o+';"'}return String()+'style="height:0;"'},getSpaceTopStylePhone:function(){if("Character"!=t.get("type")){var e=t.get("phone-spacetop");void 0===e&&(e="0");var o=t.get("phone-spacetopmu");return void 0===o&&(o="px"),String()+'style="height:'+e+o+';"'}return String()+'style="height:0;"'},getSpaceBottomStyleTablet:function(){if("Character"!=t.get("type")){var e=t.get("tablet-spacebottom");void 0===e&&(e="20");var o=t.get("tablet-spacebottommu");return void 0===o&&(o="px"),String()+'style="height:'+e+o+';"'}return String()+'style="height:0;"'},getSpaceTopStyleTablet:function(){if("Character"!=t.get("type")){var e=t.get("tablet-spacetop");void 0===e&&(e="0");var o=t.get("tablet-spacetopmu");return void 0===o&&(o="px"),String()+'style="height:'+e+o+';"'}return String()+'style="height:0;"'}}},events:{"click .js-font-style-italic":"toggleItalic","click .js-font-style-underline":"toggleUnderline","click .js-font-style-border-bottom":"toggleBorderBottom","click .js-font-style-caps":"toggleCaps","click .js-delete-row":"deleteRow","change .font-size-mu":"updateFontMu","change .font-select":"updateFont","change .font-weight-select":"updateFontWeight","input .font-size":"updateFontSize","input .line-height":"updateLineHeight","input .letter-spacing":"updateLetterSpacing","input .space-bottom":"updateSpaceBottom","input .space-top":"updateSpaceTop","input .text-indent":"updateTextIndent","click .align-js":"updateTextAlign","change .phone-font-size-mu":"phoneUpdateFontMu","input .phone-font-size":"phoneUpdateFontSize","input .phone-space-bottom":"phoneUpdateSpaceBottom","input .phone-space-top":"phoneUpdateSpaceTop","change .tablet-font-size-mu":"tabletUpdateFontMu","input .tablet-font-size":"tabletUpdateFontSize","input .tablet-space-bottom":"tabletUpdateSpaceBottom","input .tablet-space-top":"tabletUpdateSpaceTop","change .space-bottom-mu":"updateSpaceBottomMu","change .space-top-mu":"updateSpaceTopMu","change .phone-space-bottom-mu":"phoneUpdateSpaceBottomMu","change .phone-space-top-mu":"phoneUpdateSpaceTopMu","change .tablet-space-bottom-mu":"tabletUpdateSpaceBottomMu","change .tablet-space-top-mu":"tabletUpdateSpaceTopMu"},toggleCaps:function(t){s(t.currentTarget).toggleClass("active"),s(t.currentTarget).hasClass("active")?(this.model.set("caps",!0),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css("text-transform","uppercase")):(this.model.set("caps",!1),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css("text-transform","")),e.module("Entities").API.updateJSON()},toggleBorderBottom:function(t){if(s(t.currentTarget).toggleClass("active"),s(t.currentTarget).hasClass("active")){var o=this.model.get("underline");void 0!==o&&1==o&&this.$el.find(".js-font-style-underline").click(),this.model.set("borderbottom",!0),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css({"border-bottom":"1px solid",display:"inline"})}else this.model.set("borderbottom",!1),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css({"border-bottom":"",display:""});e.module("Entities").API.updateJSON()},toggleUnderline:function(t){if(s(t.currentTarget).toggleClass("active"),s(t.currentTarget).hasClass("active")){var o=this.model.get("borderbottom");void 0!==o&&1==o&&this.$el.find(".js-font-style-border-bottom").click(),this.model.set("underline",!0),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css("text-decoration","underline")}else this.model.set("underline",!1),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css("text-decoration","");e.module("Entities").API.updateJSON()},toggleItalic:function(t){s(t.currentTarget).toggleClass("active"),s(t.currentTarget).hasClass("active")?(this.model.set("italic",!0),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css("font-style","italic")):(this.model.set("italic",!1),this.$el.find(".js-phone-style, .js-phone-style p, .js-tablet-style, .js-tablet-style p, .js-desktop-style, .js-desktop-style p").css("font-style","")),e.module("Entities").API.updateJSON()},phoneUpdateFontSize:function(t){var o=t.target.value,a=this.model.get("phone-fontsizemu");void 0===a&&(a="px"),this.$el.find(".js-phone-style, .js-phone-style p").css("font-size",o+a),this.model.set("phone-fontsize",o),e.module("Entities").API.updateJSON()},tabletUpdateFontSize:function(t){var o=t.target.value,a=this.model.get("tablet-fontsizemu");void 0===a&&(a="px"),this.$el.find(".js-tablet-style, .js-tablet-style p").css("font-size",o+a),this.model.set("tablet-fontsize",o),e.module("Entities").API.updateJSON()},updateFontSize:function(t){var o=t.target.value,a=this.model.get("fontsizemu");void 0===a&&(a="px"),this.$el.find(".js-desktop-style, .js-desktop-style p").css("font-size",o+a),this.model.set("fontsize",o),e.module("Entities").API.updateJSON()},phoneUpdateFontMu:function(t){var o=t.target.value;this.model.set("phone-fontsizemu",o);var a="vw"==o?4:16;this.model.set("phone-fontsize",a),this.$el.find(".js-phone-style, .js-phone-style p").css("font-size",a+o),this.$el.find(".phone-font-size").val(a),e.module("Entities").API.updateJSON()},tabletUpdateFontMu:function(t){var o=t.target.value;this.model.set("tablet-fontsizemu",o);var a="vw"==o?4:16;this.model.set("tablet-fontsize",a),this.$el.find(".js-tablet-style, .js-tablet-style p").css("font-size",a+o),this.$el.find(".tablet-font-size").val(a),e.module("Entities").API.updateJSON()},updateFontMu:function(t){var o=t.target.value;this.model.set("fontsizemu",o);var a="vw"==o?4:16;this.model.set("fontsize",a),this.$el.find(".js-desktop-style, .js-desktop-style p").css("font-size",a+o),this.$el.find(".font-size").val(a),e.module("Entities").API.updateJSON()},updateTextAlign:function(t){var o=s(t.currentTarget),a=o.attr("data-align");s("button.align-js").removeClass("active"),o.addClass("active"),this.$el.find(".js-style, .js-style p").css("text-align",a),this.model.set("textalign",a),e.module("Entities").API.updateJSON()},updateSpaceBottom:function(t){var o=t.target.value,a=this.model.get("spacebottommu");void 0===a&&(a="px"),this.$el.find(".js-desktop-spacebottom").css("height",o+a),this.model.set("spacebottom",o),e.module("Entities").API.updateJSON()},updateSpaceBottomMu:function(t){var o=t.target.value;this.model.set("spacebottommu",o);var a=this.model.get("spacebottom");this.$el.find(".js-desktop-spacebottom").css("height",a+o),e.module("Entities").API.updateJSON()},updateSpaceTop:function(t){var o=t.target.value,a=this.model.get("spacetopmu");void 0===a&&(a="px"),this.$el.find(".js-desktop-spacetop").css("height",o+a),this.model.set("spacetop",o),e.module("Entities").API.updateJSON()},updateSpaceTopMu:function(t){var o=t.target.value;this.model.set("spacetopmu",o);var a=this.model.get("spacetop");this.$el.find(".js-desktop-spacetop").css("height",a+o),e.module("Entities").API.updateJSON()},phoneUpdateSpaceBottom:function(t){var o=t.target.value,a=this.model.get("phone-spacebottommu");void 0===a&&(a="px"),this.$el.find(".js-phone-spacebottom").css("height",o+a),this.model.set("phone-spacebottom",o),e.module("Entities").API.updateJSON()},phoneUpdateSpaceBottomMu:function(t){var o=t.target.value;this.model.set("phone-spacebottommu",o);var a=this.model.get("phone-spacebottom");this.$el.find(".js-phone-spacebottom").css("height",a+o),e.module("Entities").API.updateJSON()},phoneUpdateSpaceTop:function(t){var o=t.target.value,a=this.model.get("phone-spacetopmu");void 0===a&&(a="px"),this.$el.find(".js-phone-spacetop").css("height",o+a),this.model.set("phone-spacetop",o),e.module("Entities").API.updateJSON()},tabletUpdateSpaceTopMu:function(t){var o=t.target.value;this.model.set("tablet-spacetopmu",o);var a=this.model.get("tablet-spacetop");this.$el.find(".js-tablet-spacetop").css("height",a+o),e.module("Entities").API.updateJSON()},tabletUpdateSpaceBottom:function(t){var o=t.target.value,a=this.model.get("tablet-spacebottommu");void 0===a&&(a="px"),this.$el.find(".js-tablet-spacebottom").css("height",o+a),this.model.set("tablet-spacebottom",o),e.module("Entities").API.updateJSON()},tabletUpdateSpaceBottomMu:function(t){var o=t.target.value;this.model.set("tablet-spacebottommu",o);var a=this.model.get("tablet-spacebottom");this.$el.find(".js-tablet-spacebottom").css("height",a+o),e.module("Entities").API.updateJSON()},tabletUpdateSpaceTop:function(t){var o=t.target.value,a=this.model.get("tablet-spacetopmu");void 0===a&&(a="px"),this.$el.find(".js-tablet-spacetop").css("height",o+a),this.model.set("tablet-spacetop",o),e.module("Entities").API.updateJSON()},tabletUpdateSpaceTopMu:function(t){var o=t.target.value;this.model.set("tablet-spacetopmu",o);var a=this.model.get("tablet-spacetop");this.$el.find(".js-tablet-spacetop").css("height",a+o),e.module("Entities").API.updateJSON()},updateLineHeight:function(t){var o=t.target.value;this.$el.find(".js-style, .js-style p").css("line-height",o),this.model.set("lineheight",o),e.module("Entities").API.updateJSON()},updateFont:function(t){var o=t.target.value;this.$el.find(".js-style, .js-style p").css("font-family",o),this.model.set("fontfamily",o),e.module("Entities").API.updateJSON()},updateFontWeight:function(t){var o=t.target.value;this.$el.find(".js-style, .js-style p").css("font-weight",o),this.model.set("fontweight",o),e.module("Entities").API.updateJSON()},updateLetterSpacing:function(t){var o=t.target.value;this.$el.find(".js-style, .js-style p").css("letter-spacing",o+"em"),this.model.set("letterspacing",o),e.module("Entities").API.updateJSON()},updateTextIndent:function(t){var o=t.target.value;this.$el.find(".js-style, .js-style p").css("text-indent",o+"em"),this.model.set("textindent",o),e.module("Entities").API.updateJSON()},updateColor:function(t){this.$el.find(".js-style, .js-style p").css("color",t),this.model.set("color",t),e.module("Entities").API.updateJSON(),this.updatePreviewBgColor()},deleteRow:function(e){e.preventDefault(),t.API.deleteFontRow(this.model)},onRender:function(){t.setInputAttrs(this.$el,this.model);var e=this;this.$el.find(".colorpicker").wpColorPicker({hide:!0,palettes:["#000","#fff","#f00","#0f0","#00f","#ff0","#0ff","#f0f"],change:function(t,o){e.updateColor(o.color.toString())}}),e.updatePreviewBgColor()},updatePreviewBgColor:function(){"#ffffff"==this.model.get("color")?this.$el.find(".format-preview-wrap").css("background-color","rgb(235, 235, 235)"):this.$el.find(".format-preview-wrap").css("background-color","")}}),t.Rows=a.CompositeView.extend({tagName:"div",template:"#row-composite-view",childViewContainer:".js-formats-table",childView:t.Row,events:{"click .js-add-format":"addFormat"},addFormat:function(e){e.preventDefault(),t.API.insertRow()}})});