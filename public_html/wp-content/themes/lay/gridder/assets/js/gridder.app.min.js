!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=78)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactRedux},function(e,t,n){"use strict";function o(){return{type:de.CHANGE_BREAKPOINT}}function r(e){return{type:de.CHANGE_GUIDES_VISIBILITY,guidesVisibility:e}}function i(e){return{type:de.CHANGE_COLUMN_GUTTER,colGutter:e}}function s(e){return{type:de.CHANGE_ROW_GUTTERS,rowGutter:e}}function a(e){return{type:de.CHANGE_TOP_FRAME_MARGIN,topFrameMargin:e}}function l(e){return{type:de.CHANGE_BOTTOM_FRAME_MARGIN,bottomFrameMargin:e}}function c(e){return{type:de.CHANGE_FRAME_MARGIN,frameMargin:e}}function u(e){return{type:de.TOGGLE_SELECTED_ELEMENT,selectedElementId:e}}function p(e){return{type:de.SET_SELECTED_ELEMENTS,selectedElementsId:e}}function d(e){return{type:de.SHIFT_SELECTED_ELEMENTS,shiftElementId:e}}function f(e){return{type:de.TOGGLE_SELECTED_ROW_GUTTER,selectedRowGutter:e}}function h(e){return{type:de.SET_SELECTED_ROW_GUTTERS,selectedRowGutters:e}}function m(e){return{type:de.CHANGE_ALIGN_OF_SELECTED_ELEMENTS,align:e}}function g(e){return{type:de.SET_CONTENT_WRAPPER_WIDTH,width:e}}function y(e){return{type:de.SET_BACKGROUND_COLOR,bgColor:e}}function E(e){return{type:de.SET_HEADER_HEIGHT,headerHeight:e}}function b(e,t){return{type:de.START_DND,relid:e,event:t}}function v(e,t,n,o){return{type:de.START_RESIZE,relid:e,event:t,directionIsLeft:n,altKeyPressed:o}}function _(e){return{type:de.SET_NOTICE,reason:e}}function w(){return{type:de.UNSET_NOTICE}}function O(e){return{type:de.INSERT_ROW,rowIndex:e}}function C(e){return{type:de.MOVE_UP_ROW,rowIndex:e}}function T(e){return{type:de.MOVE_DOWN_ROW,rowIndex:e}}function A(e){return{type:de.DELETE_ROW,rowIndex:e}}function N(e,t){return{type:de.SET_ROW_ATTR_100vh,row:e,row100vh:t}}function j(e,t){return{type:de.SET_ROW_ATTR_BGCOLOR,row:e,bgcolor:t}}function S(e,t){return{type:de.CHANGE_ELEMENT_SPACE_ABOVE,relid:e,spaceabove:t}}function M(e,t){return{type:de.CHANGE_ELEMENT_SPACE_BELOW,relid:e,spacebelow:t}}function k(e,t){return{type:de.CHANGE_ELEMENT_OFFSET_X,relid:e,offsetx:t}}function x(e,t){return{type:de.CHANGE_ELEMENT_OFFSET_Y,relid:e,offsety:t}}function P(e,t){return{type:de.CHANGE_ELEMENT_YVEL,relid:e,yvel:t}}function D(e,t){return{type:de.CHANGE_IS_SCROLL_TO_TOP,relid:e,isscrolltotop:t}}function L(e,t){return{type:de.CHANGE_LB_OFF,relid:e,lightboxoff:t}}function R(e){return{type:de.SET_ADD_ELEMENTS,cont:e}}function I(e,t){return{type:de.SET_ELEMENT_CONTENT,relid:e,cont:t}}function G(e){return{type:de.SET_ELEMENT_DO_SYNC,relid:e}}function H(e){return{type:de.SET_ELEMENT_DO_NOT_SYNC,relid:e}}function B(e){return{type:de.MAYBE_SYNC_ELEMENT,relid:e}}function F(e,t,n,o,r){return{type:de.CHANGE_ADD_ELEMENT_POSITION,row:e,col:t,colspan:n,align:o,rowOffset:r}}function U(e){return{type:de.ADD_ELEMENT_TO_CONT,cont:e}}function W(e){return{type:de.DELETE_ELEMENTS,relids:e}}function z(e){return{type:de.OPEN_MODAL_ADD,elementType:e}}function V(e,t){return{type:de.OPEN_MODAL_EDIT,relid:e,target:t}}function Y(){return{type:de.CLOSE_MODAL}}function K(){return{type:de.DELETE_ADD_ELEMENTS}}function X(e,t){return void 0===t&&(t=null),{type:de.SET_TEMPLATE,templateDesktopJson:e,templatePhoneJson:t}}function J(){return{type:de.INIT_ROW_ATTRS}}function q(e,t){return{type:de.SET_ROW_ATTRS,row:e,cont:t}}function Z(e){return{type:de.OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID,relid:e}}function $(e){return{type:de.OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE,relid:e}}function Q(e){return{type:de.OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID,row:e}}function ee(e){return{type:de.OPEN_MODAL_EDIT_ROW_BG_VIDEO,row:e}}function te(e){return{type:de.OPEN_MODAL_EDIT_ROW_BG_IMAGE,row:e}}function ne(e){return{type:de.SET_GRIDDER_JSON_FIELD,jsonField:e}}function oe(e){return{type:de.SET_PHONE_GRIDDER_JSON_FIELD,jsonField:e}}function re(){return{type:de.CREATE_STACKED_PHONE_LAYOUT}}function ie(){return{type:de.CREATE_EMPTY_PHONE_LAYOUT}}function se(){return{type:de.CREATE_COPIED_PHONE_LAYOUT}}function ae(){return{type:de.DELETE_PHONE_LAYOUT}}function le(e){return{type:de.UPDATE_ELEMENTS_HEIGHT,elementsHeight:e}}function ce(e){return{type:de.UPDATE_ROWS_HEIGHT,rowsHeight:e}}function ue(e){return{type:de.UPDATE_ROWS_TOP,rowsTop:e}}function pe(e,t){return{type:de.UPDATE_THUMBNAILS_OF_CATEGORY,catId:e,posts:t}}Object.defineProperty(t,"__esModule",{value:!0});var de=n(8);t.changeBreakpointAction=o,t.changeGuidesVisibilityAction=r,t.changeColumnGutterAction=i,t.changeRowGuttersAction=s,t.changeTopFrameMarginAction=a,t.changeBottomFrameMarginAction=l,t.changeFrameMarginAction=c,t.toggleSelectedElementIdAction=u,t.setSelectedElementsIdAction=p,t.shiftSelectedElementsIdAction=d,t.toggleSelectedRowGutterAction=f,t.setSelectedRowGuttersAction=h,t.changeAlignOfSelectedElementsAction=m,t.setContentWrapperWidthAction=g,t.setBackgroundColorAction=y,t.setHeaderHeightAction=E,t.startDndAction=b,t.startResizeAction=v,t.setNoticeAction=_,t.unsetNoticeAction=w,t.insertRowAction=O,t.moveUpRowAction=C,t.moveDownRowAction=T,t.deleteRowAction=A,t.setRowAttr100vhAction=N,t.setRowAttrBgcolorAction=j,t.changeElementSpaceAboveAction=S,t.changeElementSpaceBelowAction=M,t.changeElementOffsetXAction=k,t.changeElementOffsetYAction=x,t.changeElementYvel=P,t.changeElementIsScrollToTop=D,t.changeElementLbOff=L,t.setAddElementsAction=R,t.setElementContentAction=I,t.setElementDoSyncAction=G,t.setElementDoNotSyncAction=H,t.maybeSyncElementAction=B,t.changeAddElementPositionAction=F,t.addElementToContAction=U,t.deleteElementsAction=W,t.openModalAddAction=z,t.openModalEditAction=V,t.closeModalAction=Y,t.deleteAddElements=K,t.setTemplateAction=X,t.initRowAttrsAction=J,t.setRowAttrsAction=q,t.openModalEditElementClassesHtmlIdAction=Z,t.openModalEditElementLinkImageAction=$,t.openModalEditRowClassesHtmlIdAction=Q,t.openModalEditRowBgVideoAction=ee,t.openModalEditRowBgImageAction=te,t.setGridderJsonFieldAction=ne,t.setPhoneGridderJsonFieldAction=oe,t.createStackedPhoneLayoutAction=re,t.createEmptyPhoneLayoutAction=ie,t.createCopiedPhoneLayoutAction=se,t.deletePhoneLayoutAction=ae,t.updateElementsHeightAction=le,t.updateRowsHeightAction=ce,t.updateRowsTopAction=ue,t.updateThumbnailsOfCategoryAction=pe},function(e,t){e.exports=Redux},function(e,t,n){"use strict";function o(e){if(!(e instanceof Object))return null;var t={};return e.hasOwnProperty("colCount")&&(t.colCount=Number(e.colCount)),e.hasOwnProperty("colGutter")&&(t.colGutter=Number(e.colGutter)),e.hasOwnProperty("rowGutters")&&(t.rowGutters=r(e.rowGutters)),e.hasOwnProperty("frameMargin")&&(t.frameMargin=Number(e.frameMargin)),e.hasOwnProperty("topFrameMargin")&&(t.topFrameMargin=Number(e.topFrameMargin)),e.hasOwnProperty("bottomFrameMargin")&&(t.bottomFrameMargin=Number(e.bottomFrameMargin)),e.hasOwnProperty("rowAttrs")&&(t.rowAttrs=i(e.rowAttrs)),e.hasOwnProperty("bgColor")&&(null===e.bgColor?t.bgColor=null:t.bgColor=String(e.bgColor)),e.hasOwnProperty("cont")&&(t.cont=c(e.cont)),t}function r(e){if(!(e instanceof Array))return new Array;for(var t=new Array,n=0,o=e;n<o.length;n++){var r=o[n];t.push(Number(r))}return t}function i(e){if(!(e instanceof Array))return new Array;for(var t=new Array,n=0,o=e;n<o.length;n++){var r=o[n];t.push(s(r))}return t}function s(e){if(!(e instanceof Object))return{};var t={};return e.hasOwnProperty("bgcolor")&&""!==String(e.bgcolor)&&(t.bgcolor=String(e.bgcolor)),e.hasOwnProperty("bgvideo")&&null!==e.bgvideo&&(t.bgvideo=l(e.bgvideo)),e.hasOwnProperty("bgimage")&&null!==e.bgimage&&(t.bgimage=a(e.bgimage)),e.hasOwnProperty("row100vh")&&(t.row100vh=Boolean(e.row100vh)),e.hasOwnProperty("html_id")&&""!==String(e.html_id)&&(t.html_id=String(e.html_id)),e.hasOwnProperty("classes")&&""!==String(e.classes)&&(t.classes=String(e.classes)),t}function a(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("attid")&&(t.attid=Number(e.attid)),e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("sizes")&&(t.sizes=d(e.sizes)),t}function l(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("mp4")&&(t.mp4=String(e.mp4)),e.hasOwnProperty("mp4Ar")&&(t.mp4Ar=Number(e.mp4Ar)),e.hasOwnProperty("filename")&&(t.filename=String(e.filename)),e.hasOwnProperty("image")&&(t.image=h(e.image)),e.hasOwnProperty("imageAr")&&null!==e.imageAr&&(t.imageAr=Number(e.imageAr)),t}function c(e){if(!(e instanceof Array))return new Array;for(var t=new Array,n=0,o=e;n<o.length;n++){var r=o[n];t.push(u(r))}return t}function u(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("type")&&(e.type===O.IMAGE&&e.hasOwnProperty("postid")?t.type=O.POST_THUMBNAIL:e.type===O.PROJECT?t.type=O.POST_THUMBNAIL:t.type=e.type),e.hasOwnProperty("cont")&&t.type===O.STACK&&(t.cont=c(e.cont)),e.hasOwnProperty("align")&&(t.align=String(e.align)),e.hasOwnProperty("row")&&(t.row=Number(e.row)),e.hasOwnProperty("col")&&(t.col=Number(e.col)),e.hasOwnProperty("colspan")&&(t.colspan=Number(e.colspan)),e.hasOwnProperty("frameOverflow")&&-1!==["right","left","both"].indexOf(e.frameOverflow)&&(t.frameOverflow=e.frameOverflow),e.hasOwnProperty("offsetx")&&(t.offsetx=Number(e.offsetx)),e.hasOwnProperty("offsety")&&(t.offsety=Number(e.offsety)),e.hasOwnProperty("spaceabove")&&(t.spaceabove=Number(e.spaceabove)),e.hasOwnProperty("spacebelow")&&(t.spacebelow=Number(e.spacebelow)),e.hasOwnProperty("push")&&(t.push=Number(e.push)),e.hasOwnProperty("relid")&&(t.relid=Number(e.relid)),e.hasOwnProperty("attid")&&(t.attid=Number(e.attid)),e.hasOwnProperty("sizes")&&(t.sizes=p(e.sizes)),e.hasOwnProperty("w")&&(t.w=Number(e.w)),e.hasOwnProperty("h")&&(t.h=Number(e.h)),e.hasOwnProperty("classes")&&(t.classes=String(e.classes)),e.hasOwnProperty("html_id")&&(t.html_id=String(e.html_id)),e.hasOwnProperty("imagelink")&&(t.imagelink=E(e.imagelink)),e.hasOwnProperty("caption")&&(t.caption=String(e.caption)),e.hasOwnProperty("iframe")&&(t.iframe=String(e.iframe)),e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("mp4")&&(t.mp4=String(e.mp4)),e.hasOwnProperty("filename")&&(t.filename=String(e.filename)),e.hasOwnProperty("imgar")&&(t.imgar=Number(e.imgar)),e.hasOwnProperty("loop")&&(t.loop=Boolean(e.loop)),e.hasOwnProperty("mute")&&(t.mute=Boolean(e.mute)),e.hasOwnProperty("autoplay")&&(t.autoplay=Boolean(e.autoplay)),e.hasOwnProperty("controls")&&(t.controls=Boolean(e.controls)),e.hasOwnProperty("playicon")&&(t.playicon=Boolean(e.playicon)),e.hasOwnProperty("dosync")&&(t.dosync=Boolean(e.dosync)),e.hasOwnProperty("ar")&&(t.ar=Number(e.ar)),e.hasOwnProperty("alt")&&(t.alt=String(e.alt)),e.hasOwnProperty("yvel")&&(t.yvel=Number(e.yvel)),e.hasOwnProperty("playpauseonclick")&&(t.playpauseonclick=Boolean(e.playpauseonclick)),e.hasOwnProperty("title")&&(t.title=String(e.title)),e.hasOwnProperty("postid")&&(t.postid=Number(e.postid)),e.hasOwnProperty("link")&&(t.link=String(e.link)),e.hasOwnProperty("descr")&&(t.descr=String(e.descr)),e.hasOwnProperty("mo_sizes")&&(t.mo_sizes=m(e.mo_sizes)),e.hasOwnProperty("mo_w")&&(t.mo_w=Number(e.mo_w)),e.hasOwnProperty("mo_h")&&(t.mo_h=Number(e.mo_h)),e.hasOwnProperty("video_url")&&(t.video_url=String(e.video_url)),e.hasOwnProperty("video_w")&&(t.video_w=Number(e.video_w)),e.hasOwnProperty("video_h")&&(t.video_h=Number(e.video_h)),e.hasOwnProperty("config")&&(e.type===O.THUMBNAIL_GRID&&(t.config=b(e.config)),e.type===O.ELEMENT_GRID&&(t.config=v(e.config))),e.hasOwnProperty("isscrolltotop")&&(t.isscrolltotop=Boolean(e.isscrolltotop)),e.hasOwnProperty("carousel_options")&&(t.carousel_options=w(e.carousel_options)),e.hasOwnProperty("carousel")&&t.type===O.CAROUSEL&&(t.carousel=c(e.carousel)),e.hasOwnProperty("lightbox_caption")&&(t.lightbox_caption=String(e.lightbox_caption)),e.hasOwnProperty("lightboxoff")&&(t.lightboxoff=Boolean(e.lightboxoff)),t}function p(e){return e instanceof Object?e.hasOwnProperty("full")?m(e):void 0:null}function d(e){return e instanceof Object?e.full instanceof Object?f(e):h(e):null}function f(e){if(!(e instanceof Object))return null;for(var n=e,o=0,r=t.SHORT_SIZES_ARRAY;o<r.length;o++){var i=r[o];e.hasOwnProperty(i)&&(n[i]=y(e[i]))}return e.hasOwnProperty("full")&&(n.full=y(e.full)),n}function h(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("thumbnail")&&(t.thumbnail=g(e.thumbnail)),e.hasOwnProperty("medium")&&(t.medium=g(e.medium)),e.hasOwnProperty("full")&&(t.full=g(e.full)),e.hasOwnProperty("large")&&(t.large=g(e.large)),t}function m(e){if(!(e instanceof Object))return null;for(var n=e,o=0,r=t.SHORT_SIZES_ARRAY;o<r.length;o++){var i=r[o];e.hasOwnProperty(i)&&(n[i]=String(e[i]))}return e.hasOwnProperty("full")&&(n.full=String(e.full)),n}function g(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("height")&&(t.height=Number(e.height)),e.hasOwnProperty("width")&&(t.width=Number(e.width)),e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("orientation")&&(t.orientation=String(e.orientation)),t}function y(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("w")&&(t.w=Number(e.w)),e.hasOwnProperty("h")&&(t.h=Number(e.h)),t}function E(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("url")&&(t.url=String(e.url)),e.hasOwnProperty("id")&&(t.id=Number(e.id)),e.hasOwnProperty("type")&&(t.type=String(e.type)),e.hasOwnProperty("newtab")&&(t.newtab=Boolean(e.newtab)),e.hasOwnProperty("catid")&&(t.catid=Number(e.catid)),e.hasOwnProperty("title")&&(t.title=String(e.title)),t}function b(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("desktop")&&(t.desktop=_(e.desktop)),e.hasOwnProperty("tablet")&&(t.tablet=_(e.tablet)),e.hasOwnProperty("phone")&&(t.phone=_(e.phone)),e.hasOwnProperty("layoutType")&&(t.layoutType=String(e.layoutType)),e.hasOwnProperty("cat_id")&&(t.cat_id=Number(e.cat_id)),t}function v(e){if(!(e instanceof Object))return null;var t=e;if(e.hasOwnProperty("desktop")&&(t.desktop=_(e.desktop)),e.hasOwnProperty("tablet")&&(t.tablet=_(e.tablet)),e.hasOwnProperty("phone")&&(t.phone=_(e.phone)),e.hasOwnProperty("layoutType")&&(t.layoutType=String(e.layoutType)),e.hasOwnProperty("elements")){var n=[];if(e.elements instanceof Array)for(var o=0,r=e.elements;o<r.length;o++){var i=r[o];n.push(u(i))}t.elements=n}return t}function _(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("colCount")&&(t.colCount=Number(e.colCount)),e.hasOwnProperty("colGutter")&&(t.colGutter=Number(e.colGutter)),e.hasOwnProperty("rowGutter")&&(t.rowGutter=Number(e.rowGutter)),t}function w(e){if(!(e instanceof Object))return null;var t=e;return e.hasOwnProperty("random")&&(t.random=Boolean(e.random)),e.hasOwnProperty("autoplay")&&(t.autoplay=Boolean(e.autoplay)),e.hasOwnProperty("customAspectRatio")&&(t.customAspectRatio=Boolean(e.customAspectRatio)),e.hasOwnProperty("customAspectRatioW")&&(t.customAspectRatioW=Number(e.customAspectRatioW)),e.hasOwnProperty("customAspectRatioH")&&(t.customAspectRatioH=Number(e.customAspectRatioH)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.castJsonFieldType=o,t.castRowGutters=r,t.castRowAttrs=i,t.castRowAttr=s,t.castBgImage=a,t.castBgVideo=l;var O;!function(e){e.TEXT="text",e.IMAGE="img",e.HTML5VIDEO="html5video",e.YOUTUBE_VIMEO_VIDEO="video",e.POST_THUMBNAIL="postThumbnail",e.ELEMENT_GRID="elementgrid",e.THUMBNAIL_GRID="thumbnailgrid",e.EMBED="embed",e.HORIZONTAL_LINE="hr",e.HTML="html",e.STACK="stack",e.SHORTCODE="shortcode",e.CAROUSEL="carousel",e.PROJECT="project"}(O=t.ElementTypeEnum||(t.ElementTypeEnum={})),t.castCont=c,t.castElement=u,t.castSizes=p,t.castBgSizes=d,t.castLTBgSizes=f,t.castFullSizes=h,t.SHORT_SIZES_ARRAY=["_4096","_3840","_3200","_2560","_1920","_1280","_1024","_768","_512","_265"],t.castShortSizes=m,t.castImageSize=g,t.castLTBgSize=y,t.castImageLink=E,t.castThumbnailGridConfig=b,t.castElementGridConfig=v,t.castGridConfigLayout=_,t.castCarouselOptions=w;!function(e){e.CAPTION="caption",e.LIGHTBOX_CAPTION="lightbox_caption",e.CONT="cont"}(t.ElementAttributeTargetEnum||(t.ElementAttributeTargetEnum={}))},function(e,t,n){"use strict";function o(e){var t=0;if(e.rowGutters.length>0&&(t=e.rowGutters.length+1),e.rowAttrs.length>0&&(t=Math.max(e.rowAttrs.length,t)),e.cont.length>0){t=Math.max(1,t);for(var n=0,o=e.cont;n<o.length;n++){var r=o[n];t=Math.max(r.row,t)}}return t}function r(e){return s(e.full)}function i(e){var t={};t={full:s(e.full.url)};for(var n=0,o=A.SHORT_SIZES_ARRAY;n<o.length;n++){var r=o[n];e.hasOwnProperty(r)&&(t[r]=s(e[r].url))}return t}function s(e){return"string"==typeof e&&e.startsWith(N.default.siteUrl)?e.slice(N.default.siteUrl.length):e}function a(e){return"string"!=typeof e||e.startsWith("http")||e.startsWith("mailto:")?e:N.default.siteUrl+e}function l(e,t){return e.row<t.row?-1:e.row>t.row?1:e.col<t.col?-1:e.col>t.col?1:0}function c(e,t){var n=0,o=0,r=0,i=0,s=0,a=0,l="";for(var c in e){o=e[c].row,l=e[c].type,i=e[c].col,s=e[c].colspan;var u=!1;if(null!==t[o]&&void 0!==t[o]&&!0===t[o].row100vh&&(u=!0),o!==r&&(n=0),u&&l===A.ElementTypeEnum.TEXT?a=i:(n>i&&(n=0),a=i-n,n=i+s),e[c].push=a,r=o,e[c].type===A.ElementTypeEnum.STACK)for(var p in e[c].cont)e[c].cont[p].push=e[c].cont[p].col}return e}function u(){setTimeout(function(){void 0!==window.instgrm&&window.instgrm.Embeds.process()},0)}function p(){var e=new Array;return e.push({}),{colCount:Number(N.default.gridderDefaults.colCount),colGutter:Number(N.default.gridderDefaults.colGutter),rowGutters:new Array,frameMargin:Number(N.default.gridderDefaults.frameMargin),topFrameMargin:Number(N.default.gridderDefaults.topFrameMargin),bottomFrameMargin:Number(N.default.gridderDefaults.bottomFrameMargin),rowAttrs:e,bgColor:null,cont:new Array}}function d(){var e=new Array;return e.push({}),{colCount:Number(N.default.gridderDefaults.phoneColCount),colGutter:Number(N.default.gridderDefaults.phoneColGutter),rowGutters:new Array,frameMargin:Number(N.default.gridderDefaults.phoneFrame),topFrameMargin:Number(N.default.gridderDefaults.phoneTopFrame),bottomFrameMargin:Number(N.default.gridderDefaults.phoneBottomFrame),rowAttrs:e,bgColor:null,cont:new Array}}function f(e,t){for(var n=h(e,t),o=0,r=[e,t];o<r.length;o++){var i=r[o];if(null!==i)for(var s=0,a=i.cont;s<a.length;s++){var l=a[s];if(l.hasOwnProperty("relid")||(l.relid=m(n),n.push(l.relid)),l.type===A.ElementTypeEnum.STACK)for(var c=0,u=i.cont;c<u.length;c++){u[c];l.hasOwnProperty("relid")||(l.relid=m(n),n.push(l.relid))}}}}function h(e,t){for(var n=[],o=0,r=[e,t];o<r.length;o++){var i=r[o];if(null!==i)for(var s=0,a=i.cont;s<a.length;s++){var l=a[s];if(l.hasOwnProperty("relid")&&-1===n.indexOf(l.relid)&&n.push(l.relid),l.type===A.ElementTypeEnum.STACK)for(var c=0,u=l.cont;c<u.length;c++){var p=u[c];p.hasOwnProperty("relid")&&-1===n.indexOf(p.relid)&&n.push(p.relid)}}}return n}function m(e){for(var t=-1;;)if(t=Number(T.uniqueId()),-1===e.indexOf(t))return t}function g(e,t,n){void 0===n&&(n=!0);var o=e.length>t,r=o?e.substr(0,t-1):e;return r=n&&o?r.substr(0,r.lastIndexOf(" ")):r,o?r+"&hellip;":r}function y(e){13===e.keyCode&&e.preventDefault()}function E(e){return".gif"===e.substr(e.length-4)}function b(e,t){jQuery("#wpwrap .wrap .updated.error").remove(),jQuery("#wpwrap .wrap").prepend(String()+'<div class="updated error"><p>Your '+t+' Layout\'s JSON was invalidated. Click "Restore last data" to restore your last layout data.</p><p>Please copy the following text and send it to <a href="mailto:'+j.default.supportEmail+'">'+j.default.supportEmail+'</a> with a short description of what you did before this error happened.</p><p>If you like you can create a new layout in the empty Gridder below but then your old layout will be lost for sure.</p><textarea style="width: 100%; height: 200px;" onclick="this.focus();this.select()">'+T.escape(e)+'</textarea><a id="restore-last-data" style="margin-bottom:5px;" class="button button-primary button-large">Restore last data</a></div>'),jQuery("html,body").scrollTop(0),jQuery("#restore-last-data").on("click",function(){jQuery(this).attr("disabled","disabled");var e={action:"get_gridder_revision",id:N.default.id,screen_base:N.default.screenBase};jQuery.post(N.default.ajaxUrl,e,function(e){jQuery("#wpwrap .wrap .updated.error").remove(),setTimeout(function(){document.location.reload()},0)})})}function v(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function _(e){return!!e&&-1!==["both","left"].indexOf(e)}function w(e){return!!e&&-1!==["both","right"].indexOf(e)}function O(e,t){return w(e)?t?"both":"right":t?"left":""}function C(e,t){return _(e)?t?"both":"left":t?"right":""}Object.defineProperty(t,"__esModule",{value:!0});var T=n(17),A=n(4),N=n(6),j=n(7);t.calcRowCount=o,t.getContImageURL=r,t.getRelativeSizes=i,t.getRelativeURL=s,t.getStaticURL=a,t.sortElementFunc=l,t.calcPushes=c,t.processInstagramEmbeds=u,t.getDesktopGridderJsonDefault=p,t.getPhoneGridderJsonDefault=d,t.initRelids=f,t.getRelids=h,t.createUniqueId=m,t.trunc=g,t.preventEnter=y,t.isGif=E,t.showJsonInvalidError=b,t.precisionRound=v,t.isFrameOverflowLeft=_,t.isFrameOverflowRight=w,t.mergeFrameOverflowLeft=O,t.mergeFrameOverflowRight=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=passedData},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={throttleResize:100,throttleMouseMove:10,throttleScroll:50,throttleDrag:50,debounceHandleChangeUrl:200,backgroundColor:{columnsMiddle:"#ccfcca",columnsInsertable:"#96ffff",columnsNotInsertable:"#ff9696",contextMenuRow100hv:"#e6e6e6"},noticeShowTimeout:5e3,noticeAnimateTimeout:350,smallRowHeight:75,emptyRowHeight:.2,minPhoneWidth:200,supportEmail:"info@laytheme.com",website:"http://laytheme.com",postName:"Project"};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXAMPLE="EXAMPLE",t.REDUX_INIT="@@redux/INIT",t.CHANGE_BREAKPOINT="CHANGE_BREAKPOINT",t.CHANGE_COLUMN_COUNT="CHANGE_COLUMN_COUNT",t.CHANGE_COLUMN_GUTTER="CHANGE_COLUMN_GUTTER",t.CHANGE_ROW_GUTTERS="CHANGE_ROW_GUTTERS",t.CHANGE_TOP_FRAME_MARGIN="CHANGE_TOP_FRAME_MARGIN",t.CHANGE_BOTTOM_FRAME_MARGIN="CHANGE_BOTTOM_FRAME_MARGIN",t.CHANGE_FRAME_MARGIN="CHANGE_FRAME_MARGIN",t.CHANGE_GUIDES_VISIBILITY="CHANGE_GUIDES_VISIBILITY",t.SET_NOTICE="SET_NOTICE",t.UNSET_NOTICE="UNSET_NOTICE",t.CHANGE_ALIGN_OF_SELECTED_ELEMENTS="CHANGE_ALIGN_OF_SELECTED_ELEMENTS",t.SET_HEADER_HEIGHT="SET_HEADER_HEIGHT",t.SET_BACKGROUND_COLOR="SET_BACKGROUND_COLOR",t.UPDATE_ELEMENTS_HEIGHT="UPDATE_ELEMENTS_HEIGHT",t.UPDATE_ROWS_HEIGHT="UPDATE_ROWS_HEIGHT",t.UPDATE_ROWS_TOP="UPDATE_ROWS_TOP",t.SET_CONTENT_WRAPPER_WIDTH="SET_CONTENT_WRAPPER_WIDTH",t.INSERT_ROW="INSERT_ROW",t.MOVE_UP_ROW="MOVE_UP_ROW",t.MOVE_DOWN_ROW="MOVE_DOWN_ROW",t.DELETE_ROW="DELETE_ROW",t.INIT_ROW_ATTRS="INIT_ROW_ATTRS",t.SET_ROW_ATTRS="SET_ROW_ATTRS",t.OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID="OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID",t.SET_ROW_ATTR_100vh="SET_ROW_ATTR_100vh",t.SET_ROW_ATTR_BGCOLOR="SET_ROW_ATTR_BGCOLOR",t.OPEN_MODAL_EDIT_ROW_BG_VIDEO="OPEN_MODAL_EDIT_ROW_BG_VIDEO",t.OPEN_MODAL_EDIT_ROW_BG_IMAGE="OPEN_MODAL_EDIT_ROW_BG_IMAGE",t.START_DND="START_DND",t.MOVE_DND="MOVE_DND",t.END_DND="END_DND",t.START_RESIZE="START_RESIZE",t.MOVE_RESIZE="MOVE_RESIZE",t.END_RESIZE="END_RESIZE",t.TOGGLE_SELECTED_ELEMENT="TOGGLE_SELECTED_ELEMENT",t.SET_SELECTED_ELEMENTS="SET_SELECTED_ELEMENTS",t.TOGGLE_SELECTED_ROW_GUTTER="TOGGLE_SELECTED_ROW_GUTTER",t.SET_SELECTED_ROW_GUTTERS="SET_SELECTED_ROW_GUTTERS",t.SHIFT_SELECTED_ELEMENTS="SHIFT_SELECTED_ELEMENTS",t.CHANGE_ELEMENT_SPACE_ABOVE="CHANGE_ELEMENT_SPACE_ABOVE",t.CHANGE_ELEMENT_SPACE_BELOW="CHANGE_ELEMENT_SPACE_BELOW",t.CHANGE_ELEMENT_OFFSET_X="CHANGE_ELEMENT_OFFSET_X",t.CHANGE_ELEMENT_OFFSET_Y="CHANGE_ELEMENT_OFFSET_Y",t.CHANGE_ELEMENT_YVEL="CHANGE_ELEMENT_YVEL",t.CHANGE_IS_SCROLL_TO_TOP="CHANGE_IS_SCROLL_TO_TOP",t.CHANGE_LIGHTBOX_CAPTION="CHANGE_LIGHTBOX_CAPTION",t.CHANGE_LB_OFF="CHANGE_LB_OFF",t.SET_ADD_ELEMENTS="SET_ADD_ELEMENTS",t.DELETE_ADD_ELEMENTS="DELETE_ADD_ELEMENTS",t.CHANGE_ADD_ELEMENT_POSITION="CHANGE_ADD_ELEMENT_POSITION",t.ADD_ELEMENT_TO_CONT="ADD_ELEMENT_TO_CONT",t.DELETE_ELEMENTS="DELETE_ELEMENTS",t.OPEN_MODAL_ADD="OPEN_MODAL_ADD",t.CLOSE_MODAL="CLOSE_MODAL",t.SET_ELEMENT_CONTENT="SET_ELEMENT_CONTENT",t.SET_ELEMENT_DO_SYNC="SET_ELEMENT_DO_SYNC",t.SET_ELEMENT_DO_NOT_SYNC="SET_ELEMENT_DO_NOT_SYNC",t.MAYBE_SYNC_ELEMENT="MAYBE_SYNC_ELEMENT",t.OPEN_MODAL_EDIT="OPEN_MODAL_EDIT",t.OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID="OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID",t.OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE="OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE",t.SET_TEMPLATE="SET_TEMPLATE",t.SET_GRIDDER_JSON_FIELD="SET_GRIDDER_JSON_FIELD",t.SET_PHONE_GRIDDER_JSON_FIELD="SET_PHONE_GRIDDER_JSON_FIELD",t.CREATE_STACKED_PHONE_LAYOUT="CREATE_STACKED_PHONE_LAYOUT",t.CREATE_EMPTY_PHONE_LAYOUT="CREATE_EMPTY_PHONE_LAYOUT",t.CREATE_COPIED_PHONE_LAYOUT="CREATE_COPIED_PHONE_LAYOUT",t.DELETE_PHONE_LAYOUT="DELETE_PHONE_LAYOUT",t.UPDATE_THUMBNAILS_OF_CATEGORY="UPDATE_THUMBNAILS_OF_CATEGORY"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=jQuery},function(e,t,n){"use strict";function o(e){return function(t,n){var o=n();t(l.deleteElementsAction(e)),t(c.updateRowsHeight());var r=!1,i="desktop"===o.currentLayout?o.phone_gridder_json_field:o.gridder_json_field;if(null!==i)for(var s=0,p=i.cont;s<p.length;s++){var d=p[s];if(-1===e.indexOf(d.relid)||void 0!==d.dosync&&!d.dosync){if(d.type===a.ElementTypeEnum.STACK)for(var f=0,h=d.cont;f<h.length;f++){var m=h[f];if(-1!==e.indexOf(m.relid)&&(void 0===m.dosync||m.dosync)){r=!0;break}}}else r=!0;if(!0===r)break}r&&t(u.setNoticeElementsDeletedFromOtherLayoutToo())}}function r(e,t){return function(n,o){n(l.setElementContentAction(e,t)),n(l.maybeSyncElementAction(e))}}function i(e){return function(t,n){t(l.setElementDoSyncAction(e)),t(l.maybeSyncElementAction(e))}}function s(e){return function(t,n){var o=n();null!==o.addElementPosition&&!1===o.addElementPosition.droppable&&t(l.setNoticeAction(p.default.cannotPutElementThere)),t(l.addElementToContAction(e))}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),l=n(2),c=n(12),u=n(107),p=n(16);t.deleteElements=o,t.setElementContent=r,t.syncElement=i,t.addElementToCont=s},function(e,t,n){"use strict";function o(e,t,n,o,i){return p(r(e,t,n,o,i),e)}function r(e,t,n,o,r){return s(e,t,n,o,r)-o}function i(e,t,n,o,r){return p(s(e,t,n,o,r),e)}function s(e,t,n,o,r){var i=100+o;return l(h.FRAME,t)?i-=d(2*r,e):i-=2*r,i/=n}function a(e,t){if("desktop"===t)switch(e){case h.ROW_GUTTER:return m.default.gridderDefaults.rowGutterMu;case h.TOP_FRAME:return m.default.gridderDefaults.topFrameMu;case h.FRAME:return m.default.gridderDefaults.frameMu;case h.BOTTOM_FRAME:return m.default.gridderDefaults.bottomFrameMu}return"%"}function l(e,t){return"px"===a(e,t)}function c(e,t,n,o){return l(e,o)?t:p(t,n)}function u(e,t,n,o){return l(e,o)?d(t,n):t}function p(e,t){return e*t/100}function d(e,t){return 100*e/t}function f(e,t){if("desktop"===t)switch(e){case h.ROW_GUTTER:return Number(m.default.gridderDefaults.rowGutter);case h.TOP_FRAME:return Number(m.default.gridderDefaults.topFrameMargin);case h.FRAME:return Number(m.default.gridderDefaults.frameMargin);case h.BOTTOM_FRAME:return Number(m.default.gridderDefaults.bottomFrameMargin)}switch(e){case h.ROW_GUTTER:return Number(m.default.gridderDefaults.phoneRowGutter);case h.TOP_FRAME:return Number(m.default.gridderDefaults.phoneTopFrame);case h.FRAME:return Number(m.default.gridderDefaults.phoneFrame);case h.BOTTOM_FRAME:return Number(m.default.gridderDefaults.phoneBottomFrame)}}Object.defineProperty(t,"__esModule",{value:!0});var h,m=n(6);!function(e){e[e.ROW_GUTTER=0]="ROW_GUTTER",e[e.TOP_FRAME=1]="TOP_FRAME",e[e.FRAME=2]="FRAME",e[e.BOTTOM_FRAME=3]="BOTTOM_FRAME"}(h=t.MeasureUnitEnum||(t.MeasureUnitEnum={})),t.getColInPx=o,t.getColInPct=r,t.getColAndGutterInPx=i,t.getColAndGutterInPct=s,t.getMuOf=a,t.isMuInPx=l,t.getMeasureInPx=c,t.getMeasureInPct=u,t.getPctMeasureInPx=p,t.getPxMeasureInPct=d,t.getMeasure=f},function(e,t,n){"use strict";function o(e,t){return function(n,o){var r=o();if(void 0===r.elementsHeight[e]||r.elementsHeight[e]!==t){var s=Object.assign([],r.elementsHeight);s[e]=t,n(a.updateElementsHeightAction(s))}for(var l=-1,c=0,u=r.json_field.cont;c<u.length;c++){var p=u[c];if(p.relid===e){l=p.row;break}}var d=t;void 0!==r.json_field.rowAttrs[l]&&null!==r.json_field.rowAttrs[l]&&r.json_field.rowAttrs[l].row100vh&&window.innerHeight>d&&(d=window.innerHeight);for(var f=0,h=r.json_field.cont;f<h.length;f++){var p=h[f];p.row===l&&null!==r.elementsHeight[p.relid]&&r.elementsHeight[p.relid]>d&&(d=r.elementsHeight[p.relid])}void 0!==r.rowsHeight[l]&&r.rowsHeight[l]===d||n(i(l,d))}}function r(){return function(e,t){for(var n=t(),o=[],r=0,i=n.json_field.cont;r<i.length;r++){var c=i[r];(void 0===o[c.row]||o[c.row]<n.elementsHeight[c.relid])&&(o[c.row]=n.elementsHeight[c.relid])}for(var u=0;u<n.rowCount;u++)void 0!==n.json_field.rowAttrs[u]&&null!==n.json_field.rowAttrs[u]&&n.json_field.rowAttrs[u].row100vh&&(window.innerHeight>o[u]||void 0===o[u])&&(o[u]=window.innerHeight),void 0===o[u]&&(o[u]=n.contentWrapperWidth*l.default.emptyRowHeight);e(a.updateRowsHeightAction(o)),e(s())}}function i(e,t){return function(n,o){var r=o();if(void 0===r.rowsHeight[e]||t!==r.rowsHeight[e]){var i=Object.assign([],r.rowsHeight);i[e]=t,n(a.updateRowsHeightAction(i)),n(s())}}}function s(){return function(e,t){for(var n=t(),o=[],r=c.getMeasureInPx(c.MeasureUnitEnum.TOP_FRAME,n.json_field.topFrameMargin,n.contentWrapperWidth,n.currentLayout),i=0,s=r;i<n.rowCount;i++){o[i]=s;s+=c.getMeasureInPx(c.MeasureUnitEnum.ROW_GUTTER,n.json_field.rowGutters[i],n.contentWrapperWidth,n.currentLayout)+n.rowsHeight[i]}e(a.updateRowsTopAction(o))}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=n(7),c=n(11);t.updateElementHeight=o,t.updateRowsHeight=r,t.updateRowHeight=i,t.updateRowsTop=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),r=n(6),i={qtransActive:function(){return!(!r.default.plugins||!r.default.plugins.qTranslateX)},getTextOfActiveDefaultOrOtherLangFromEncodedString:function(e){if("string"==typeof e&&i.qtransActive()){var t=o.default.qtranxj_split(e),n=t[o.default.qTranslateConfig.activeLanguage];if(""===n&&(n=t[o.default.qTranslateConfig.default_language]),""===n)for(var r in t)if(""!==t[r]){n=t[r];break}return n}return e},putActiveLangStringIntoEncodedString:function(e,t){if("string"==typeof e&&"string"==typeof t&&i.qtransActive()){var n=o.default.qtranxj_split(t);n[o.default.qTranslateConfig.activeLanguage]=e;var r="";for(var s in n)r+="[:"+s+"]"+n[s];return r+="[:]"}return e}};t.default=i},function(e,t,n){var o=n(64),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();e.exports=i},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o;!function(e){e[e.colCountMin=0]="colCountMin",e[e.colCountMax=1]="colCountMax",e[e.colGutterMax=2]="colGutterMax",e[e.frameMarginMax=3]="frameMarginMax",e[e.elementsDeletedFromPhoneLayoutToo=4]="elementsDeletedFromPhoneLayoutToo",e[e.elementsDeletedFromDesktopLayoutToo=5]="elementsDeletedFromDesktopLayoutToo",e[e.pressPlusMinusToChangeSize=6]="pressPlusMinusToChangeSize",e[e.fileIsNotAnImage=7]="fileIsNotAnImage",e[e.rowHasElementsInSameColumns=8]="rowHasElementsInSameColumns",e[e.cannotPutElementThere=9]="cannotPutElementThere",e[e.cannotSwitchLayoutWhileInsertingSyncedElement=10]="cannotSwitchLayoutWhileInsertingSyncedElement"}(o=t.noticeTypes||(t.noticeTypes={})),t.default=o,t.noticeTexts={},t.noticeTexts[o.colCountMax]="Reached max Column Count.",t.noticeTexts[o.colCountMin]="Free right columns to decrease column count.",t.noticeTexts[o.colGutterMax]="Column Gutter got too big.",t.noticeTexts[o.frameMarginMax]="Frame got too big.",t.noticeTexts[o.elementsDeletedFromPhoneLayoutToo]="Element(s) deleted from phone layout too",t.noticeTexts[o.elementsDeletedFromDesktopLayoutToo]="Element(s) deleted from desktop layout too",t.noticeTexts[o.pressPlusMinusToChangeSize]='Press the keys "+" or "-" to change the size',t.noticeTexts[o.fileIsNotAnImage]="File is not an image.",t.noticeTexts[o.rowHasElementsInSameColumns]="Please move your elements so they don't occupy the same columns as other elements",t.noticeTexts[o.cannotPutElementThere]="Can't put element there.",t.noticeTexts[o.cannotSwitchLayoutWhileInsertingSyncedElement]="Can't switch to other Layout while inserting synced Element."},function(e,t){e.exports=_},function(e,t,n){function o(e,t){var n=i(e,t);return r(n)?n:void 0}var r=n(174),i=n(180);e.exports=o},function(e,t,n){"use strict";function o(e){return function(t,n){var o=n(),r=o.json_field.colCount<e;if(!r){r=!0;for(var i=0,s=o.json_field.cont;i<s.length;i++){var a=s[i];if(e<a.col+a.colspan){r=!1;break}}}if(r){var l=100;"px"===u.default.gridderDefaults.frameMu||(l-=2*o.json_field.frameMargin),l=Math.floor(l/o.json_field.colGutter)+1,t(l>=e?{type:p.CHANGE_COLUMN_COUNT,colCount:e}:f.setNoticeAction(m.default.colCountMax))}else t(f.setNoticeAction(m.default.colCountMin))}}function r(e){return function(t,n){var o=n(),r=100;"px"===u.default.gridderDefaults.frameMu||(r-=2*o.json_field.frameMargin),r/=Math.max(1,o.json_field.colCount-1),t(r>e?f.changeColumnGutterAction(e):f.setNoticeAction(m.default.colGutterMax))}}function i(e){return function(t,n){t(f.changeTopFrameMarginAction(e)),t(h.updateRowsTop())}}function s(e){return function(t,n){t(f.changeBottomFrameMarginAction(e))}}function a(e){return function(t,n){var o=n(),r=100-(o.json_field.colCount-1)*o.json_field.colGutter;r/=2,t("px"!==u.default.gridderDefaults.frameMu&&r>e?f.changeFrameMarginAction(e):f.setNoticeAction(m.default.frameMarginMax))}}function l(e){return function(t,n){t(f.changeRowGuttersAction(e)),t(h.updateRowsTop())}}function c(){return function(e,t){var n=t();if("desktop"===n.currentLayout&&null===n.phone_gridder_json_field)e(f.openModalAddAction("createPhoneLayout"));else{if(null!==n.addElements&&0!==n.addElements.length&&-1!==n.addElements[0].relid){var o=n.phone_gridder_json_field,r=!1;"desktop"!==n.currentLayout&&(o=n.gridder_json_field);for(var i=0,s=o.cont;i<s.length;i++){var a=s[i];if(a.relid===n.addElements[0].relid)r=!0;else if(a.type===d.ElementTypeEnum.STACK)for(var l=0,c=a.cont;l<c.length;l++){var u=c[l];if(u.relid===n.addElements[0].relid){r=!0;break}}if(r)return void e(f.setNoticeAction(m.default.cannotSwitchLayoutWhileInsertingSyncedElement))}}e(f.changeBreakpointAction()),e(h.updateRowsHeight())}}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(6),p=n(8),d=n(4),f=n(2),h=n(12),m=n(16);t.changeColumnCount=o,t.changeColumnGutter=r,t.changeTopFrameMargin=i,t.changeBottomFrameMargin=s,t.changeFrameMargin=a,t.changeRowGutters=l,t.changeBreakpoint=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=window},function(e,t,n){function o(e){return null==e?void 0===e?l:a:c&&c in Object(e)?i(e):s(e)}var r=n(22),i=n(176),s=n(177),a="[object Null]",l="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=o},function(e,t,n){var o=n(14),r=o.Symbol;e.exports=r},function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){function o(e){return null!=e&&i(e.length)&&!r(e)}var r=n(63),i=n(45);e.exports=o},function(e,t,n){function o(e){return"symbol"==typeof e||i(e)&&r(e)==s}var r=n(21),i=n(24),s="[object Symbol]";e.exports=o},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=wp},function(e,t,n){"use strict";function o(e,t,n){var o=e.slice(0);if(n>=o.length)for(var r=n-o.length;1+r--;)o.push(void 0);return o.splice(n,0,o.splice(t,1)[0]),o}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.keys(e).reduce(function(t,o){return-1===n.indexOf(o)&&(t[o]=e[o]),t},{})}function i(e,t){for(;e;){if(t(e))return e;e=e.parentNode}}function s(e,t,n){return n<e?e:n>t?t:n}function a(e){return"px"===e.substr(-2)?parseFloat(e):0}function l(e){var t=window.getComputedStyle(e);return{top:a(t.marginTop),right:a(t.marginRight),bottom:a(t.marginBottom),left:a(t.marginLeft)}}function c(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=o,t.omit=r,t.closest=i,t.limit=s,t.getElementMargin=l,t.provideDisplayName=c;t.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},t.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}()},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n(164),i=n(165),s=n(166),a=n(167),l=n(168);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=l,e.exports=o},function(e,t,n){function o(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(40);e.exports=o},function(e,t,n){var o=n(18),r=o(Object,"create");e.exports=r},function(e,t,n){function o(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}var r=n(189);e.exports=o},function(e,t,n){function o(e){return s(e)?r(e):i(e)}var r=n(209),i=n(215),s=n(25);e.exports=o},function(e,t,n){function o(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}var r=n(26),i=1/0;e.exports=o},function(e,t){function n(e){return e}e.exports=n},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),s=n(6),a=n(13),l=["above-image","titlewrap-on-image","below-image"],c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=[null,null,null],t=a.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.cont.title);for(var n in e){var o=[];switch(Number(n)){case 0:"above-image"===s.default.pt_position&&o.push(r.createElement("span",{className:"title "+s.default.pt_textformat,dangerouslySetInnerHTML:{__html:t}}));break;case 1:if(-1!==s.default.pt_position.indexOf("on-image")&&o.push(r.createElement("span",{className:"title "+s.default.pt_textformat,dangerouslySetInnerHTML:{__html:t}})),"on-image"===s.default.pd_position&&s.default.activateProjectDescription){var c=a.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.cont.descr);o.push(r.createElement("span",{className:"descr",dangerouslySetInnerHTML:{__html:c}}))}break;case 2:if(-1!==s.default.pt_position.indexOf("below-image")&&o.push(r.createElement("span",{className:"title "+s.default.pt_textformat,dangerouslySetInnerHTML:{__html:t}})),"below-image"===s.default.pd_position&&s.default.activateProjectDescription){var c=a.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.cont.descr);o.push(r.createElement("span",{className:"descr",dangerouslySetInnerHTML:{__html:c}}))}}0!==o.length&&(e[n]=r.createElement("div",{className:"lay-textformat-parent "+s.default.pt_position+" "+l[n]},o))}var u;return u=this.props.cont.sizes.hasOwnProperty("_512")?this.props.cont.sizes._512:this.props.cont.sizes.full,r.createElement("div",{className:"thumbnail-wrap"},r.createElement("div",{className:"thumb"},e[0],r.createElement("div",{className:"thumb-rel"},e[1],r.createElement("div",{className:"ph",style:{paddingBottom:100*this.props.cont.ar+"%"}},r.createElement("img",{src:i.getStaticURL(u),alt:"",draggable:!1}))),e[2]))},t}(r.Component);t.default=c},function(e,t,n){"use strict";var o=function(e,t,n,o,r,i,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,r,i,s,a],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=o},function(e,t,n){function o(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):l(e)}var r=n(162),i=n(225),s=n(36),a=n(15),l=n(235);e.exports=o},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var o=n(18),r=n(14),i=o(r,"Map");e.exports=i},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n(181),i=n(188),s=n(190),a=n(191),l=n(192);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=l,e.exports=o},function(e,t,n){var o=n(211),r=n(24),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},function(e,t){function n(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var o=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=n},function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}var o=9007199254740991;e.exports=n},function(e,t,n){function o(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!s.test(e)||null!=t&&e in Object(t))}var r=n(15),i=n(26),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=o},function(e,t,n){"use strict";function o(e){return function(t,n){t(a.insertRowAction(e)),t(l.updateRowsHeight())}}function r(e){return function(t,n){t(a.moveUpRowAction(e)),t(l.updateRowsHeight())}}function i(e){return function(t,n){t(a.moveDownRowAction(e)),t(l.updateRowsHeight())}}function s(e){return function(t,n){for(var o=n(),r=[],i=0,s=o.json_field.cont;i<s.length;i++){var u=s[i];u.row===e&&r.push(u.relid)}t(c.deleteElements(r)),t(a.deleteRowAction(e)),t(l.updateRowsHeight())}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=n(12),c=n(10);t.insertRow=o,t.moveUpRow=r,t.moveDownRow=i,t.deleteRow=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(7),l=n(20),c=n(4),u=n(2),p=n(121),d=n(122),f=n(12),h=n(123),m=n(49),g=n(50),y=n(5),E=n(11),b=function(e,t){return{colCount:e.json_field.colCount,colGutter:e.json_field.colGutter,elementHeight:e.elementsHeight[t.cont.relid],frameMargin:e.json_field.frameMargin,resize:e.resize,rowHeight:e.rowsHeight[t.cont.row],rowTop:e.rowsTop[t.cont.row],selectedElementsId:e.selectedElementsId,currentLayout:e.currentLayout,contentWrapperWidth:e.contentWrapperWidth}},v=function(e){return{toggleSelectedElementId:s.bindActionCreators(u.toggleSelectedElementIdAction,e),setSelectedElementsId:s.bindActionCreators(u.setSelectedElementsIdAction,e),shiftSelectedElementsId:s.bindActionCreators(u.shiftSelectedElementsIdAction,e),setSelectedRowGutters:s.bindActionCreators(u.setSelectedRowGuttersAction,e),updateElementHeight:s.bindActionCreators(f.updateElementHeight,e),startDnd:s.bindActionCreators(u.startDndAction,e),moveDnd:s.bindActionCreators(p.moveDnd,e),endDnd:s.bindActionCreators(p.endDnd,e),startResize:s.bindActionCreators(u.startResizeAction,e),moveResize:s.bindActionCreators(d.moveResize,e),endResize:s.bindActionCreators(d.endResize,e),setAddElements:s.bindActionCreators(u.setAddElementsAction,e),openModalEditAction:s.bindActionCreators(u.openModalEditAction,e)}},_=function(e){function t(t){var n=e.call(this,t)||this;n.onKeyDownBind=function(e){return n.onKeyDown(e)},n.onKeyUpBind=function(e){return n.onKeyUp(e)},n.altKeyPressed=!1,n.drag=h.default(function(e){n.props.moveDnd(e)},a.default.throttleDrag),n.dragResizeThrottled=h.default(function(e){n.props.moveResize(e),n.updateElementHeight()},a.default.throttleDrag);var o=100;return t.hasOwnProperty("width")&&t.width.endsWith("%")&&(o=Number(t.width.substr(0,t.width.length-1))),n.state={isMouseOver:!1,width:o},n}return o(t,e),t.prototype.render=function(){var e=this,t=this.props.cont,n=t.type,o=t.offsetx,i=t.offsety,s=t.spaceabove,a=t.spacebelow,l=t.caption,u=t.h,p=t.w,d=(t.ar,t.postid,this.getWidth()),f=this.getElement(d);100!==this.state.width&&(s=100*s/this.state.width,a=100*a/this.state.width);var h={left:this.getLeft(),top:this.getTop(),width:d,transform:"translate("+o+"vw, "+i+"vw)",paddingTop:s+"%",paddingBottom:a+"%",zIndex:this.props.index},g=null;if(n===c.ElementTypeEnum.TEXT){var y={opacity:0};this.state.isMouseOver&&(y.opacity=1),g=r.createElement("button",{type:"button",style:y,className:"btn btn-default btn-xs clone-text",onClick:function(){return e.onClickClone()}})}var E=null,b={};switch(n){case c.ElementTypeEnum.EMBED:this.props.cont.hasOwnProperty("w")&&this.props.cont.hasOwnProperty("h")&&0!==this.props.cont.w&&0!==this.props.cont.h&&(b.height="initial",b.paddingBottom=100*u/p+"%");case c.ElementTypeEnum.TEXT:E=r.createElement("div",{className:"click-stopper",style:b})}var v="element moveable";return this.props.selectedElementsId.indexOf(this.props.cont.relid)>=0&&(v+=" selected"),r.createElement("div",{className:v,onContextMenu:function(t){return e.handleContext(t)},onDragStart:function(t){return e.dragStart(t)},onDragOver:function(e){return e.preventDefault()},onDrag:function(t){return e.drag(t)},onDragEnd:function(t){return e.dragEnd(t)},onMouseEnter:function(t){return e.onMouseEnter()},onMouseLeave:function(t){return e.onMouseLeave()},ref:function(t){e.domElement=t},onClick:function(t){return e.handleSelect(t)},onDoubleClick:function(t){return e.onDoubleClick(t)},draggable:!0,"data-type":n,style:h},g,E,null!==f&&f,this.getGrab(),void 0!==l&&""!==l&&r.createElement(m.default,{onDoubleClick:function(t){return e.onDoubleClick(t,!0)},caption:l}))},t.prototype.dragStart=function(e){e.stopPropagation(),e.dataTransfer.setData("application/x-moz-node",e.target,0),e.dataTransfer.effectAllowed="move",this.props.startDnd(this.props.cont.relid,e),e.target.style.opacity=.5},t.prototype.dragEnd=function(e){e.preventDefault(),this.props.endDnd(e),e.target.style.opacity=""},t.prototype.dragResizeStart=function(e,t){void 0===t&&(t=!0),e.stopPropagation(),e.dataTransfer.setData("application/x-moz-node",e.target,0),this.props.startResize(this.props.cont.relid,e,t,this.altKeyPressed)},t.prototype.dragResize=function(e){e.stopPropagation(),this.dragResizeThrottled(e)},t.prototype.dragResizeEnd=function(e){this.props.endResize(e),this.updateElementHeight()},t.prototype.onClickClone=function(){this.props.setAddElements([{type:this.props.cont.type,cont:this.props.cont.cont}])},t.prototype.handleSelect=function(e){e.stopPropagation(),this.props.hideContextMenuElement(),e.metaKey?this.props.toggleSelectedElementId(this.props.cont.relid):e.shiftKey?0===this.props.selectedElementsId.length?this.props.setSelectedElementsId([this.props.cont.relid]):this.props.shiftSelectedElementsId(this.props.cont.relid):this.props.selectedElementsId.indexOf(this.props.cont.relid)>=0&&1===this.props.selectedElementsId.length?this.props.setSelectedElementsId([]):this.props.setSelectedElementsId([this.props.cont.relid])},t.prototype.onDoubleClick=function(e,t){void 0===t&&(t=!1),this.props.cont.type!==c.ElementTypeEnum.HORIZONTAL_LINE&&this.props.cont.type!==c.ElementTypeEnum.STACK&&(e.stopPropagation(),this.props.hideContextMenuElement(),this.props.setSelectedElementsId([]),t?this.props.openModalEditAction(this.props.cont.relid,c.ElementAttributeTargetEnum.CAPTION):this.props.openModalEditAction(this.props.cont.relid))},t.prototype.getFrameMarginInPercent=function(){return E.getMeasureInPct(E.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout)},t.prototype.getLeft=function(){var e=this.props.cont.col;if(null!==this.props.resize&&this.props.resize.relid===this.props.cont.relid&&-1!==this.props.resize.left)return this.props.resize.left+"px";var t=(100-2*this.getFrameMarginInPercent()+this.props.colGutter)/this.props.colCount,n=e*t;return 100!==this.state.width?n=100*n/this.state.width:y.isFrameOverflowLeft(this.props.cont.frameOverflow)||(n+=this.getFrameMarginInPercent()),n+"%"},t.prototype.getWidth=function(){var e=this.props.cont.colspan;if(null!==this.props.resize&&this.props.resize.relid===this.props.cont.relid&&-1!==this.props.resize.width)return this.props.resize.width+"px";var t=(100-2*this.getFrameMarginInPercent()+this.props.colGutter)/this.props.colCount,n=e*t-this.props.colGutter;return this.props.cont.frameOverflow&&(y.isFrameOverflowLeft(this.props.cont.frameOverflow)&&(n+=this.getFrameMarginInPercent()),y.isFrameOverflowRight(this.props.cont.frameOverflow)&&(n+=this.getFrameMarginInPercent())),100!==this.state.width&&(n=100*n/this.state.width),n+"%"},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.apply(this),l.default.addEventListener("keydown",this.onKeyDownBind),l.default.addEventListener("keyup",this.onKeyUpBind)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.apply(this),l.default.removeEventListener("keydown",this.onKeyDownBind),l.default.removeEventListener("keyup",this.onKeyUpBind)},t.prototype.onKeyDown=function(e){18===e.keyCode&&(this.altKeyPressed=!0)},t.prototype.onKeyUp=function(e){18===e.keyCode&&(this.altKeyPressed=!1)},t.prototype.onMouseLeave=function(){this.props.cont.type===c.ElementTypeEnum.TEXT&&this.setState({isMouseOver:!1})},t.prototype.onMouseEnter=function(){this.props.cont.type===c.ElementTypeEnum.TEXT&&this.setState({isMouseOver:!0})},t.prototype.handleContext=function(e){var t=e.clientX,n=e.clientY;this.props.showContextMenuElement(this.props.cont.relid,t,n),e.preventDefault(),e.stopPropagation()},t.prototype.getGrab=function(){var e=this,t=[];switch(this.props.cont.type){case c.ElementTypeEnum.HORIZONTAL_LINE:return[r.createElement("span",{key:1,className:"grab grab-left",onDragStart:function(t){return e.dragResizeStart(t)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0}),r.createElement("div",{key:2,className:"drag hr-drag-handle"}),r.createElement("span",{key:3,className:"grab grab-right",onDragStart:function(t){return e.dragResizeStart(t,!1)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0})];case c.ElementTypeEnum.STACK:t=[r.createElement("div",{key:3,className:"drag stack-drag-handle"})];default:return[r.createElement("span",{key:1,className:"grab grab-top-left",onDragStart:function(t){return e.dragResizeStart(t)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0}),r.createElement("span",{key:2,className:"grab grab-bottom-left",onDragStart:function(t){return e.dragResizeStart(t)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0})].concat(t,[r.createElement("span",{key:4,className:"grab grab-top-right",onDragStart:function(t){return e.dragResizeStart(t,!1)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0}),r.createElement("span",{key:5,className:"grab grab-bottom-right",onDragStart:function(t){return e.dragResizeStart(t,!1)},onDrag:function(t){e.dragResize(t)},onDragEnd:function(t){return e.dragResizeEnd(t)},draggable:!0})])}},t}(g.Element);t.default=i.connect(b,v)(_)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(13),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this,t=i.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.caption),n="";return n="caption lay-textformat-parent",r.createElement("div",{className:n,onDoubleClick:function(t){return e.props.onDoubleClick(t)},dangerouslySetInnerHTML:{__html:t}})},t}(r.Component);t.default=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(17),l=n(7),c=n(5),u=n(11),p=n(4),d=n(12),f=n(49),h=n(51),m=n(52),g=n(53),y=n(124),E=n(125),b=n(127),v=n(128),_=n(129),w=n(37),O=n(130),C=n(54),T=n(56),A=function(e,t){return{selectedElementsId:e.selectedElementsId,frameMargin:e.json_field.frameMargin,colGutter:e.json_field.colGutter,colCount:e.json_field.colCount,rowTop:e.rowsTop[t.cont.row],rowHeight:e.rowsHeight[t.cont.row],elementHeight:e.elementsHeight[t.cont.relid],resize:e.resize,currentLayout:e.currentLayout,contentWrapperWidth:e.contentWrapperWidth}},N=function(e){return{updateElementHeight:s.bindActionCreators(d.updateElementHeight,e)}},j=function(e){function t(t){var n=e.call(this,t)||this;n.onResizeThrottle=a.throttle(n.onResize.bind(n),l.default.throttleResize);var o=100;return t.hasOwnProperty("width")&&t.width.endsWith("%")&&(o=Number(t.width.substr(0,t.width.length-1))),n.state={width:o},n}return o(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResizeThrottle),this.onResizeThrottle()},t.prototype.componentDidUpdate=function(){this.onResizeThrottle()},t.prototype.componentWillReceiveProps=function(e){if(e.hasOwnProperty("width")&&e.width.endsWith("%")){var t=Number(e.width.substr(0,e.width.length-1));t!==this.state.width&&this.setState({width:t})}},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResizeThrottle)},t.prototype.onResize=function(){this.updateElementHeight()},t.prototype.updateElementHeight=function(){null!==this.domElement&&this.props.updateElementHeight(this.props.cont.relid,this.domElement.offsetHeight)},t.prototype.render=function(){var e=this,t=this.props.cont,n=t.type,o=t.offsetx,i=t.offsety,s=t.spaceabove,a=t.spacebelow,l=t.caption,c=this.getElement(),u={width:this.getWidth(),marginLeft:o+"%",marginTop:i+"%",paddingTop:s+"%",paddingBottom:a+"%",zIndex:this.props.index};return null!==this.props.x&&null!==this.props.y?(u.left=this.props.x+"px",u.top=this.props.y+"px",u.pointerEvents="none"):(u.left=this.getLeft(),u.top=this.getTop()),r.createElement("div",{className:"element",ref:function(t){e.domElement=t},"data-type":n,style:u},null!==c&&c,void 0!==l&&""!==l&&r.createElement(f.default,{caption:l}))},t.prototype.getLeft=function(){var e=this.props.cont.col,t=u.getColAndGutterInPct(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,this.props.colGutter,this.props.frameMargin),n=e*t;return c.isFrameOverflowLeft(this.props.cont.frameOverflow)||(n+=u.getMeasureInPct(u.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout)),n+"%"},t.prototype.getWidth=function(){var e=this.props.cont.colspan,t=u.getColAndGutterInPct(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,this.props.colGutter,this.props.frameMargin),n=e*t-this.props.colGutter;if(this.props.cont.frameOverflow){var o=u.getMeasureInPct(u.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout);c.isFrameOverflowLeft(this.props.cont.frameOverflow)&&(n+=o),c.isFrameOverflowRight(this.props.cont.frameOverflow)&&(n+=o)}return 100!==this.state.width&&(n=n*this.state.width/100),n+"%"},t.prototype.getTop=function(){var e=this.props.rowTop;switch(this.props.cont.align){case"middle":e+=(this.props.rowHeight-this.props.elementHeight)/2;break;case"bottom":e+=this.props.rowHeight-this.props.elementHeight}return Math.round(e)+"px"},t.prototype.getElement=function(e){switch(void 0===e&&(e="100%"),this.props.cont.type){case p.ElementTypeEnum.TEXT:return r.createElement(h.default,{text:this.props.cont.cont});case p.ElementTypeEnum.THUMBNAIL_GRID:return r.createElement(C.default,{cont:this.props.cont,currentLayout:this.props.currentLayout,updateElementHeight:this.updateElementHeight.bind(this)});case p.ElementTypeEnum.ELEMENT_GRID:return r.createElement(T.default,{cont:this.props.cont,currentLayout:this.props.currentLayout,updateElementHeight:this.updateElementHeight.bind(this)});case p.ElementTypeEnum.POST_THUMBNAIL:return r.createElement(w.default,{cont:this.props.cont});case p.ElementTypeEnum.CAROUSEL:return r.createElement(O.default,{cont:this.props.cont});case p.ElementTypeEnum.IMAGE:return r.createElement(m.default,{cont:this.props.cont});case p.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO:case p.ElementTypeEnum.HTML5VIDEO:return r.createElement(g.default,{cont:this.props.cont});case p.ElementTypeEnum.EMBED:return r.createElement(y.default,{cont:this.props.cont.cont,h:this.props.cont.h,w:this.props.cont.w});case p.ElementTypeEnum.HTML:return r.createElement(E.default,{cont:this.props.cont.cont});case p.ElementTypeEnum.SHORTCODE:return r.createElement(v.default,{cont:this.props.cont.cont});case p.ElementTypeEnum.STACK:var t=0;switch(t=this.props.rowHeight-this.props.elementHeight,this.props.cont.align){case"top":t=0;break;case"middle":t/=2}return r.createElement(_.default,{offsetInRow:t,width:e,hideContextMenuElement:this.props.hideContextMenuElement,showContextMenuElement:this.props.showContextMenuElement,cont:this.props.cont});case p.ElementTypeEnum.HORIZONTAL_LINE:return r.createElement(b.default,null)}return r.createElement(b.default,null)},t}(r.Component);t.Element=j,t.default=i.connect(A,N)(j)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(13),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.text.trim();return""===e?r.createElement("p",null,"empty text"):(e=i.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(e),r.createElement("div",{className:"text lg-textformat-parent lay-textformat-parent",dangerouslySetInnerHTML:{__html:e}}))},t}(r.Component);t.default=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e="";this.props.hasOwnProperty("alt")&&(e=this.props.alt);var t;t=this.props.cont.cont;var n="100%";return!i.isGif(t)&&this.props.cont.sizes.hasOwnProperty("_512")&&(t=this.props.cont.sizes._512),n=100*this.props.cont.ar+"%",r.createElement("div",{className:"ph",style:{paddingBottom:n}},r.createElement("img",{src:i.getStaticURL(t),alt:e,draggable:!1}))},t}(r.Component);t.default=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e;e=void 0!==this.props.cont.h?this.props.cont.h/this.props.cont.w*100+"%":100*this.props.cont.ar+"%";var t={paddingBottom:e,backgroundImage:"url("+this.props.cont.cont+")"};return r.createElement("div",{className:"placeholder",style:t})},t}(r.Component);t.default=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(9),c=n(6),u=n(37),p=n(55),d=function(e,t){return{thumbnailGridPosts:e.thumbnailGridPosts}},f=function(e){return{updateThumbnailsOfCategory:s.bindActionCreators(a.updateThumbnailsOfCategoryAction,e)}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msnry=null,t}return o(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentWillReceiveProps=function(e){this.props.cont.config.cat_id!==e.cont.config.cat_id&&(this.destroyMasonry(),this.setState({posts:null})),"masonry"!==e.cont.config.layoutType&&this.destroyMasonry()},t.prototype.componentDidUpdate=function(){var e=this,t=this.props.cont.config.cat_id;this.props.thumbnailGridPosts[this.props.cont.config.cat_id]||l.default.ajax({url:c.default.ajaxUrl,data:{action:"get_thumbnails_for_thumbnailgrid",catId:t},type:"GET",dataType:"json",success:function(n){e.props.updateThumbnailsOfCategory(t,n)}}),setTimeout(function(){var t=e.props.cont.config,n=e.props.currentLayout,o=t[n].colCount,r=100/o-t[n].colGutter;r+=t[n].colGutter/t[n].colCount,r+="%";var i=t[n].colGutter+"%";switch(t.layoutType){case"masonry":setTimeout(function(){return e.updateMasonry()},0);break;default:e.destroyMasonry(),l.default(e.domElement).find(".thumbnail-wrap").css({"margin-right":i}),l.default(e.domElement).find(".thumbnail-wrap:nth-child("+o+"n)").css({"margin-right":0})}l.default(e.domElement).find(".thumbnail-wrap").css({width:r,"margin-bottom":t[n].rowGutter+"%"})},0)},t.prototype.destroyMasonry=function(){null!==this.msnry&&(this.msnry.destroy(),this.msnry=null)},t.prototype.updateMasonry=function(){var e=this,t={itemSelector:".thumbnail-wrap",columnWidth:".lay-thumbnailgrid-col-sizer",gutter:".lay-thumbnailgrid-gutter-sizer",percentPosition:!0,transitionDuration:0};null===this.msnry?(this.msnry=new p.default(this.domElement,t),this.msnry.on("layoutComplete",function(){return setTimeout(function(){return e.updateElementHeight()},0)})):this.msnry.layout(t),this.msnry.reloadItems(),setTimeout(function(){e.domElement&&0===e.domElement.offsetHeight&&e.updateMasonry()},500)},t.prototype.updateElementHeight=function(){this.props.hasOwnProperty("updateElementHeight")&&this.props.updateElementHeight()},t.prototype.render=function(){var e=this,t=this.props.cont.config,n=this.props.currentLayout,o=t[n].colCount,i=(100+t[n].colGutter)/o;i-=t[n].colGutter,i+="%";var s=t[n].colGutter+"%",a=[],l=null,c=this.props.thumbnailGridPosts[this.props.cont.config.cat_id];if(c)if("masonry"===t.layoutType)l=[r.createElement("div",{className:"lay-thumbnailgrid-gutter-sizer",style:{width:s}}),r.createElement("div",{className:"lay-thumbnailgrid-col-sizer",style:{width:i}})],a=c.map(function(t,n){return r.createElement(u.default,{key:e.props.cont.config.cat_id+"-"+n,cont:t})});else for(var p=0;p<c.length;p+=o){var d=c.slice(p,p+o).map(function(e,t){return r.createElement(u.default,{cont:e})});a.push(r.createElement("div",{key:p+9e3,className:"thumbnailgrid-row "+t.layoutType},d))}return r.createElement("div",{className:"thumbs-collection-region",style:{marginBottom:-t[n].rowGutter+"%"}},r.createElement("div",{ref:function(t){e.domElement=t},className:"thumb-collection"},a,l))},t}(r.Component);t.default=i.connect(d,f)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Masonry},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(9),s=n(55),a=n(4),l=n(52),c=n(53),u=n(51),p=n(37),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.msnry=null,t}return o(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentWillReceiveProps=function(e){"masonry"!==e.cont.config.layoutType&&this.destroyMasonry()},t.prototype.componentDidUpdate=function(){var e=this;setTimeout(function(){var t=e.props.cont.config,n=e.props.currentLayout,o=t[n].colCount,r=(100+t[n].colGutter)/o;r-=t[n].colGutter,r+="%";var s=t[n].colGutter+"%";switch(t.layoutType){case"masonry":setTimeout(function(){return e.updateMasonry()},0);break;default:e.destroyMasonry(),i.default(e.domElement).find(".element-wrap").css({"margin-right":s}),i.default(e.domElement).find(".element-wrap:nth-child("+o+"n)").css({"margin-right":0})}i.default(e.domElement).find(".element-wrap").css({width:r,"margin-bottom":t[n].rowGutter+"%"})},0)},t.prototype.destroyMasonry=function(){null!==this.msnry&&(this.msnry.destroy(),this.msnry=null)},t.prototype.updateMasonry=function(){var e=this,t={itemSelector:".element-wrap",columnWidth:".lay-elementgrid-col-sizer",gutter:".lay-elementgrid-gutter-sizer",percentPosition:!0,transitionDuration:0};null===this.msnry?(this.msnry=new s.default(this.domElement,t),this.msnry.on("layoutComplete",function(){return setTimeout(function(){return e.updateElementHeight()},0)})):this.msnry.layout(t),this.msnry.reloadItems(),setTimeout(function(){e.domElement&&0===e.domElement.offsetHeight&&e.updateMasonry()},500)},t.prototype.updateElementHeight=function(){this.props.hasOwnProperty("updateElementHeight")&&this.props.updateElementHeight()},t.prototype.getElement=function(e){var t=[];switch(e.type){case a.ElementTypeEnum.IMAGE:t.push(r.createElement(l.default,{cont:e})),e.hasOwnProperty("caption")&&t.push(r.createElement(u.default,{text:e.caption}));break;case a.ElementTypeEnum.HTML5VIDEO:t.push(r.createElement(c.default,{cont:e})),e.hasOwnProperty("caption")&&t.push(r.createElement(u.default,{text:e.caption}));break;case a.ElementTypeEnum.TEXT:t.push(r.createElement(u.default,{text:e.cont}));break;case a.ElementTypeEnum.POST_THUMBNAIL:t.push(r.createElement(p.default,{cont:e}))}return r.createElement("div",{className:"element-wrap"},t)},t.prototype.render=function(){var e=this,t=this.props.cont.config,n=this.props.currentLayout,o=t[n].colCount,i=(100+t[n].colGutter)/o;i-=t[n].colGutter,i+="%";var s=t[n].colGutter+"%",a=[],l=null;if(null!==this.props.cont.config.elements)if("masonry"===t.layoutType)l=[r.createElement("div",{className:"lay-elementgrid-gutter-sizer",style:{width:s}}),r.createElement("div",{className:"lay-elementgrid-col-sizer",style:{width:i}})],a=this.props.cont.config.elements.map(this.getElement);else for(var c=0;c<this.props.cont.config.elements.length;c+=o){var u=this.props.cont.config.elements.slice(c,c+o).map(this.getElement);a.push(r.createElement("div",{key:c+9e3,className:"elementgrid-row "+t.layoutType},u))}return r.createElement("div",{className:"elements-collection-region",style:{marginBottom:-t[n].rowGutter+"%"}},r.createElement("div",{ref:function(t){e.domElement=t},className:"elements-collection"},a,l))},t}(r.Component);t.default=d},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickBind=function(e){2===e.button&&"click"===e.type||n.handleClick(e)},n.handleScrollBind=function(e){return n.handleScroll(e)},n.state={posX:t.posX+1,posY:t.posY},n}return o(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState({posX:e.posX+1,posY:e.posY})},t.prototype.componentDidMount=function(){window.addEventListener("click",this.handleClickBind),window.addEventListener("contextmenu",this.handleClickBind),window.addEventListener("scroll",this.handleScrollBind),this.updatePosition()},t.prototype.componentDidUpdate=function(){this.updatePosition()},t.prototype.updatePosition=function(){var e=this.state.posY,t=this.state.posX;window.innerHeight-this.domElement.getBoundingClientRect().height-e<3&&(e=window.innerHeight-this.domElement.getBoundingClientRect().height-3),window.innerWidth-this.domElement.getBoundingClientRect().width-t<3&&(t=window.innerWidth-this.domElement.getBoundingClientRect().width-3),e===this.state.posY&&t===this.state.posX||this.setState({posY:e,posX:t})},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.handleClickBind),window.removeEventListener("contextmenu",this.handleClickBind),window.removeEventListener("scroll",this.handleScrollBind)},t}(r.Component);t.default=i},function(e,t,n){"use strict";function o(e,t){return function(n,o){if(t)n(l.setRowAttr100vhAction(e,t)),n(c.updateRowsHeight());else{for(var r=o(),i=[],s=0,a=r.json_field.cont;s<a.length;s++){var u=a[s];e===u.row&&i.push(u)}for(var d=!1,f=0,h=i;f<h.length;f++){for(var m=h[f],g=0,y=i;g<y.length;g++){var E=y[g];if(m.relid!==E.relid&&m.colspan+m.col>E.col&&E.colspan+E.col>m.col){d=!0;break}}if(d)break}d?n(l.setNoticeAction(p.default.rowHasElementsInSameColumns)):(n(l.setRowAttr100vhAction(e,t)),n(c.updateRowsHeight()))}}}function r(e){return function(t,n){for(var o=n(),r=[],i=0,s=o.json_field.cont;i<s.length;i++){var u=s[i];if(u.type===a.ElementTypeEnum.STACK)for(var p=0,d=u.cont;p<d.length;p++){var f=d[p];-1!==e.indexOf(f.relid)&&(t(l.setElementDoSyncAction(f.relid)),r.push(JSON.parse(JSON.stringify(f))))}else-1!==e.indexOf(u.relid)&&(t(l.setElementDoSyncAction(u.relid)),r.push(JSON.parse(JSON.stringify(u))))}if(0!==r.length){for(var h in r)delete r[h].dosync,delete r[h].align,delete r[h].row,delete r[h].col,delete r[h].colspan,delete r[h].offsetx,delete r[h].offsety,delete r[h].spaceabove,delete r[h].spacebelow,delete r[h].yvel,delete r[h].push;t(l.setAddElementsAction(r)),t(l.changeBreakpointAction()),t(c.updateRowsHeight())}}}function i(e,t){return function(n,o){for(var r=0,i=e;r<i.length;r++){var s=i[r];n(t?u.syncElement(s):l.setElementDoNotSyncAction(s))}}}function s(e){return function(t,n){for(var o=n(),r=!0,i=!1,s=0,c=o.json_field.cont;s<c.length;s++){var p=c[s];if(p.type===a.ElementTypeEnum.STACK){if(e===p.relid)return;for(var d=0,f=p.cont;d<f.length;d++){var h=f[d];if(e===h.relid){v=h.dosync,r=void 0===v||v;break}}}else if(e===p.relid){_=p.dosync,r=void 0===_||_;break}}var m="desktop"===o.currentLayout?o.phone_gridder_json_field:o.gridder_json_field;if(null!==m)for(var g=0,y=m.cont;g<y.length;g++){var p=y[g];if(p.type===a.ElementTypeEnum.STACK)for(var E=0,b=p.cont;E<b.length;E++){var h=b[E];if(h.relid===e){i=!0;break}}else p.relid===e&&(i=!0);if(i=!0)break}t(i&&!r?u.syncElement(e):l.setElementDoNotSyncAction(e));var v,_}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),l=n(2),c=n(12),u=n(10),p=n(16);t.setRowAttr100vh=o,t.insertIntoOtherLayout=r,t.setElementsDoSync=i,t.toggleElementDoSync=s},function(e,t,n){"use strict";function o(){return function(e,t){e(a.createStackedPhoneLayoutAction()),e(l.changeBreakpoint())}}function r(){return function(e,t){e(a.createEmptyPhoneLayoutAction()),e(l.changeBreakpoint())}}function i(){return function(e,t){e(a.createCopiedPhoneLayoutAction()),e(l.changeBreakpoint())}}function s(){return function(e,t){"desktop"!==t().currentLayout&&e(l.changeBreakpoint()),e(a.deletePhoneLayoutAction())}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=n(19);t.createStackedPhoneLayout=o,t.createEmptyPhoneLayout=r,t.createCopiedPhoneLayout=i,t.deletePhoneLayout=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMove=t.sortableHandle=t.sortableElement=t.sortableContainer=t.SortableHandle=t.SortableElement=t.SortableContainer=void 0;var r=n(29);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return r.arrayMove}});var i=n(154),s=o(i),a=n(265),l=o(a),c=n(266),u=o(c);t.SortableContainer=s.default,t.SortableElement=l.default,t.SortableHandle=u.default,t.sortableContainer=s.default,t.sortableElement=l.default,t.sortableHandle=u.default},function(e,t,n){e.exports=n(155)()},function(e,t,n){function o(e){var t=this.__data__=new r(e);this.size=t.size}var r=n(30),i=n(169),s=n(170),a=n(171),l=n(172),c=n(173);o.prototype.clear=i,o.prototype.delete=s,o.prototype.get=a,o.prototype.has=l,o.prototype.set=c,e.exports=o},function(e,t,n){function o(e){if(!i(e))return!1;var t=r(e);return t==a||t==l||t==s||t==c}var r=n(21),i=n(23),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",c="[object Proxy]";e.exports=o},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,n(175))},function(e,t){function n(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var o=Function.prototype,r=o.toString;e.exports=n},function(e,t,n){function o(e,t,n,s,a){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!==e&&t!==t:r(e,t,n,s,o,a))}var r=n(193),i=n(24);e.exports=o},function(e,t,n){function o(e,t,n,o,c,u){var p=n&a,d=e.length,f=t.length;if(d!=f&&!(p&&f>d))return!1;var h=u.get(e);if(h&&u.get(t))return h==t;var m=-1,g=!0,y=n&l?new r:void 0;for(u.set(e,t),u.set(t,e);++m<d;){var E=e[m],b=t[m];if(o)var v=p?o(b,E,m,t,e,u):o(E,b,m,e,t,u);if(void 0!==v){if(v)continue;g=!1;break}if(y){if(!i(t,function(e,t){if(!s(y,t)&&(E===e||c(E,e,n,o,u)))return y.push(t)})){g=!1;break}}else if(E!==b&&!c(E,b,n,o,u)){g=!1;break}}return u.delete(e),u.delete(t),g}var r=n(194),i=n(197),s=n(198),a=1,l=2;e.exports=o},function(e,t){function n(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}e.exports=n},function(e,t,n){(function(e){var o=n(14),r=n(212),i="object"==typeof t&&t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i,l=a?o.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u}).call(t,n(70)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var o=n(213),r=n(72),i=n(214),s=i&&i.isTypedArray,a=s?r(s):o;e.exports=a},function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},function(e,t,n){function o(e){return e===e&&!r(e)}var r=n(23);e.exports=o},function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},function(e,t,n){function o(e,t){t=r(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}var r=n(76),i=n(35);e.exports=o},function(e,t,n){function o(e,t){return r(e)?e:i(e,t)?[e]:s(a(e))}var r=n(15),i=n(46),s=n(227),a=n(230);e.exports=o},function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}e.exports=n},function(e,t,n){e.exports=n(79)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(27),i=n(1),s=n(80),a=n(9),l=n(20),c=n(96),u=n(4),p=n(5),d=n(6),f=function(){if(null===document.getElementById("gridder"))setTimeout(function(){f()},200);else if(d.default.plugins&&d.default.plugins.qTranslateX&&void 0===l.default.qTranslateConfig.activeLanguage)setTimeout(function(){f()},200);else{var e=null,t=null,n=0,a=document.getElementById("gridder_json_field").value;try{e=""===a?p.getDesktopGridderJsonDefault():u.castJsonFieldType(JSON.parse(a))}catch(t){p.showJsonInvalidError(a,"Desktop"),e=p.getDesktopGridderJsonDefault(),document.getElementById("gridder-json-metabox")&&(document.getElementById("gridder-json-metabox").style.display="block"),document.getElementById("gridder_json_field").style.display="inline-block",document.getElementById("gridder_json_field").style.width="100%",document.getElementById("gridder_json_field").style.minHeight="300px"}n=p.calcRowCount(e);var h=document.getElementById("phone_gridder_json_field").value;try{""!==h&&(t=JSON.parse(h))}catch(e){p.showJsonInvalidError(a,"Phone"),document.getElementById("gridder-phone-json-metabox")&&(document.getElementById("gridder-phone-json-metabox").style.display="block"),document.getElementById("phone_gridder_json_field").style.display="inline-block",document.getElementById("phone_gridder_json_field").style.width="100%",document.getElementById("phone_gridder_json_field").style.minHeight="300px"}p.initRelids(e,t);var m={gridder_json_field:e,phone_gridder_json_field:t,json_field:e,currentLayout:"desktop",error:{},guidesVisibility:!0,selectedElementsId:[],selectedRowGutters:[],elementsHeight:[],rowsHeight:[],rowsTop:[],rowCount:n,contentWrapperWidth:0,headerHeight:0,dnd:null,resize:null,addElements:null,addElementPosition:null,modal:null,notice:null,thumbnailGridPosts:[]},g=s.default(m);r.render(o.createElement(i.Provider,{store:g},o.createElement(c.default,null)),document.getElementById("gridder")),document.addEventListener("dragover",function(e){l.default.polyFillClientX=e.clientX,l.default.polyFillClientY=e.clientY})}};a.default(document).ready(function(){return f()})},function(e,t,n){"use strict";function o(e){return r.createStore(s(a.default,l.default,c.default,u.default,p.default,d.default,h.default,f.default,m.default,b.default,g.default,E.default,y.default),e,v)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(81),s=n(82),a=n(83),l=n(84),c=n(85),u=n(86),p=n(87),d=n(88),f=n(89),h=n(90),m=n(91),g=n(92),y=n(93),E=n(94),b=n(95),v=r.applyMiddleware(i.default);t.default=o},function(e,t){e.exports=ReduxThunk},function(e,t,n){"use strict";function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}}t.__esModule=!0,t.default=o,e.exports=t.default},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.CHANGE_BREAKPOINT:return"desktop"===e.currentLayout?Object.assign({},e,{json_field:e.phone_gridder_json_field,gridder_json_field:e.json_field,currentLayout:"phone",selectedElementsId:[],rowCount:i.calcRowCount(e.phone_gridder_json_field)}):Object.assign({},e,{json_field:e.gridder_json_field,phone_gridder_json_field:e.json_field,currentLayout:"desktop",selectedElementsId:[],rowCount:i.calcRowCount(e.gridder_json_field)});case r.CHANGE_GUIDES_VISIBILITY:return Object.assign({},e,{guidesVisibility:t.guidesVisibility});case r.SET_BACKGROUND_COLOR:var n=Object.assign({},e.json_field,{bgColor:t.bgColor});return Object.assign({},e,{json_field:n});case r.CHANGE_COLUMN_COUNT:var n=Object.assign({},e.json_field,{colCount:t.colCount});return Object.assign({},e,{json_field:n});case r.CHANGE_FRAME_MARGIN:var n=Object.assign({},e.json_field,{frameMargin:t.frameMargin});return Object.assign({},e,{json_field:n});case r.CHANGE_TOP_FRAME_MARGIN:var n=Object.assign({},e.json_field,{topFrameMargin:t.topFrameMargin});return Object.assign({},e,{json_field:n});case r.CHANGE_BOTTOM_FRAME_MARGIN:var n=Object.assign({},e.json_field,{bottomFrameMargin:t.bottomFrameMargin});return Object.assign({},e,{json_field:n});case r.SET_HEADER_HEIGHT:return e.headerHeight!==t.headerHeight?Object.assign({},e,{headerHeight:t.headerHeight}):e;case r.CHANGE_COLUMN_GUTTER:var n=Object.assign({},e.json_field,{colGutter:t.colGutter});return Object.assign({},e,{json_field:n});case r.CHANGE_ROW_GUTTERS:var o=e.json_field.rowGutters.map(function(n,o){return 0===e.selectedRowGutters.length?t.rowGutter:n===t.rowGutter||-1===e.selectedRowGutters.indexOf(o)?n:t.rowGutter}),n=Object.assign({},e.json_field,{rowGutters:o});return Object.assign({},e,{json_field:n});case r.CHANGE_ALIGN_OF_SELECTED_ELEMENTS:var s=Object.assign([],e.json_field.cont);for(var a in s)-1!==e.selectedElementsId.indexOf(s[a].relid)&&(s[a]=Object.assign({},s[a],{align:t.align}));var n=Object.assign({},e.json_field,{cont:s});return Object.assign({},e,{json_field:n})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(5);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.TOGGLE_SELECTED_ELEMENT:var n=Object.assign([],e.selectedElementsId),o=n.indexOf(t.selectedElementId);return o>=0?n.splice(o,1):n.push(t.selectedElementId),Object.assign({},e,{selectedElementsId:n,selectedRowGutters:[]});case r.SET_SELECTED_ELEMENTS:return Object.assign({},e,{selectedElementsId:t.selectedElementsId,selectedRowGutters:[]});case r.TOGGLE_SELECTED_ROW_GUTTER:var i=Object.assign([],e.selectedRowGutters),o=i.indexOf(t.selectedRowGutter);return o>=0?i.splice(o,1):i.push(t.selectedRowGutter),Object.assign({},e,{selectedRowGutters:i,selectedElementsId:[]});case r.SET_SELECTED_ROW_GUTTERS:return Object.assign({},e,{selectedRowGutters:t.selectedRowGutters,selectedElementsId:[]});case r.SHIFT_SELECTED_ELEMENTS:if(0===e.selectedElementsId.length)return Object.assign({},e,{selectedElementsId:[t.shiftElementId],selectedRowGutters:[]});var s=Object.assign(Array(),e.selectedElementsId);s.push(t.shiftElementId);for(var n=[],a=!1,l=0,c=e.json_field.cont;l<c.length;l++){var u=c[l],p=s.indexOf(u.relid);if(a||-1===p||(a=!0),a&&(n.push(u.relid),-1!==p&&s.splice(p,1),0===s.length))break}return Object.assign({},e,{selectedElementsId:n,selectedRowGutters:[]})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.START_DND:for(var n=-1,o=-1,a=-1,l="",c=null,u=0,p=0,d=e.json_field.cont;p<d.length;p++){var f=d[p];if(f.relid===t.relid)n=f.col,o=f.row,a=f.colspan,l=f.type,u=0;else if(f.type===i.ElementTypeEnum.STACK){u=0;for(var h=0,m=f.cont;h<m.length;h++){var g=m[h];if(g.relid===t.relid){n=f.col+g.col,o=f.row,a=g.colspan,l=g.type,c=f.relid;break}u+=e.elementsHeight[g.relid]}}if(-1!==n)break}var y={relid:t.relid,type:l,mouseStartX:t.event.clientX,mouseStartY:t.event.clientY,row:o,col:n,colspan:a,insertable:!0,inStack:c,offsetInRow:u};return Object.assign({},e,{dnd:y});case r.MOVE_DND:var y=Object.assign({},e.dnd);if(y.row=t.row,y.col=t.col,y.insertable=!0,y.inStack=null,y.offsetInRow=t.offsetInRow,y.colspan+y.col>e.json_field.colCount&&(y.insertable=!1),y.insertable)for(var E=0,b=e.json_field.cont;E<b.length;E++){var f=b[E];if(y.relid!==f.relid&&y.row===f.row){if(f.type===i.ElementTypeEnum.STACK&&y.type!==i.ElementTypeEnum.STACK&&f.col<=y.col&&f.col+f.colspan>=y.col+y.colspan){y.inStack=f.relid;continue}if(y.colspan+y.col>f.col&&f.colspan+f.col>y.col){var v=!1;if(null!==e.json_field.rowAttrs[f.row]&&void 0!==e.json_field.rowAttrs[f.row]&&!0===e.json_field.rowAttrs[f.row].row100vh&&(v=!0),f.type!==i.ElementTypeEnum.TEXT&&y.type!==i.ElementTypeEnum.TEXT||!v){y.insertable=!1;break}}}}return Object.assign({},e,{dnd:y});case r.END_DND:if(null!==e.dnd&&e.dnd.insertable){for(var _=Object.assign([],e.json_field.cont),f=null,w=0;w<_.length;w++){if(e.dnd.relid===_[w].relid)f=Object.assign({},_[w],{row:e.dnd.row,col:e.dnd.col}),_.splice(w,1);else if(_[w].type===i.ElementTypeEnum.STACK)for(var O=0;O<_[w].cont.length;O++)if(e.dnd.relid===_[w].cont[O].relid){_[w]=Object.assign({},_[w]),_[w].cont=Object.assign([],_[w].cont),f=Object.assign({},_[w].cont[O],{row:e.dnd.row,col:e.dnd.col}),_[w].cont.splice(O,1);break}if(null!==f)break}if(null===e.dnd.inStack)f.align="bottom",e.dnd.offsetInRow<=e.rowsHeight[f.row]/3?f.align="top":e.dnd.offsetInRow<2*e.rowsHeight[f.row]/3&&(f.align="middle"),0!==f.col&&s.isFrameOverflowLeft(f.frameOverflow)&&(f.frameOverflow=s.mergeFrameOverflowLeft(f.frameOverflow,!1)),f.col+f.colspan!==e.json_field.colCount&&s.isFrameOverflowRight(f.frameOverflow)&&(f.frameOverflow=s.mergeFrameOverflowRight(f.frameOverflow,!1)),""===f.frameOverflow&&delete f.frameOverflow,_.push(f),_.sort(s.sortElementFunc);else{delete f.frameOverflow;for(var w=0;w<_.length;w++)if(e.dnd.inStack===_[w].relid){_[w]=Object.assign({},_[w]),f.row=-1,f.col=f.col-_[w].col,_[w]=Object.assign({},_[w]),_[w].cont=Object.assign([],_[w].cont);var C=0,T=0;if(e.elementsHeight[e.json_field.cont[w].relid]<e.rowsHeight[e.json_field.cont[w].row])switch(T=e.rowsHeight[e.json_field.cont[w].row]-e.elementsHeight[e.json_field.cont[w].relid],e.json_field.cont[w].align){case"top":T=0;break;case"middle":T/=2}0!==e.json_field.cont[w].cont.length&&(T+=e.elementsHeight[e.json_field.cont[w].cont[0].relid]/2);for(var O=0;O<e.json_field.cont[w].cont.length&&!(e.dnd.offsetInRow<T);O++)e.json_field.cont[w].cont[O].relid!==e.dnd.relid&&C++,e.json_field.cont[w].cont.length>O+1&&(T+=(e.elementsHeight[e.json_field.cont[w].cont[O].relid]+e.elementsHeight[e.json_field.cont[w].cont[O+1].relid])/2);_[w].cont.splice(C,0,f);break}}s.calcPushes(_,e.json_field.rowAttrs);var A=Object.assign({},e.json_field,{cont:_});return Object.assign({},e,{json_field:A,dnd:null})}return Object.assign({},e,{dnd:null})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(4),s=n(5);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.START_RESIZE:for(var n=-1,o=-1,a=-1,l=-1,c="",u="",p=0,d=e.json_field.cont;p<d.length;p++){var f=d[p];if(f.relid===t.relid)n=f.col,o=f.row,l=f.colspan,u=f.frameOverflow,c=f.type;else if(f.type===i.ElementTypeEnum.STACK)for(var h=0,m=f.cont;h<m.length;h++){var g=m[h];if(g.relid===t.relid){n=g.col+f.col,o=g.row,a=f.row,l=g.colspan,c=g.type;break}}if(-1!==n)break}var y={relid:t.relid,type:c,mouseStartX:t.event.clientX,diffX:0,directionIsLeft:t.directionIsLeft,altKeyPressed:t.altKeyPressed,row:o,rowOfStack:a,col:n,colspan:l,frameOverflow:u,width:-1,left:-1,resizable:!0};return Object.assign({},e,{resize:y});case r.MOVE_RESIZE:var y=Object.assign({},e.resize);if(y.col=t.col,y.colspan=t.colspan,y.frameOverflow=t.frameOverflow,y.width=t.width,y.left=t.left,y.resizable=!0,y.diffX=t.diffX,y.colspan+y.col>e.json_field.colCount&&(y.resizable=!1),y.resizable)for(var E=0,b=e.json_field.cont;E<b.length;E++){var f=b[E];if(y.relid!==f.relid&&y.row===f.row){if(y.colspan+y.col>f.col&&f.colspan+f.col>y.col){var v=!1;if(null!==e.json_field.rowAttrs[f.row]&&void 0!==e.json_field.rowAttrs[f.row]&&!0===e.json_field.rowAttrs[f.row].row100vh&&(v=!0),y.type===i.ElementTypeEnum.TEXT&&v||(y.resizable=!1),!1===y.resizable)break}}else if(y.relid===f.relid&&y.type===i.ElementTypeEnum.STACK)for(var _=0,w=f.cont;_<w.length;_++){var g=w[_];(y.col>g.col+f.col||y.col+y.colspan<g.col+g.colspan+f.col)&&(y.resizable=!1)}else if(f.type===i.ElementTypeEnum.STACK){for(var O=!1,C=0,T=f.cont;C<T.length;C++){var g=T[C];if(y.relid===g.relid){O=!0;break}}O&&(y.col<f.col||y.col+y.colspan>f.col+f.colspan)&&(y.resizable=!1)}}return Object.assign({},e,{resize:y});case r.END_RESIZE:if(e.resize.resizable){var A=Object.assign([],e.json_field.cont),N=!1;for(var j in A){if(e.resize.relid===A[j].relid){var S=A[j].col-e.resize.col;if(console.log("state.resize.frameOverflow",e.resize.frameOverflow),A[j]=Object.assign({},A[j],{col:e.resize.col,colspan:e.resize.colspan,frameOverflow:e.resize.frameOverflow}),A[j].type===i.ElementTypeEnum.STACK){A[j].cont=Object.assign([],A[j].cont);for(var M in A[j].cont)A[j].cont[M]=Object.assign({},A[j].cont[M],{col:A[j].cont[M].col+S})}A.sort(s.sortElementFunc),N=!0}else if(A[j].type===i.ElementTypeEnum.STACK)for(var M in A[j].cont)if(e.resize.relid===A[j].cont[M].relid){A[j]=Object.assign({},A[j]),A[j].cont=Object.assign([],A[j].cont),A[j].cont[M]=Object.assign({},A[j].cont[M],{col:e.resize.col-A[j].col,colspan:e.resize.colspan}),N=!0;break}if(N)break}s.calcPushes(A,e.json_field.rowAttrs);var k=Object.assign({},e.json_field,{cont:A});return Object.assign({},e,{json_field:k,resize:null})}return Object.assign({},e,{resize:null})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(4),s=n(5);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.UPDATE_ELEMENTS_HEIGHT:return Object.assign({},e,{elementsHeight:t.elementsHeight});case r.UPDATE_ROWS_HEIGHT:return Object.assign({},e,{rowsHeight:t.rowsHeight});case r.UPDATE_ROWS_TOP:return Object.assign({},e,{rowsTop:t.rowsTop});case r.SET_CONTENT_WRAPPER_WIDTH:return Object.assign({},e,{contentWrapperWidth:t.width})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.INSERT_ROW:var n=e.rowCount+1,o=Object.assign([],e.json_field.rowGutters);n>1&&o.splice(t.rowIndex,0,s.getMeasure(s.MeasureUnitEnum.ROW_GUTTER,e.currentLayout));var a=Object.assign([],e.json_field.rowAttrs);a.splice(t.rowIndex,0,{});var l=Object.assign([],e.json_field.cont);for(var c in l)l[c].row>=t.rowIndex&&(l[c]=Object.assign({},l[c],{row:l[c].row+1}));var u=Object.assign({},e.json_field,{cont:l,rowGutters:o,rowAttrs:a});return Object.assign({},e,{json_field:u,rowCount:n});case r.MOVE_DOWN_ROW:t.rowIndex++;case r.MOVE_UP_ROW:if(t.rowIndex>0&&e.rowCount>t.rowIndex){var o=Object.assign([],e.json_field.rowGutters);void 0!==o[t.rowIndex]?(o[t.rowIndex]=e.json_field.rowGutters[t.rowIndex-1],o[t.rowIndex-1]=e.json_field.rowGutters[t.rowIndex]):o[t.rowIndex-1]=s.getMeasure(s.MeasureUnitEnum.ROW_GUTTER,e.currentLayout);var a=Object.assign([],e.json_field.rowAttrs);void 0!==a[t.rowIndex]?(a[t.rowIndex]=e.json_field.rowAttrs[t.rowIndex-1],a[t.rowIndex-1]=e.json_field.rowAttrs[t.rowIndex]):(a[t.rowIndex]=e.json_field.rowAttrs[t.rowIndex-1],a[t.rowIndex-1]=null);var l=Object.assign([],e.json_field.cont);for(var c in l)l[c].row===t.rowIndex?l[c]=Object.assign({},l[c],{row:l[c].row-1}):l[c].row===t.rowIndex-1&&(l[c]=Object.assign({},l[c],{row:l[c].row+1}));l.sort(i.sortElementFunc),i.calcPushes(l,e.json_field.rowAttrs);var u=Object.assign({},e.json_field,{cont:l,rowGutters:o,rowAttrs:a});return Object.assign({},e,{json_field:u})}return e;case r.DELETE_ROW:var n=e.rowCount-1,o=Object.assign([],e.json_field.rowGutters);0!==t.rowIndex&&t.rowIndex===o.length?o.splice(t.rowIndex-1,1):o.splice(t.rowIndex,1);var a=Object.assign([],e.json_field.rowAttrs);a.splice(t.rowIndex,1);for(var l=Object.assign([],e.json_field.cont),p=0,d=l;p<d.length;p++){var f=d[p];f.row>t.rowIndex&&(f.row=f.row-1)}var u=Object.assign({},e.json_field,{cont:l,rowGutters:o,rowAttrs:a});return Object.assign({},e,{json_field:u,rowCount:n});case r.OPEN_MODAL_EDIT_ROW_CLASSES_HTML_ID:var h={};return e.json_field.rowAttrs.length>t.row&&(h=Object.assign({},e.json_field.rowAttrs[t.row])),h.row=t.row,Object.assign({},e,{modal:{type:"classesHtmlIdRow",cont:h}});case r.INIT_ROW_ATTRS:for(var n=i.calcRowCount(e.json_field),a=Object.assign([],e.json_field.rowAttrs),c=0;c<n;c++)a[c]instanceof Object||(a[c]={});var u=Object.assign({},e.json_field,{rowAttrs:a});if(null!==e.phone_gridder_json_field){var m=void 0;m="desktop"===e.currentLayout?Object.assign({},e.phone_gridder_json_field):Object.assign({},e.gridder_json_field),n=i.calcRowCount(m);for(var g=Object.assign([],m.rowAttrs),c=0;c<n;c++)g[c]instanceof Object||(g[c]={});return m.rowAttrs=g,"desktop"===e.currentLayout?Object.assign({},e,{json_field:u,phone_gridder_json_field:m}):Object.assign({},e,{json_field:u,gridder_json_field:m})}return Object.assign({},e,{json_field:u});case r.SET_ROW_ATTRS:for(var a=Object.assign([],e.json_field.rowAttrs),c=0;;c++){if(c===t.row){a[c]=Object.assign({},a[c],t.cont);for(var y in a[c])null!==a[c][y]&&""!==a[c][y]||delete a[c][y];break}a.length<=c&&(a[c]={})}var u=Object.assign({},e.json_field,{rowAttrs:a});return Object.assign({},e,{json_field:u,modal:null});case r.OPEN_MODAL_EDIT_ROW_BG_VIDEO:var h={};return e.json_field.rowAttrs.length>t.row&&(h=Object.assign({},e.json_field.rowAttrs[t.row])),h.row=t.row,Object.assign({},e,{modal:{type:"bgVideo",cont:h}});case r.OPEN_MODAL_EDIT_ROW_BG_IMAGE:var h={};return e.json_field.rowAttrs.length>t.row&&(h=Object.assign({},e.json_field.rowAttrs[t.row])),h.row=t.row,Object.assign({},e,{modal:{type:"bgImage",cont:h}})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(5),s=n(11);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.SET_ROW_ATTR_100vh:var n=Object.assign([],e.json_field.rowAttrs);null===n[t.row]?!0===t.row100vh&&(n[t.row]={},n[t.row].row100vh=!0):!0===t.row100vh?n[t.row]=Object.assign({},n[t.row],{row100vh:!0}):(n[t.row]=Object.assign({},n[t.row]),delete n[t.row].row100vh,n[t.row]==={}&&(n[t.row]=null));var o=Object.assign([],e.json_field.cont);s.calcPushes(o,n);var i=Object.assign({},e.json_field,{rowAttrs:n,cont:o});return Object.assign({},e,{json_field:i});case r.SET_ROW_ATTR_BGCOLOR:var n=Object.assign([],e.json_field.rowAttrs);null===n[t.row]?null!==t.bgcolor&&(n[t.row]={},n[t.row].bgcolor=t.bgcolor):null!==t.bgcolor?n[t.row]=Object.assign({},n[t.row],{bgcolor:t.bgcolor}):(n[t.row]=Object.assign({},n[t.row]),delete n[t.row].bgcolor,n[t.row]==={}&&(n[t.row]=null));var i=Object.assign({},e.json_field,{rowAttrs:n});return Object.assign({},e,{json_field:i});case r.CHANGE_ELEMENT_SPACE_ABOVE:var o=a(e.json_field.cont,t,"spaceabove");if(!1!==o){var i=Object.assign({},e.json_field,{cont:o});return Object.assign({},e,{json_field:i})}case r.CHANGE_ELEMENT_SPACE_BELOW:var o=a(e.json_field.cont,t,"spacebelow");if(!1!==o){var i=Object.assign({},e.json_field,{cont:o});return Object.assign({},e,{json_field:i})}case r.CHANGE_ELEMENT_OFFSET_X:var o=a(e.json_field.cont,t,"offsetx");if(!1!==o){var i=Object.assign({},e.json_field,{cont:o});return Object.assign({},e,{json_field:i})}case r.CHANGE_ELEMENT_OFFSET_Y:var o=a(e.json_field.cont,t,"offsety");if(!1!==o){var i=Object.assign({},e.json_field,{cont:o});return Object.assign({},e,{json_field:i})}case r.CHANGE_ELEMENT_YVEL:var o=a(e.json_field.cont,t,"yvel");if(!1!==o){var i=Object.assign({},e.json_field,{cont:o});return Object.assign({},e,{json_field:i})}case r.CHANGE_IS_SCROLL_TO_TOP:var o=void 0;if(!1!==(o=t.isscrolltotop?a(e.json_field.cont,t,"isscrolltotop"):l(e.json_field.cont,t,"isscrolltotop"))){var i=Object.assign({},e.json_field,{cont:o});return Object.assign({},e,{json_field:i})}case r.CHANGE_LB_OFF:var o=void 0;if(!1!==(o=t.lightboxoff?a(e.json_field.cont,t,"lightboxoff"):l(e.json_field.cont,t,"lightboxoff"))){var i=Object.assign({},e.json_field,{cont:o});return Object.assign({},e,{json_field:i})}}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(4),s=n(5);t.default=o;var a=function(e,t,n){var o={};o[n]=t[n];var r=Object.assign([],e);for(var s in r){if(t.relid===r[s].relid)return r[s]=Object.assign({},r[s],o),r;if(r[s].type===i.ElementTypeEnum.STACK)for(var a in r[s].cont)if(t.relid===r[s].cont[a].relid){var l=Object.assign([],r[s].cont);return l[a]=Object.assign({},l[a],o),r[s]=Object.assign({},r[s],{cont:l}),r}}return!1},l=function(e,t,n){var o=Object.assign([],e);for(var r in o){if(t.relid===o[r].relid)return o[r]=Object.assign({},o[r]),delete o[r][n],o;if(o[r].type===i.ElementTypeEnum.STACK)for(var s in o[r].cont)if(t.relid===o[r].cont[s].relid){var a=Object.assign([],o[r].cont);return a[s]=Object.assign({},a[s]),delete a[s][n],o[r]=Object.assign({},o[r],{cont:a}),o}}return!1}},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.SET_ADD_ELEMENTS:return Object.assign({},e,{addElements:t.cont,modal:null});case r.SET_ELEMENT_CONTENT:var n=Object.assign([],e.json_field.cont);for(var o in n){if(n[o].relid===t.relid){n[o]=Object.assign({},n[o],t.cont);for(var c=0,u=l;c<u.length;c++){var p=u[c];!n[o].hasOwnProperty(p)||null!==Reflect.get(n[o],p)&&""!==Reflect.get(n[o],p)||Reflect.deleteProperty(n[o],p)}break}if(n[o].type===i.ElementTypeEnum.STACK){var d=Object.assign([],n[o].cont),f=!1;for(var h in d)if(d[h].relid===t.relid){d[h]=Object.assign({},d[h],t.cont);for(var m=0,g=l;m<g.length;m++){var p=g[m];!d[h].hasOwnProperty(p)||null!==Reflect.get(d[h],p)&&""!==Reflect.get(d[h],p)||Reflect.deleteProperty(d[h],p)}f=!0;break}f&&(n[o]=Object.assign({},n[o],{cont:d}))}}var y=Object.assign({},e.json_field,{cont:n});return Object.assign({},e,{modal:null,json_field:y});case r.MAYBE_SYNC_ELEMENT:if(null!==e.phone_gridder_json_field){for(var E=!1,b=null,v=0,_=e.json_field.cont;v<_.length;v++){var w=_[v];if(w.type===i.ElementTypeEnum.STACK){if(w.relid===t.relid){b=w;break}for(var O=0,C=w.cont;O<C.length;O++){var T=C[O];if(T.relid===t.relid){ce=T.dosync,E=void 0===ce||ce,b=T;break}}if(null!==b)break}else if(w.relid===t.relid){ue=w.dosync,E=void 0===ue||ue,b=w;break}}if(E){var A=[];A="desktop"===e.currentLayout?Object.assign([],e.phone_gridder_json_field.cont):Object.assign([],e.gridder_json_field.cont);for(var o in A){if(A[o].relid===t.relid){var N=A[o],j=N.align,S=N.row,M=N.col,k=N.colspan,x=N.offsetx,P=N.offsety,D=N.spaceabove,L=N.spacebelow,R=N.push,I=N.yvel,G=N.lightbox_caption,H=N.lightboxoff;A[o]=Object.assign({},A[o],b,{align:j,row:S,col:M,colspan:k,offsetx:x,offsety:P,spaceabove:D,spacebelow:L,push:R,yvel:I,lightbox_caption:G,lightboxoff:H});break}if(A[o].type===i.ElementTypeEnum.STACK){var d=Object.assign([],A[o].cont),B=!1;for(var h in d)if(d[h].relid===t.relid){var F=d[h],j=F.align,S=F.row,M=F.col,k=F.colspan,x=F.offsetx,P=F.offsety,D=F.spaceabove,L=F.spacebelow,R=F.push,I=F.yvel,G=F.lightbox_caption,H=F.lightboxoff;d[h]=Object.assign({},d[h],b,{align:j,row:S,col:M,colspan:k,offsetx:x,offsety:P,spaceabove:D,spacebelow:L,push:R,yvel:I,lightbox_caption:G,lightboxoff:H}),B=!0;break}if(B){A[o]=Object.assign({},A[o],{cont:d});break}}}var U=void 0;return"desktop"===e.currentLayout?(U=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{phone_gridder_json_field:U})):(U=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{gridder_json_field:U}))}return e}case r.SET_ELEMENT_DO_SYNC:if(null!==e.phone_gridder_json_field){var n=Object.assign([],e.json_field.cont);for(var o in n)if(n[o].type===i.ElementTypeEnum.STACK){if(n[o].relid===t.relid)break;var d=Object.assign([],n[o].cont),B=!1;for(var h in d)if(d[h].relid===t.relid){d[h]=Object.assign({},d[h]),delete d[h].dosync,B=!0;break}if(B){n[o]=Object.assign({},n[o],{cont:d});break}}else if(n[o].relid===t.relid){n[o]=Object.assign({},n[o]),delete n[o].dosync;break}var y=Object.assign({},e.json_field,{cont:n}),A=[];A="desktop"===e.currentLayout?Object.assign([],e.phone_gridder_json_field.cont):Object.assign([],e.gridder_json_field.cont);for(var o in A){if(A[o].relid===t.relid){A[o]=Object.assign({},A[o]),delete A[o].dosync;break}if(A[o].type===i.ElementTypeEnum.STACK){var d=Object.assign([],A[o].cont),B=!1;for(var h in d)if(d[h].relid===t.relid){d[h]=Object.assign({},d[h]),delete d[h].dosync,B=!0;break}if(B){A[o]=Object.assign({},A[o],{cont:d});break}}}var U=void 0;return"desktop"===e.currentLayout?(U=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,phone_gridder_json_field:U})):(U=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,gridder_json_field:U}))}case r.SET_ELEMENT_DO_NOT_SYNC:var n=Object.assign([],e.json_field.cont);for(var o in n)if(n[o].type===i.ElementTypeEnum.STACK){if(n[o].relid===t.relid)break;var d=Object.assign([],n[o].cont),B=!1;for(var h in d)if(d[h].relid===t.relid){d[h]=Object.assign({},d[h]),null===e.phone_gridder_json_field?delete d[h].dosync:d[h].dosync=!1,B=!0;break}if(B){n[o]=Object.assign({},n[o],{cont:d});break}}else if(n[o].relid===t.relid){n[o]=Object.assign({},n[o]),null===e.phone_gridder_json_field?delete n[o].dosync:n[o].dosync=!1;break}var y=Object.assign({},e.json_field,{cont:n});if(null!==e.phone_gridder_json_field){var A=[];A="desktop"===e.currentLayout?Object.assign([],e.phone_gridder_json_field.cont):Object.assign([],e.gridder_json_field.cont);for(var o in A){if(A[o].relid===t.relid){A[o]=Object.assign({},A[o],{dosync:!1});break}if(A[o].type===i.ElementTypeEnum.STACK){var d=Object.assign([],A[o].cont),B=!1;for(var h in d)if(d[h].relid===t.relid){d[h]=Object.assign({},d[h],{dosync:!1}),B=!0;break}if(B){A[o]=Object.assign({},A[o],{cont:d});break}}}var U=void 0;return"desktop"===e.currentLayout?(U=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{modal:null,json_field:y,phone_gridder_json_field:U})):(U=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{modal:null,json_field:y,gridder_json_field:U}))}return Object.assign({},e,{modal:null,json_field:y});case r.DELETE_ADD_ELEMENTS:return Object.assign({},e,{addElements:null,addElementPosition:null,modal:null});case r.CHANGE_ADD_ELEMENT_POSITION:if(-1===t.row||-1===t.col||null===e.addElements||0===e.addElements.length)return Object.assign({},e,{addElementPosition:null});var W=!0,z=null;if(t.colspan+t.col>e.json_field.colCount&&(W=!1),W)for(var V=0,Y=e.json_field.cont;V<Y.length;V++){var w=Y[V];if(t.row===w.row)if(w.type===i.ElementTypeEnum.STACK&&e.addElements[0].type!==i.ElementTypeEnum.STACK)if(t.col>=w.col&&t.col<=w.col+w.colspan&&t.colspan>w.colspan)z=w.relid;else{if(t.col<w.col&&t.col+t.colspan>w.col||t.col<w.col+w.colspan&&t.col+t.colspan>w.col+w.colspan){W=!1;break}z=w.relid}else if(t.colspan+t.col>w.col&&w.colspan+w.col>t.col){var K=!1;if(null!==e.json_field.rowAttrs[t.row]&&void 0!==e.json_field.rowAttrs[t.row]&&!0===e.json_field.rowAttrs[t.row].row100vh&&(K=!0),e.addElements[0].type!==i.ElementTypeEnum.TEXT&&w.type!==i.ElementTypeEnum.TEXT||!K){W=!1;break}}}var X={row:t.row,col:t.col,colspan:t.colspan,align:t.align,rowOffset:t.rowOffset,droppable:W,inStack:z};return Object.assign({},e,{addElementPosition:X});case r.ADD_ELEMENT_TO_CONT:if(null!==e.addElementPosition&&e.addElementPosition.droppable){var J="desktop"===e.currentLayout?e.phone_gridder_json_field:e.gridder_json_field,q=s.getRelids(e.json_field,J),Z=-1===t.cont.relid?s.createUniqueId(q):t.cont.relid,n=Object.assign([],e.json_field.cont),$=!1;for(var o in n)if(n[o].type===i.ElementTypeEnum.STACK&&t.cont.type!==i.ElementTypeEnum.STACK&&n[o].row===e.addElementPosition.row&&n[o].col<=e.addElementPosition.col&&(n[o].col+n[o].colspan>=e.addElementPosition.col+e.addElementPosition.colspan||n[o].colspan<e.addElementPosition.colspan&&n[o].col+n[o].colspan>e.addElementPosition.col)){var Q=Object.assign({},n[o]);Q.cont=Object.assign([],n[o].cont);var M=e.addElementPosition.col-Q.col,k=e.addElementPosition.colspan;n[o].colspan<e.addElementPosition.colspan&&(M=0,k=n[o].colspan);var ee=Object.assign({},t.cont,{relid:Z,col:M,colspan:k,row:-1,push:M}),te=0;if(e.elementsHeight[n[o].relid]<e.rowsHeight[n[o].row])switch(te=e.rowsHeight[n[o].row]-e.elementsHeight[n[o].relid],n[o].align){case"top":te=0;break;case"middle":te/=2}for(var h=0;h<=Q.cont.length;h++){if(Q.cont.length===h||e.addElementPosition.rowOffset<te+e.elementsHeight[Q.cont[h].relid]/2){Q.cont.splice(h,0,ee);break}te+=e.elementsHeight[Q.cont[h].relid]}n[o]=Q,$=!0;break}if(!$){var ee=Object.assign({},t.cont,{relid:Z,col:e.addElementPosition.col,colspan:e.addElementPosition.colspan,row:e.addElementPosition.row});n.push(ee),n.sort(a.sortElementFunc)}a.calcPushes(n,e.json_field.rowAttrs);var y=Object.assign({},e.json_field,{cont:n}),ne=Object.assign([],e.addElements);return ne.splice(0,1),0===ne.length&&(ne=null),Object.assign({},e,{addElementPosition:null,addElements:ne,json_field:y})}return e;case r.DELETE_ELEMENTS:for(var n=Object.assign([],e.json_field.cont),oe=[],re=0;re<n.length;){var ie=-1!==t.relids.indexOf(n[re].relid);if(n[re].type===i.ElementTypeEnum.STACK){for(var d=Object.assign([],n[re].cont),se=!1,h=0;h<d.length;)ie||-1!==t.relids.indexOf(d[h].relid)?((void 0===d[h].dosync||d[h].dosync)&&oe.push(d[h].relid),d.splice(Number(h),1),se=!0):h++;se&&(n[re]=Object.assign({},n[re],{cont:d}))}ie?((void 0===n[re].dosync||n[re].dosync)&&oe.push(n[re].relid),n.splice(Number(re),1)):re++}a.calcPushes(n,e.json_field.rowAttrs);var y=Object.assign({},e.json_field,{cont:n}),A=[],ae=[];"desktop"===e.currentLayout?null!==e.phone_gridder_json_field&&(A=Object.assign([],e.phone_gridder_json_field.cont),ae=Object.assign([],e.phone_gridder_json_field.rowAttrs)):(A=Object.assign([],e.gridder_json_field.cont),ae=Object.assign([],e.gridder_json_field.rowAttrs));for(var re=0;re<A.length;)if(-1===oe.indexOf(A[re].relid)){if(A[re].type===i.ElementTypeEnum.STACK){for(var le=Object.assign([],A[re].cont),se=!1,h=0;h<le.length;)-1===oe.indexOf(le[h].relid)?h++:(le.splice(h,1),se=!0);se&&(A[re]=Object.assign({},A[re],{cont:le}))}re++}else A.splice(re,1);a.calcPushes(A,ae);var U=void 0;return"desktop"===e.currentLayout?null!==e.phone_gridder_json_field?(U=Object.assign({},e.phone_gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,phone_gridder_json_field:U})):Object.assign({},e,{json_field:y}):(U=Object.assign({},e.gridder_json_field,{cont:A}),Object.assign({},e,{json_field:y,gridder_json_field:U}));case r.OPEN_MODAL_ADD:return Object.assign({},e,{modal:{type:t.elementType,cont:null}});case r.OPEN_MODAL_EDIT:var w=null;for(var o in e.json_field.cont){if(t.relid===e.json_field.cont[o].relid)w=JSON.parse(JSON.stringify(e.json_field.cont[o]));else if(e.json_field.cont[o].type===i.ElementTypeEnum.STACK)for(var h in e.json_field.cont[o].cont)if(t.relid===e.json_field.cont[o].cont[h].relid){w=JSON.parse(JSON.stringify(e.json_field.cont[o].cont[h]));break}if(null!==w)break}switch(w.type){case i.ElementTypeEnum.POST_THUMBNAIL:case i.ElementTypeEnum.THUMBNAIL_GRID:case i.ElementTypeEnum.TEXT:if(t.target!==i.ElementAttributeTargetEnum.CAPTION)break;case i.ElementTypeEnum.HORIZONTAL_LINE:case i.ElementTypeEnum.STACK:return e}return t.target===i.ElementAttributeTargetEnum.CAPTION?Object.assign({},e,{modal:{type:"text",cont:w,target:i.ElementAttributeTargetEnum.CAPTION}}):t.target===i.ElementAttributeTargetEnum.LIGHTBOX_CAPTION?w.type!==i.ElementTypeEnum.IMAGE?e:Object.assign({},e,{modal:{type:"text",cont:w,target:i.ElementAttributeTargetEnum.LIGHTBOX_CAPTION}}):Object.assign({},e,{modal:{type:w.type,cont:w}});case r.OPEN_MODAL_EDIT_ELEMENT_CLASSES_HTML_ID:var w=null;for(var o in e.json_field.cont){if(t.relid===e.json_field.cont[o].relid)w=Object.assign({},e.json_field.cont[o]);else if(e.json_field.cont[o].type===i.ElementTypeEnum.STACK)for(var h in e.json_field.cont[o].cont)if(t.relid===e.json_field.cont[o].cont[h].relid){w=Object.assign({},e.json_field.cont[o].cont[h]);break}if(null!==w)break}return Object.assign({},e,{modal:{type:"classesHtmlIdElement",cont:w}});case r.OPEN_MODAL_EDIT_ELEMENT_LINK_IMAGE:var w=null;for(var o in e.json_field.cont){if(t.relid===e.json_field.cont[o].relid)w=Object.assign({},e.json_field.cont[o]);else if(e.json_field.cont[o].type===i.ElementTypeEnum.STACK)for(var h in e.json_field.cont[o].cont)if(t.relid===e.json_field.cont[o].cont[h].relid){w=Object.assign({},e.json_field.cont[o].cont[h]);break}if(null!==w)break}return Object.assign({},e,{modal:{type:"linkImage",cont:w}});case r.CLOSE_MODAL:return Object.assign({},e,{modal:null})}return e;var ce,ue}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(4),s=n(5),a=n(5),l=["caption","html_id","classes","imagelink"];t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.SET_TEMPLATE:return"desktop"===e.currentLayout?Object.assign({},e,{json_field:t.templateDesktopJson,phone_gridder_json_field:t.templatePhoneJson,selectedElementsId:[],rowCount:i.calcRowCount(t.templateDesktopJson)}):Object.assign({},e,{json_field:t.templatePhoneJson,gridder_json_field:t.templateDesktopJson,selectedElementsId:[],rowCount:i.calcRowCount(t.templatePhoneJson)})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(5);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.SET_NOTICE:return Object.assign({},e,{notice:t.reason});case r.UNSET_NOTICE:return Object.assign({},e,{notice:null})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.SET_GRIDDER_JSON_FIELD:return"desktop"===e.currentLayout?Object.assign({},e,{json_field:t.jsonField}):Object.assign({},e,{gridder_json_field:t.jsonField});case r.SET_PHONE_GRIDDER_JSON_FIELD:return"desktop"===e.currentLayout?Object.assign({},e,{phone_gridder_json_field:t.jsonField}):Object.assign({},e,{json_field:t.jsonField})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.UPDATE_THUMBNAILS_OF_CATEGORY:var n=Object.assign([],e.thumbnailGridPosts);return n[t.catId]=t.posts,Object.assign({},e,{thumbnailGridPosts:n})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8);t.default=o},function(e,t,n){"use strict";function o(e,t){switch(t.type){case r.CREATE_STACKED_PHONE_LAYOUT:for(var n=a.getPhoneGridderJsonDefault(),o=0,l=0,c=e.json_field.cont;l<c.length;l++){var u=c[l];if(u.type===i.ElementTypeEnum.STACK)for(var p=0,d=u.cont;p<d.length;p++){var f=d[p],h=Object.assign({},JSON.parse(JSON.stringify(f)),{align:"bottom",col:0,push:0,spaceabove:0,spacebelow:0,offsetx:0,offsety:0,row:o++,colspan:n.colCount});n.cont.push(h)}else{var h=Object.assign({},JSON.parse(JSON.stringify(u)),{align:"bottom",col:0,push:0,spaceabove:0,spacebelow:0,offsetx:0,offsety:0,row:o++,colspan:n.colCount});n.cont.push(h)}}for(var m in n.cont)0!==Number(m)&&(n.rowGutters.push(Number(s.default.gridderDefaults.phoneRowGutter)),n.rowAttrs.push({}));return Object.assign({},e,{phone_gridder_json_field:n,modal:null});case r.CREATE_EMPTY_PHONE_LAYOUT:var n=a.getPhoneGridderJsonDefault();return Object.assign({},e,{phone_gridder_json_field:n,modal:null});case r.CREATE_COPIED_PHONE_LAYOUT:var n=JSON.parse(JSON.stringify(e.json_field));for(var m in n.rowGutters)n.rowGutters[m]=Number(s.default.gridderDefaults.phoneRowGutter);return n.frameMargin=Number(s.default.gridderDefaults.phoneFrame),n.topFrameMargin=Number(s.default.gridderDefaults.phoneTopFrame),n.bottomFrameMargin=Number(s.default.gridderDefaults.phoneBottomFrame),Object.assign({},e,{phone_gridder_json_field:n,modal:null});case r.DELETE_PHONE_LAYOUT:var g=void 0;g="desktop"===e.currentLayout?Object.assign({},e.json_field):Object.assign({},e.gridder_json_field),g.cont=Object.assign([],g.cont);for(var m in g.cont)if(g.cont[m]=Object.assign({},g.cont[m]),delete g.cont[m].dosync,g.cont[m].type===i.ElementTypeEnum.STACK){g.cont[m].cont=Object.assign([],g.cont[m].cont);for(var y in g.cont[m].cont)g.cont[m].cont[y]=Object.assign({},g.cont[m].cont[y]),delete g.cont[m].cont[y].dosync}return"desktop"===e.currentLayout?Object.assign({},e,{json_field:g,phone_gridder_json_field:null,modal:null}):Object.assign({},e,{gridder_json_field:g,phone_gridder_json_field:null,modal:null})}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(4),s=n(6),a=n(5);t.default=o},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(9),a=n(97),l=n(115),c=n(116),u=n(134);s.default("body").on("click",'input[name="screen_columns"], #collapse-menu',function(){window.dispatchEvent(new Event("resize"))});var p=function(e,t){return{currentLayout:e.currentLayout}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e="show-desktop-version";return"desktop"!==this.props.currentLayout&&(e="show-phone-version"),r.createElement("div",{id:"gridder-root",className:e},r.createElement(l.default,null),r.createElement(a.default,null),r.createElement(c.default,null),r.createElement(u.default,null))},t}(r.Component);t.default=i.connect(p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(17),l=n(2),c=n(98),u=n(99),p=n(100),d=n(101),f=n(102),h=n(103),m=n(104),g=n(105),y=n(106),E=n(108),b=n(109),v=n(110),_=n(111),w=n(112),O=n(113),C=n(114),T=n(7),A=n(5),N=n(6),j=function(e,t){return{notice:e.notice}},S=function(e){return{setHeaderHeight:s.bindActionCreators(l.setHeaderHeightAction,e)}},M=function(e){function t(t){var n=e.call(this,t)||this;return n.onResizeThrottle=a.throttle(n.onResize.bind(n),T.default.throttleResize),n.onScrollThrottle=a.throttle(n.onScroll.bind(n),T.default.throttleScroll),n.state={dropDown:"",posX:0,posY:0,fixed:!1,width:0},n}return o(t,e),t.prototype.showSetFrameDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"setFrame",posX:e,posY:t})},0)},t.prototype.hideSetFrameDropDown=function(){"setFrame"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showColorpickerDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"setBackgroundColor",posX:e,posY:t})},0)},t.prototype.hideColorpickerDropDown=function(){"setBackgroundColor"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showAddVideoDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"addVideo",posX:e,posY:t})},0)},t.prototype.hideAddVideoDropDown=function(){"addVideo"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showAddMoreDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"addMore",posX:e,posY:t})},0)},t.prototype.hideAddMoreDropDown=function(){"addMore"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.showDeletePhoneLayoutDropDown=function(e,t){var n=this;setTimeout(function(){n.setState({dropDown:"deletePhoneLayout",posX:e,posY:t})},0)},t.prototype.hideDeletePhoneLayoutDropDown=function(){"deletePhoneLayout"===this.state.dropDown&&this.setState({dropDown:""})},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResizeThrottle),window.addEventListener("scroll",this.onScrollThrottle),this.onResizeThrottle(),this.onResizeThrottle()},t.prototype.componentDidUpdate=function(){this.onResizeThrottle()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResizeThrottle),window.removeEventListener("scroll",this.onScrollThrottle)},t.prototype.onResize=function(){this.props.setHeaderHeight(this.domElement.offsetHeight-1),this.state.width!==document.getElementById("gridder-root").offsetWidth&&this.setState({width:document.getElementById("gridder-root").offsetWidth})},t.prototype.onScroll=function(e){var t=0>document.getElementById("gridder-root").getBoundingClientRect().top-document.getElementById("wpadminbar").offsetHeight;t!==this.state.fixed&&this.setState({fixed:t})},t.prototype.onKeydownHandle=function(e){e.stopPropagation(),A.preventEnter(e)},t.prototype.render=function(){var e=this,t="",n={};return this.state.fixed&&(t="fixed",n.width=this.state.width),r.createElement("header",{className:t,style:n,ref:function(t){return e.domElement=t}},r.createElement("div",{className:"gridder-header",onKeyDown:function(t){return e.onKeydownHandle(t)}},N.default.phoneLayoutActive&&r.createElement(h.default,{dropDownShown:"deletePhoneLayout"===this.state.dropDown,showDeletePhoneLayoutDropDown:this.showDeletePhoneLayoutDropDown.bind(this),hideDeletePhoneLayoutDropDown:this.hideDeletePhoneLayoutDropDown.bind(this)}),r.createElement(c.default,null),r.createElement(u.default,null),r.createElement(p.default,null),r.createElement(d.default,{dropDownShown:"setFrame"===this.state.dropDown,showSetFrameDropDown:this.showSetFrameDropDown.bind(this),hideSetFrameDropDown:this.hideSetFrameDropDown.bind(this)}),r.createElement(f.default,{dropDownShown:"setBackgroundColor"===this.state.dropDown,showColorpickerDropDown:this.showColorpickerDropDown.bind(this),hideColorpickerDropDown:this.hideColorpickerDropDown.bind(this)}),r.createElement("br",{className:"gridder-header-linebreak"}),r.createElement(m.default,{dropDownShown:this.state.dropDown,showAddVideoDropDown:this.showAddVideoDropDown.bind(this),hideAddVideoDropDown:this.hideAddVideoDropDown.bind(this),showAddMoreDropDown:this.showAddMoreDropDown.bind(this),hideAddMoreDropDown:this.hideAddMoreDropDown.bind(this)}),r.createElement(g.default,null),r.createElement(y.default,null),r.createElement(E.default,null),r.createElement(b.default,{hidden:"addVideo"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideAddVideoDropDown:this.hideAddVideoDropDown.bind(this)}),r.createElement(v.default,{hidden:"addMore"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideAddMoreDropDown:this.hideAddMoreDropDown.bind(this)}),r.createElement(_.default,{hidden:"setFrame"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideSetFrameDropDown:this.hideSetFrameDropDown.bind(this)}),r.createElement(w.default,{hidden:"deletePhoneLayout"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideDeletePhoneLayoutDropDown:this.hideDeletePhoneLayoutDropDown.bind(this)}),r.createElement(O.default,{hidden:"setBackgroundColor"!==this.state.dropDown,posX:this.state.posX,posY:this.state.posY,hideColorpickerDropDown:this.hideColorpickerDropDown.bind(this)}),r.createElement(C.default,null)))},t}(r.Component);t.default=i.connect(j,S)(M)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(19),l=n(6),c=function(e,t){return{colCount:e.json_field.colCount}},u=function(e){return{changeColumnCount:s.bindActionCreators(a.changeColumnCount,e)}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleChange=function(e){this.props.changeColumnCount(Number(e.target.value)),e.target.value=this.props.colCount},t.prototype.render=function(){for(var e=this,t=[],n=1;n<32;n++)t.push(r.createElement("option",{key:n,value:n},n));var o="1"===l.default.disableInputs,i="1"===l.default.disableInputs?{display:"none"}:{};return r.createElement("div",{className:"input-group input-group-sm group-columns",style:i},r.createElement("span",{className:"input-group-addon"},"Column Count"),r.createElement("select",{disabled:o,id:"columns",value:this.props.colCount,onChange:function(t){return e.handleChange(t)},className:"column-input form-control"},t))},t}(r.Component);t.default=i.connect(c,u)(p)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(19),l=n(6),c=function(e,t){return{colGutter:e.json_field.colGutter}},u=function(e){return{changeColumnGutter:s.bindActionCreators(a.changeColumnGutter,e)}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleChange=function(e){this.props.changeColumnGutter(Number(e.target.value)),e.target.value=this.props.colGutter},t.prototype.render=function(){var e=this,t="1"===l.default.disableInputs,n="1"===l.default.disableInputs?{display:"none"}:{};return r.createElement("div",{className:"input-group input-group-sm group-column-gutter",style:n},r.createElement("span",{className:"input-group-addon prefix"},"Column Gutter"),r.createElement("input",{disabled:t,onChange:function(t){return e.handleChange(t)},value:this.props.colGutter,type:"number",min:"0",max:"100",step:"0.1",id:"column-margin",className:"column-input form-control"}),r.createElement("span",{className:"input-group-addon postfix"},"%"))},t}(r.Component);t.default=i.connect(c,u)(p)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(19),l=n(6),c=function(e,t){return{rowGutters:e.json_field.rowGutters,selectedRowGutters:e.selectedRowGutters}},u=function(e){return{changeRowGutters:s.bindActionCreators(a.changeRowGutters,e)}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleChange=function(e){this.props.changeRowGutters(Number(e.target.value)),e.target.value=this.getRowGutterValue()},t.prototype.getRowGutterValue=function(){if(0===this.props.rowGutters.length)return Number(l.default.gridderDefaults.rowGutter);if(0===this.props.selectedRowGutters.length){for(var e=this.props.rowGutters[0],t=0,n=this.props.rowGutters;t<n.length;t++){if(e!==n[t])return""}return e}var o=this.props.rowGutters[this.props.selectedRowGutters[0]];for(var r in this.props.rowGutters)if(this.props.selectedRowGutters.indexOf(Number(r))>=0&&o!==this.props.rowGutters[r])return"";return o},t.prototype.onClickHandle=function(e){e.stopPropagation()},t.prototype.render=function(){var e=this,t=this.getRowGutterValue(),n=.1;"px"===l.default.gridderDefaults.rowGutterMu&&(n=1);var o="1"===l.default.disableInputs,i="1"===l.default.disableInputs?{display:"none"}:{};return r.createElement("div",{className:"input-group input-group-sm group-row-gutter",onClick:function(t){return e.onClickHandle(t)},style:i},r.createElement("span",{className:"input-group-addon prefix"},"Row Gutter"),r.createElement("input",{disabled:o,onChange:function(t){return e.handleChange(t)},value:t,type:"number",min:"0",max:"999",step:n,id:"row-margin",className:"row-input form-control"}),r.createElement("span",{className:"input-group-addon postfix"},l.default.gridderDefaults.rowGutterMu))},t}(r.Component);t.default=i.connect(c,u)(p)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.showSetFrameDropDown=function(){if(this.props.dropDownShown)this.props.hideSetFrameDropDown();else{var e=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight;this.props.showSetFrameDropDown(e,t)}},t.prototype.render=function(){var e=this,t="lay-dropdown-btn btn btn-default btn-sm set-frame-btn";this.props.dropDownShown&&(t+=" expanded");var n="1"===i.default.disableInputs,o="1"===i.default.disableInputs?{display:"none"}:{};return r.createElement("button",{disabled:n,type:"button",onClick:function(){return e.showSetFrameDropDown()},ref:function(t){e.domElement=t},className:t,style:o},r.createElement("span",null,"Set Frame"),r.createElement("span",{className:"expand-arrow"}))},t}(r.Component);t.default=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onButtonClick=function(){if(this.props.dropDownShown)this.props.hideColorpickerDropDown();else{var e=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight;this.props.showColorpickerDropDown(e,t)}},t.prototype.render=function(){var e=this,t="lay-colorpicker-btn btn btn-default btn-sm lay-dropdown-btn";return this.props.dropDownShown&&(t+=" expanded"),r.createElement("button",{onClick:function(){return e.onButtonClick()},ref:function(t){e.domElement=t},type:"button",className:t},r.createElement("span",null,"Set Background Color"),r.createElement("span",{className:"expand-arrow"}))},t}(r.Component);t.default=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(19),l=function(e,t){return{currentLayout:e.currentLayout,phone_gridder_json_field:e.phone_gridder_json_field}},c=function(e){return{changeBreakpoint:s.bindActionCreators(a.changeBreakpoint,e)}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.changeToDesktop=function(){"desktop"!==this.props.currentLayout&&this.props.changeBreakpoint()},t.prototype.changeToPhone=function(){"desktop"===this.props.currentLayout&&this.props.changeBreakpoint()},t.prototype.showDeletePhoneLayoutDropDown=function(){if(this.props.dropDownShown)this.props.hideDeletePhoneLayoutDropDown();else{var e=this.domElementOptions.offsetLeft,t=this.domElementOptions.offsetTop+this.domElementOptions.offsetHeight;e+=this.domElement.offsetLeft-this.domElement.offsetWidth-7,t=this.domElement.offsetTop+this.domElement.offsetHeight,this.props.showDeletePhoneLayoutDropDown(e,t)}},t.prototype.render=function(){var e=this;return r.createElement("div",{className:"btn-group btn-group-sm gridder-breakpoints-switch",ref:function(t){e.domElement=t}},r.createElement("button",{onClick:function(){return e.changeToDesktop()},type:"button",disabled:"desktop"===this.props.currentLayout,className:"btn btn-default btn-switch-to-desktop"+("desktop"===this.props.currentLayout?" active":""),title:"Switch to desktop layout"},r.createElement("span",{className:"dashicons dashicons-desktop"})),r.createElement("button",{onClick:function(){return e.changeToPhone()},type:"button",disabled:"desktop"!==this.props.currentLayout,className:"btn btn-default btn-switch-to-phone"+("desktop"!==this.props.currentLayout?" active":""),title:"Switch to phone layout"},r.createElement("span",{className:"dashicons dashicons-smartphone"})),r.createElement("button",{type:"button",ref:function(t){e.domElementOptions=t},onClick:function(){return e.showDeletePhoneLayoutDropDown()},className:"btn btn-default btn-breakpoints-options",disabled:null===this.props.phone_gridder_json_field},r.createElement("span",{className:"glyphicon glyphicon-option-horizontal"})))},t}(r.Component);t.default=i.connect(l,c)(u)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(4),l=n(2),c=n(7),u=function(e,t){return{currentLayout:e.currentLayout}},p=function(e){return{setAddElements:s.bindActionCreators(l.setAddElementsAction,e),openModalAdd:s.bindActionCreators(l.openModalAddAction,e)}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.showAddVideoDropDown=function(){if("addVideo"!==this.props.dropDownShown){var e=this.domElementAddVideo.offsetLeft,t=this.domElementAddVideo.offsetTop+this.domElementAddVideo.offsetHeight;e+=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight,this.props.showAddVideoDropDown(e,t)}else this.props.hideAddVideoDropDown()},t.prototype.showAddMoreDropDown=function(){if("addMore"!==this.props.dropDownShown){var e=this.domElementAddMore.offsetLeft,t=this.domElementAddMore.offsetTop+this.domElementAddMore.offsetHeight;e+=this.domElement.offsetLeft,t=this.domElement.offsetTop+this.domElement.offsetHeight,this.props.showAddMoreDropDown(e,t)}else this.props.hideAddMoreDropDown()},t.prototype.handleClickImage=function(){this.props.openModalAdd(a.ElementTypeEnum.IMAGE)},t.prototype.handleClickText=function(){this.props.openModalAdd(a.ElementTypeEnum.TEXT)},t.prototype.handleClickPostThumbnail=function(){this.props.openModalAdd(a.ElementTypeEnum.POST_THUMBNAIL)},t.prototype.handleClickCmb2=function(e){this.props.openModalAdd(e)},t.prototype.render=function(){var e=this,t=[],n="lay-dropdown-btn btn btn-default add-video-btn";"addVideo"===this.props.dropDownShown&&(n+=" expanded");var o="lay-dropdown-btn btn btn-default lay-more-btn";return"addMore"===this.props.dropDownShown&&(o+=" expanded"),r.createElement("div",{ref:function(t){e.domElement=t},className:"btn-group btn-group-sm",role:"group"},r.createElement("label",{className:"btn btn-default",onClick:function(){return e.handleClickImage()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Image"),r.createElement("button",{ref:function(t){e.domElementAddVideo=t},onClick:function(){return e.showAddVideoDropDown()},id:"add-video-drop",type:"button",className:n},r.createElement("span",{className:"glyphicon glyphicon-plus"})," ",r.createElement("span",null,"Video"),r.createElement("span",{className:"expand-arrow"})),r.createElement("label",{className:"btn btn-default",onClick:function(){return e.handleClickText()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Text"),t.length>0&&t,r.createElement("label",{className:"btn btn-default",onClick:function(){return e.handleClickPostThumbnail()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," ",c.default.postName," Thumbnail"),r.createElement("button",{ref:function(t){e.domElementAddMore=t},onClick:function(){return e.showAddMoreDropDown()},id:"lay-more-drop",type:"button",className:o},r.createElement("span",{className:"glyphicon glyphicon-plus"})," ",r.createElement("span",null,"More"),r.createElement("span",{className:"expand-arrow"})))},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(6),l=n(2),c=function(e,t){return{selectedElementsId:e.selectedElementsId,cont:e.json_field.cont}},u=function(e){return{changeAlignOfSelectedElements:s.bindActionCreators(l.changeAlignOfSelectedElementsAction,e)}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleClick=function(e,t){e.stopPropagation(),this.props.changeAlignOfSelectedElements(t)},t.prototype.render=function(){var e=this,t=0===this.props.selectedElementsId.length,n="btn btn-default",o="btn btn-default",i="btn btn-default",s=!0;if(!t){for(var l=null,c=0,u=this.props.cont;c<u.length;c++){var p=u[c];if(this.props.selectedElementsId.includes(p.relid))if(s=!1,null===l)l=p.align;else if(l!==p.align){l=!1;break}}if(s)t=!0;else switch(l){case"top":n+=" active";break;case"middle":o+=" active";break;case"bottom":i+=" active"}}return r.createElement("div",{className:"btn-group btn-group-sm"},r.createElement("button",{type:"button",onClick:function(t){return e.handleClick(t,"top")},disabled:t,className:n},r.createElement("img",{src:a.default.templateURI+"/gridder/assets/img/aligntop.svg",title:"Align Top",alt:"Align Top"})),r.createElement("button",{type:"button",onClick:function(t){return e.handleClick(t,"middle")},disabled:t,className:o},r.createElement("img",{src:a.default.templateURI+"/gridder/assets/img/alignmiddle.svg",title:"Align Middle",alt:"Align Middle"})),r.createElement("button",{type:"button",onClick:function(t){return e.handleClick(t,"bottom")},disabled:t,className:i},r.createElement("img",{src:a.default.templateURI+"/gridder/assets/img/alignbottom.svg",title:"Align Bottom",alt:"Align Bottom"})))},t}(r.Component);t.default=i.connect(c,u)(p)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(10),l=n(2),c=n(4),u=function(e,t){return{selectedElementsId:e.selectedElementsId,cont:e.json_field.cont}},p=function(e){return{deleteElements:s.bindActionCreators(a.deleteElements,e),openModalEdit:s.bindActionCreators(l.openModalEditAction,e)}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleEdit=function(){this.props.openModalEdit(this.props.selectedElementsId[0])},t.prototype.handleEditCaption=function(){this.props.openModalEdit(this.props.selectedElementsId[0],c.ElementAttributeTargetEnum.CAPTION)},t.prototype.handleDelete=function(){this.props.deleteElements(this.props.selectedElementsId)},t.prototype.render=function(){var e=this,t=!0,n=!0,o=!0;if(1===this.props.selectedElementsId.length){t=!1,o=!1;for(var i=!1,s=0,a=this.props.cont;s<a.length;s++){var l=a[s];if(-1!==this.props.selectedElementsId.indexOf(l.relid)){switch(l.type){case c.ElementTypeEnum.POST_THUMBNAIL:case c.ElementTypeEnum.THUMBNAIL_GRID:case c.ElementTypeEnum.TEXT:case c.ElementTypeEnum.HORIZONTAL_LINE:case c.ElementTypeEnum.STACK:o=!0}i=!0}else if(l.type===c.ElementTypeEnum.STACK)for(var u=0,p=l.cont;u<p.length;u++){var d=p[u];if(-1!==this.props.selectedElementsId.indexOf(d.relid)){switch(d.type){case c.ElementTypeEnum.POST_THUMBNAIL:case c.ElementTypeEnum.THUMBNAIL_GRID:case c.ElementTypeEnum.TEXT:case c.ElementTypeEnum.HORIZONTAL_LINE:case c.ElementTypeEnum.STACK:o=!0}i=!0}}if(i)break}}return 0!==this.props.selectedElementsId.length&&(n=!1),r.createElement("div",{className:"btn-group btn-group-sm"},r.createElement("button",{type:"button",className:"btn btn-default btn-sm",disabled:t,onClick:function(){return e.handleEdit()}},"Edit"),r.createElement("button",{type:"button",className:"btn btn-default btn-sm",disabled:o,onClick:function(){return e.handleEditCaption()}},"Edit Caption"),r.createElement("button",{type:"button",className:"btn btn-default btn-sm",disabled:n,onClick:function(){return e.handleDelete()}},"Delete"))},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";function o(){return function(e,t){e("desktop"===t().currentLayout?r.setNoticeAction(i.default.elementsDeletedFromPhoneLayoutToo):r.setNoticeAction(i.default.elementsDeletedFromDesktopLayoutToo))}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(16);t.setNoticeElementsDeletedFromOtherLayoutToo=o},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=function(e,t){return{guidesVisibility:e.guidesVisibility}},c=function(e){return{changeGuidesVisibility:s.bindActionCreators(a.changeGuidesVisibilityAction,e)}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleClick=function(e){this.props.changeGuidesVisibility(Boolean(e.target.checked)),e.target.value=this.props.guidesVisibility},t.prototype.render=function(){var e=this;return r.createElement("div",{className:"input-group input-group-sm group-guides"},r.createElement("input",{type:"checkbox",id:"showguides",className:"showguides",onChange:function(t){return e.handleClick(t)},checked:this.props.guidesVisibility}),r.createElement("span",{className:"input-group-addon"},r.createElement("label",{htmlFor:"showguides"},"Show Guides")))},t}(r.Component);t.default=i.connect(l,c)(u)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(4),c=function(e,t){return{}},u=function(e){return{openModalAdd:s.bindActionCreators(a.openModalAddAction,e)}},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return o(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideAddVideoDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleClickHtml5Video=function(){this.props.openModalAdd(l.ElementTypeEnum.HTML5VIDEO),this.props.hideAddVideoDropDown()},t.prototype.handleClickYoutubeVimeoVideo=function(){this.props.openModalAdd(l.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO),this.props.hideAddVideoDropDown()},t.prototype.render=function(){var e=this,t={};return t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY},r.createElement("div",{className:"btn-group-vertical btn-group-sm video-buttons-wrap lay-dropdown-wrap",role:"group",style:t,ref:function(t){e.domElement=t}},r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickYoutubeVimeoVideo()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," YouTube/Vimeo"),r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickHtml5Video()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," HTML5 Video"))},t}(r.Component);t.default=i.connect(c,u)(p)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(4),l=n(2),c=n(6),u=function(e,t){return{}},p=function(e){return{setAddElements:s.bindActionCreators(l.setAddElementsAction,e),openModalAdd:s.bindActionCreators(l.openModalAddAction,e)}},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return o(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideAddMoreDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleOpenModalAdd=function(e){this.props.openModalAdd(e),this.props.hideAddMoreDropDown()},t.prototype.handleClickStack=function(){this.props.setAddElements([{type:a.ElementTypeEnum.STACK,cont:[]}]),this.props.hideAddMoreDropDown()},t.prototype.handleClickTemplate=function(){this.props.openModalAdd("template"),this.props.hideAddMoreDropDown()},t.prototype.handleClickHr=function(){this.props.setAddElements([{type:a.ElementTypeEnum.HORIZONTAL_LINE}]),this.props.hideAddMoreDropDown()},t.prototype.render=function(){var e=this,t={};t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY};var n=null;"1"===c.default.templatesActive&&(n=r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickTemplate()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Template"));var o=null,i=null,s=[];return o=r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleOpenModalAdd(a.ElementTypeEnum.THUMBNAIL_GRID)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Thumbnail Grid"),i=r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleOpenModalAdd(a.ElementTypeEnum.ELEMENT_GRID)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Element Grid"),c.default.plugins.layThemeCarousel&&s.push(r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleOpenModalAdd(a.ElementTypeEnum.CAROUSEL)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Carousel")),r.createElement("div",{className:"btn-group-vertical btn-group-sm lay-more-buttons-wrap lay-dropdown-wrap",role:"group",style:t,ref:function(t){e.domElement=t}},n,s,o,i,r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickStack()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Stack"),r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickHr()}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Horizontal Line"),r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleOpenModalAdd(a.ElementTypeEnum.EMBED)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Embed"),r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleOpenModalAdd(a.ElementTypeEnum.HTML)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," HTML"),r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleOpenModalAdd(a.ElementTypeEnum.SHORTCODE)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Shortcode"))},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(11),l=n(5),c=n(19),u=n(6),p=function(e,t){return{frameMargin:e.json_field.frameMargin,topFrameMargin:e.json_field.topFrameMargin,bottomFrameMargin:e.json_field.bottomFrameMargin,currentLayout:e.currentLayout}},d=function(e){return{changeFrameMargin:s.bindActionCreators(c.changeFrameMargin,e),changeTopFrameMargin:s.bindActionCreators(c.changeTopFrameMargin,e),changeBottomFrameMargin:s.bindActionCreators(c.changeBottomFrameMargin,e)}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return o(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideSetFrameDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleTopChange=function(e){this.props.changeTopFrameMargin(Number(e.target.value)),e.target.value=this.props.topFrameMargin},t.prototype.handleBottomChange=function(e){this.props.changeBottomFrameMargin(Number(e.target.value)),e.target.value=this.props.topFrameMargin},t.prototype.handleChange=function(e){this.props.changeFrameMargin(Number(e.target.value)),e.target.value=this.props.topFrameMargin},t.prototype.render=function(){var e=this,t={};t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY};var n=.1,o=l.precisionRound(this.props.topFrameMargin,1);a.isMuInPx(a.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout)&&(n=1,o=l.precisionRound(this.props.topFrameMargin,0));var i=.1,s=l.precisionRound(this.props.frameMargin,1);a.isMuInPx(a.MeasureUnitEnum.FRAME,this.props.currentLayout)&&(i=1,s=l.precisionRound(this.props.frameMargin,0));var c=.1,p=l.precisionRound(this.props.bottomFrameMargin,1);return a.isMuInPx(a.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout)&&(c=1,p=l.precisionRound(this.props.bottomFrameMargin,0)),r.createElement("div",{className:"frame-settings-wrap lay-dropdown-wrap",style:t,ref:function(t){e.domElement=t}},r.createElement("div",{className:"group-frame"},r.createElement("span",{className:"prefix"},"Top Frame"),r.createElement("input",{onChange:function(t){return e.handleTopChange(t)},value:o,type:"number",min:"0",max:"999",step:n,id:"top-frame",className:"top-frame-input top-frame-input-js",disabled:"1"===u.default.disableInputs}),r.createElement("span",{className:"postfix"},a.getMuOf(a.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout))),r.createElement("div",{className:"group-frame"},r.createElement("span",{className:"prefix"},"Left, Right Frame"),r.createElement("input",{onChange:function(t){return e.handleChange(t)},value:s,type:"number",min:"0",max:"999",step:i,id:"frame",className:"frame-input frame-input-js",disabled:"1"===u.default.disableInputs}),r.createElement("span",{className:"postfix"},a.getMuOf(a.MeasureUnitEnum.FRAME,this.props.currentLayout))),r.createElement("div",{className:"group-frame"},r.createElement("span",{className:"prefix"},"Bottom Frame"),r.createElement("input",{onChange:function(t){return e.handleBottomChange(t)},value:p,type:"number",min:"0",max:"999",step:c,id:"bottom-frame",className:"bottom-frame-input bottom-frame-input-js",disabled:"1"===u.default.disableInputs}),r.createElement("span",{className:"postfix"},a.getMuOf(a.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout))))},t}(r.Component);t.default=i.connect(p,d)(f)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=function(e,t){return{}},c=function(e){return{openModalAddAction:s.bindActionCreators(a.openModalAddAction,e)}},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickBind=function(e){return t.handleClick(e)},t}return o(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideDeletePhoneLayoutDropDown()},t.prototype.componentDidMount=function(){window.document.addEventListener("click",this.handleClickBind)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.handleClickDeletePhoneLayout=function(){this.props.openModalAddAction("deletePhoneLayout"),this.props.hideDeletePhoneLayoutDropDown()},t.prototype.render=function(){var e=this,t={};return t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY},r.createElement("div",{className:"lay-breakpoints-options-buttons-wrap lay-dropdown-wrap",style:t,ref:function(t){e.domElement=t},role:"group"},r.createElement("div",{className:"btn-group-vertical btn-group-sm"},r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickDeletePhoneLayout()}},r.createElement("span",{className:"glyphicon glyphicon-trash"})," Delete phone layout")))},t}(r.Component);t.default=i.connect(l,c)(u)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(6),c=n(9),u=function(e,t){return{bgColor:e.json_field.bgColor}},p=function(e){return{openModalAddAction:s.bindActionCreators(a.openModalAddAction,e),setBackgroundColor:s.bindActionCreators(a.setBackgroundColorAction,e)}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.handleClickBind=function(e){return n.handleClick(e)},n.handleClearClick=n.handleClearClick.bind(n),n}return o(t,e),t.prototype.handleClick=function(e){this.props.hidden||e.target===this.domElement||this.domElement.contains(e.target)||this.props.hideColorpickerDropDown()},t.prototype.handleClearClick=function(){this.props.setBackgroundColor(null),c.default(".background-colorpicker-input").val(""),this.props.hideColorpickerDropDown()},t.prototype.componentDidMount=function(){var e=this;window.document.addEventListener("click",this.handleClickBind),c.default(".background-colorpicker-input").iris({hide:!1,palettes:l.default.bgColorPalette,change:function(t,n){e.props.setBackgroundColor(n.color.toString())},target:".background-colorpicker"})},t.prototype.componentDidUpdate=function(){null!=this.props.bgColor&&c.default(".background-colorpicker-input").iris("color",this.props.bgColor)},t.prototype.componentWillUnmount=function(){window.document.removeEventListener("click",this.handleClickBind)},t.prototype.render=function(){var e=this,t={};return t=this.props.hidden?{display:"none"}:{left:this.props.posX,top:this.props.posY},r.createElement("div",{className:"lay-dropdown-wrap set-background-color-dropdown",style:t,ref:function(t){e.domElement=t}},r.createElement("div",{className:"background-colorpicker",ref:function(t){e.colorpickerElement=t}}),r.createElement("div",{className:"background-color-input-and-clear-wrap"},r.createElement("input",{type:"text",className:"background-colorpicker-input"}),r.createElement("button",{onClick:this.handleClearClick,type:"button",className:"btn btn-default btn-sm background-color-clear-color"},"Clear")))},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(16),l=n(7),c=n(2),u=function(e,t){return{notice:e.notice,headerHeight:e.headerHeight}},p=function(e){return{unsetNotice:s.bindActionCreators(c.unsetNoticeAction,e)}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.timeoutShowId=-1,n.timeoutAnimateId=-1,null===t.notice?n.state={text:"",show:!1}:(n.state={text:n.getText(t.notice),show:!0},n.timeoutShowId=window.setTimeout(n.animateOff.bind(n),l.default.noticeShowTimeout)),n}return o(t,e),t.prototype.clearTimeoutShow=function(){-1!==this.timeoutShowId&&(clearTimeout(this.timeoutShowId),this.timeoutShowId=-1)},t.prototype.clearTimeoutAnimate=function(){-1!==this.timeoutAnimateId&&(clearTimeout(this.timeoutAnimateId),this.timeoutAnimateId=-1)},t.prototype.componentWillReceiveProps=function(e){if(this.clearTimeoutAnimate(),this.clearTimeoutShow(),null===e.notice)this.setState({text:"",show:!1});else{this.timeoutShowId=window.setTimeout(this.animateOff.bind(this),l.default.noticeShowTimeout);var t=this.getText(e.notice);""===this.state.text||this.state.text.includes(t)||(t=this.state.text+"<br />"+t),this.setState({text:t,show:!0})}},t.prototype.componentWillUnmount=function(){this.clearTimeoutAnimate(),this.clearTimeoutShow()},t.prototype.animateOff=function(){this.clearTimeoutShow(),this.clearTimeoutAnimate(),this.timeoutAnimateId=window.setTimeout(this.close.bind(this),l.default.noticeAnimateTimeout),this.setState({show:!1})},t.prototype.close=function(){this.props.unsetNotice()},t.prototype.getText=function(e){var t=a.noticeTexts[e];return void 0!==t&&null!==t?t:"undefined notice"},t.prototype.render=function(){var e="alert alert-warning gridder-notice";return this.state.show&&(e+=" show"),r.createElement("div",{className:e,role:"alert",style:{top:this.props.headerHeight+1},dangerouslySetInnerHTML:{__html:this.state.text}})},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(4),c=n(6),u=function(e,t){return{json_field:e.json_field,gridder_json_field:e.gridder_json_field,phone_gridder_json_field:e.phone_gridder_json_field,currentLayout:e.currentLayout}},p=function(e){return{setGridderJsonField:s.bindActionCreators(a.setGridderJsonFieldAction,e),setPhoneGridderJsonField:s.bindActionCreators(a.setPhoneGridderJsonFieldAction,e)}},d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changeGridderBind=function(){return t.changeGridder()},t.changePhoneGridderBind=function(){return t.changePhoneGridder()},t.gridderJsonField=document.getElementById("gridder_json_field"),t.phoneGridderJsonField=document.getElementById("phone_gridder_json_field"),t.fieldChanged=!1,t}return o(t,e),t.prototype.componentDidMount=function(){document.getElementById("gridder_json_field").addEventListener("input",this.changeGridderBind),document.getElementById("phone_gridder_json_field").addEventListener("input",this.changePhoneGridderBind)},t.prototype.componentDidUpdate=function(){this.fieldChanged||(this.fieldChanged=!0,"post"===c.default.screenBase&&jQuery(window).off("beforeunload.edit-post").on("beforeunload.edit-post",function(){return"Leave the page?"}))},t.prototype.componentWillUnmount=function(){document.getElementById("gridder_json_field").removeEventListener("input",this.changeGridderBind),document.getElementById("phone_gridder_json_field").removeEventListener("input",this.changePhoneGridderBind)},t.prototype.changeGridder=function(){try{var e=document.getElementById("gridder_json_field").value;if(""!==e){var t=l.castJsonFieldType(JSON.parse(e));this.props.setGridderJsonField(t)}}catch(e){}},t.prototype.changePhoneGridder=function(){try{var e=document.getElementById("phone_gridder_json_field").value;if(""!==e){var t=l.castJsonFieldType(JSON.parse(e));this.props.setPhoneGridderJsonField(t)}}catch(e){}},t.prototype.shouldComponentUpdate=function(e,t){var n=e.gridder_json_field,o=e.phone_gridder_json_field;"desktop"===e.currentLayout?n=e.json_field:o=e.json_field;var r="",i="";return i=JSON.stringify(n,void 0,2),null!==o&&(r=JSON.stringify(o,void 0,2)),this.gridderJsonField.value!==i||this.phoneGridderJsonField.value!==r},t.prototype.render=function(){var e=this.props.gridder_json_field,t=this.props.phone_gridder_json_field;"desktop"===this.props.currentLayout?e=this.props.json_field:t=this.props.json_field,this.gridderJsonField.value=JSON.stringify(e,void 0,2);var n="";return null!==t&&(n=JSON.stringify(t,void 0,2)),this.phoneGridderJsonField.value=n,null},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(11),l=n(117),c=n(120),u=n(131),p=n(132),d=n(133),f=n(2),h=n(10),m=n(12),g=function(e,t){return{frameMargin:e.json_field.frameMargin,topFrameMargin:e.json_field.topFrameMargin,bottomFrameMargin:e.json_field.bottomFrameMargin,guidesVisibility:e.guidesVisibility,currentLayout:e.currentLayout,headerHeight:e.headerHeight,bgColor:e.json_field.bgColor,addElements:e.addElements,notice:e.notice,selectedElementsId:e.selectedElementsId}},y=function(e){return{deleteElements:s.bindActionCreators(h.deleteElements,e),setSelectedElementsId:s.bindActionCreators(f.setSelectedElementsIdAction,e),initRowAttrs:s.bindActionCreators(f.initRowAttrsAction,e),updateRowsHeight:s.bindActionCreators(m.updateRowsHeight,e)}},E=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeydownHandleBind=function(e){return n.onKeydownHandle(e)},n.state={row:-1,relid:-1,posX:0,posY:0},n}return o(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeydownHandleBind),this.props.initRowAttrs(),this.props.updateRowsHeight()},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeydownHandleBind)},t.prototype.showContextMenuRow=function(e,t,n){var o=this;setTimeout(function(){o.setState({relid:-1,row:e,posX:t,posY:n})},0)},t.prototype.hideContextMenuRow=function(){-1!==this.state.row&&this.setState({row:-1})},t.prototype.showContextMenuElement=function(e,t,n){var o=this;setTimeout(function(){o.setState({row:-1,relid:e,posX:t,posY:n})},0)},t.prototype.hideContextMenuElement=function(){-1!==this.state.relid&&this.setState({relid:-1})},t.prototype.onKeydownHandle=function(e){8!==e.keyCode&&46!==e.keyCode||0!==this.props.selectedElementsId.length&&-1===this.state.relid&&-1===this.state.row&&(this.props.deleteElements(this.props.selectedElementsId),this.props.setSelectedElementsId([]))},t.prototype.render=function(){var e="guides";!1===this.props.guidesVisibility&&(e="preview"),"desktop"!==this.props.currentLayout&&(e+=" show-phone-version");var t={paddingBottom:this.props.topFrameMargin+a.getMuOf(a.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout),top:this.props.headerHeight+"px"},n={width:this.props.frameMargin+a.getMuOf(a.MeasureUnitEnum.FRAME,this.props.currentLayout)},o={paddingBottom:this.props.bottomFrameMargin+a.getMuOf(a.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout)},i={};return null!==this.props.bgColor&&(i.backgroundColor=this.props.bgColor),r.createElement("div",{id:"gridder-wrap",style:i,className:e},r.createElement("div",{className:"button-background"}),r.createElement("div",{className:"left-frame",style:n}),r.createElement("div",{className:"right-frame",style:n}),r.createElement("div",{className:"top-frame",style:t}),r.createElement("div",{className:"bottom-frame",style:o}),r.createElement(l.default,{showContextMenuRow:this.showContextMenuRow.bind(this)}),r.createElement(c.default,{showContextMenuElement:this.showContextMenuElement.bind(this),hideContextMenuElement:this.hideContextMenuElement.bind(this)}),r.createElement(u.default,{row:this.state.row,posX:this.state.posX,posY:this.state.posY,hideContextMenuRow:this.hideContextMenuRow.bind(this)}),-1!==this.state.relid&&r.createElement(p.default,{relid:this.state.relid,posX:this.state.posX,posY:this.state.posY,hideContextMenuElement:this.hideContextMenuElement.bind(this)}),null!==this.props.addElements&&r.createElement(d.default,null))},t}(r.Component);t.default=i.connect(g,y)(E)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(118),l=n(2),c=n(47),u=n(11),p=function(e,t){return{topFrameMargin:e.json_field.topFrameMargin,bottomFrameMargin:e.json_field.bottomFrameMargin,rowAttrs:e.json_field.rowAttrs,rowGutters:e.json_field.rowGutters,rowsHeight:e.rowsHeight,rowCount:e.rowCount,contentWrapperWidth:e.contentWrapperWidth,headerHeight:e.headerHeight,currentLayout:e.currentLayout}},d=function(e){return{insertRow:s.bindActionCreators(c.insertRow,e),setSelectedRowGutters:s.bindActionCreators(l.setSelectedRowGuttersAction,e)}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onHandleClickBind=function(e){return t.onHandleClick(e)},t}return o(t,e),t.prototype.componentDidMount=function(){window.addEventListener("click",this.onHandleClickBind)},t.prototype.componentWillUnmount=function(){window.removeEventListener("click",this.onHandleClickBind)},t.prototype.onHandleClick=function(e){this.props.setSelectedRowGutters([])},t.prototype.render=function(){for(var e=this,t=[],n=0;n<this.props.rowCount;n++){var o=!1,i=null;void 0!==this.props.rowAttrs[n]&&null!==this.props.rowAttrs[n]&&(!0===this.props.rowAttrs[n].row100vh&&(o=!0),null!==this.props.rowAttrs[n].bgcolor&&void 0!==this.props.rowAttrs[n].bgcolor&&""!==this.props.rowAttrs[n].bgcolor&&(i=this.props.rowAttrs[n].bgcolor));var s=0,l=0;n>0&&(s=u.getMeasureInPx(u.MeasureUnitEnum.ROW_GUTTER,this.props.rowGutters[n-1],this.props.contentWrapperWidth,this.props.currentLayout)),n<this.props.rowGutters.length&&(l=u.getMeasureInPx(u.MeasureUnitEnum.ROW_GUTTER,this.props.rowGutters[n],this.props.contentWrapperWidth,this.props.currentLayout));var c=null;this.props.rowAttrs.length>n&&this.props.rowAttrs[n].hasOwnProperty("bgimage")&&(c=this.props.rowAttrs[n].bgimage);var p=null;this.props.rowAttrs.length>n&&this.props.rowAttrs[n].hasOwnProperty("bgvideo")&&(p=this.props.rowAttrs[n].bgvideo),t.push(r.createElement(a.default,{key:n,row:n,last:n===this.props.rowGutters.length,is100vh:o,bgColor:i,showContextMenuRow:this.props.showContextMenuRow,bgimage:c,bgvideo:p,rowGutterAfterInPx:l,rowGutterBeforeInPx:s,rowHeight:this.props.rowsHeight[n]}))}var d={marginBottom:this.props.bottomFrameMargin+u.getMuOf(u.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout)},f={padding:this.props.topFrameMargin+u.getMuOf(u.MeasureUnitEnum.TOP_FRAME,this.props.currentLayout)+" 0 "+this.props.bottomFrameMargin+u.getMuOf(u.MeasureUnitEnum.BOTTOM_FRAME,this.props.currentLayout),marginTop:this.props.headerHeight};return r.createElement("div",{id:"rows-wrap",style:f,onDragOver:function(e){return e.preventDefault()}},r.createElement("div",{className:"rows"},t),r.createElement("button",{type:"button",className:"btn btn-default btn-xs add-last-row",title:"Add Row",style:d,onClick:function(){return e.props.insertRow(e.props.rowCount)}},r.createElement("span",{className:"icon-plus"})))},t}(r.Component);t.default=i.connect(p,d)(f)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(119),l=n(2),c=n(47),u=n(7),p=function(e,t){return{contentWrapperWidth:e.contentWrapperWidth,selectedRowGutters:e.selectedRowGutters}},d=function(e){return{insertRow:s.bindActionCreators(c.insertRow,e),moveUpRow:s.bindActionCreators(c.moveUpRow,e),deleteRow:s.bindActionCreators(c.deleteRow,e),moveDownRow:s.bindActionCreators(c.moveDownRow,e),toggleSelectedRowGutter:s.bindActionCreators(l.toggleSelectedRowGutterAction,e),setSelectedRowGutters:s.bindActionCreators(l.setSelectedRowGuttersAction,e)}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleSelect=function(e){if(e.stopPropagation(),e.metaKey)this.props.toggleSelectedRowGutter(this.props.row);else if(e.shiftKey){for(var t=this.props.row,n=this.props.row,o=0,r=this.props.selectedRowGutters;o<r.length;o++){var i=r[o];i<t?t=i:i>n&&(n=i)}for(var s=[],a=t;a<=n;a++)s.push(a);this.props.setSelectedRowGutters(s),document.getSelection().removeAllRanges()}else 1===this.props.selectedRowGutters.length&&this.props.selectedRowGutters[0]===this.props.row?this.props.setSelectedRowGutters([]):this.props.setSelectedRowGutters([this.props.row]);var l=document.querySelector(".gridder-header .group-row-gutter input");setTimeout(function(){l.select(),l.focus()},0)},t.prototype.handleContext=function(e){var t=e.clientX,n=e.clientY;e.preventDefault(),this.props.showContextMenuRow(this.props.row,t,n)},t.prototype.render=function(){var e=this,t={},n={},o={},i=this.props.rowGutterAfterInPx,s=i/2,l=this.props.rowGutterBeforeInPx,c=l/2;0!==this.props.row&&(t.top="-"+c+"px");var p=this.props.rowHeight+c+s,d={top:p/2+"px",marginTop:-c-13+"px"};this.props.rowHeight<=u.default.smallRowHeight?(n={top:p/2+10+"px",marginTop:-c-13+"px"},o={top:p/2-11+"px",marginTop:-c-13+"px"}):(n={bottom:s+12+"px"},o={top:24-c+"px"}),this.props.last&&(n.display="none");var f={};this.props.last||0===this.props.rowGutterAfterInPx||(f={paddingBottom:this.props.rowGutterAfterInPx+"px"});var h={height:this.props.rowHeight+"px"},m="row-wrap";this.props.rowHeight<=u.default.smallRowHeight&&(m+=" small-row");var g="rowgutter";this.props.selectedRowGutters.indexOf(this.props.row)>=0&&(g+=" selected-rowgutter");var y=null;if(null!==this.props.bgvideo){var E="background-video ";this.props.rowHeight/this.props.contentWrapperWidth<this.props.bgvideo.mp4Ar?E+="w100":E+="h100",y=r.createElement("video",{className:E,"data-ar":this.props.bgvideo.mp4Ar,preload:"",muted:!0,autoPlay:!0,loop:!0},r.createElement("source",{src:this.props.bgvideo.mp4,type:"video/mp4"}))}var b={};return null!==this.props.bgimage&&(b.backgroundImage="url("+this.props.bgimage.url+")"),null!==this.props.bgColor&&(b.backgroundColor=this.props.bgColor),r.createElement("div",{className:m,style:b,onContextMenu:function(t){return e.handleContext(t)}},r.createElement("div",{className:"row"+(this.props.is100vh?" _100vh":""),style:h},r.createElement(a.default,{row:this.props.row}),y),r.createElement("div",{className:g,style:f,onClick:function(t){return e.handleSelect(t)}}),r.createElement("div",{className:"row-buttons"},r.createElement("button",{type:"button",className:"btn btn-default btn-xs add-row",onClick:function(){return e.props.insertRow(e.props.row)},style:t,title:"Add Row"},r.createElement("span",{className:"icon-plus"})),r.createElement("button",{type:"button",className:"btn btn-default btn-xs moveup-row",onClick:function(){return e.props.moveUpRow(e.props.row)},style:o,title:"Move Up"},r.createElement("span",{className:"icon-arrow-up"})),r.createElement("button",{type:"button",className:"btn btn-default btn-xs delete-row",onClick:function(){return e.props.deleteRow(e.props.row)},style:d,title:"Delete Row"},r.createElement("span",{className:"icon-cross"})),r.createElement("button",{type:"button",className:"btn btn-default btn-xs movedown-row",onClick:function(){return e.props.moveDownRow(e.props.row)},style:n,title:"Move Down"},r.createElement("span",{className:"icon-arrow-down"}))))},t}(r.Component);t.default=i.connect(p,d)(f)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(7),a=n(11),l=function(e,t){return{colCount:e.json_field.colCount,colGutter:e.json_field.colGutter,frameMargin:e.json_field.frameMargin,dnd:e.dnd,resize:e.resize,addElementPosition:e.addElementPosition,guidesVisibility:e.guidesVisibility,contentWrapperWidth:e.contentWrapperWidth,currentLayout:e.currentLayout}},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=[],t=a.getColInPct(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,this.props.colGutter,this.props.frameMargin),n=!1,o=-1,i=-1,l=!1;null!==this.props.dnd?this.props.row===this.props.dnd.row&&(n=!0,o=this.props.dnd.col,i=this.props.dnd.colspan,l=this.props.dnd.insertable):null!==this.props.resize?this.props.row!==this.props.resize.row&&this.props.row!==this.props.resize.rowOfStack||(n=!0,o=this.props.resize.col,i=this.props.resize.colspan,l=this.props.resize.resizable):null!==this.props.addElementPosition&&this.props.row===this.props.addElementPosition.row&&(n=!0,o=this.props.addElementPosition.col,i=this.props.addElementPosition.colspan,l=this.props.addElementPosition.droppable);for(var c=2,u=0;u<this.props.colCount;c+=2,u++){var p={width:t+"%"};2===c&&(p.marginLeft=this.props.frameMargin+a.getMuOf(a.MeasureUnitEnum.FRAME,this.props.currentLayout)),this.props.guidesVisibility&&this.props.colCount%2==1&&c===this.props.colCount+1?p.backgroundColor=s.default.backgroundColor.columnsMiddle:n&&i+o>u&&1+u>o&&(l?(p.backgroundColor=s.default.backgroundColor.columnsInsertable,p.cursor="pointer"):p.backgroundColor=s.default.backgroundColor.columnsNotInsertable),e.push(r.createElement("div",{className:"column",style:p,key:c})),p={width:this.props.colGutter+"%"},this.props.guidesVisibility&&this.props.colCount%2==0&&c===this.props.colCount&&(p.backgroundColor=s.default.backgroundColor.columnsMiddle),e.push(r.createElement("div",{className:"column-gutter",style:p,key:c+1}))}return r.createElement("div",{className:"columns-wrap"},e)},t}(r.Component);t.default=i.connect(l)(c)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(17),l=n(2),c=n(12),u=n(48),p=n(7),d=function(e,t){return{cont:e.json_field.cont,frameMargin:e.json_field.frameMargin,headerHeight:e.headerHeight}},f=function(e){return{setContentWrapperWidth:s.bindActionCreators(l.setContentWrapperWidthAction,e),updateRowsTop:s.bindActionCreators(c.updateRowsTop,e)}},h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResizeThrottle=a.throttle(t.onResize.bind(t),p.default.throttleResize),t}return o(t,e),t.prototype.render=function(){for(var e=this,t=[],n=0;n<this.props.cont.length;n++)t.push(r.createElement(u.default,{showContextMenuElement:this.props.showContextMenuElement,hideContextMenuElement:this.props.hideContextMenuElement,key:n,index:n,cont:this.props.cont[n]}));var o={top:this.props.headerHeight};return r.createElement("div",{id:"content-wrap",style:o,ref:function(t){e.domElement=t}},t)},t.prototype.componentDidMount=function(){window.addEventListener("resize",this.onResizeThrottle),this.onResizeThrottle()},t.prototype.componentDidUpdate=function(){this.onResizeThrottle()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResizeThrottle)},t.prototype.onResize=function(){this.props.setContentWrapperWidth(this.domElement.offsetWidth),this.props.updateRowsTop()},t}(r.Component);t.default=i.connect(d,f)(h)},function(e,t,n){"use strict";function o(e){return function(t,n){var o=n();if(null!==o.dnd&&(0!==e.clientX||0!==i.default.polyFillClientX)){var r=e.clientX,l=e.clientY;0===r&&0===l&&(r=i.default.polyFillClientX,l=i.default.polyFillClientY);for(var u=r-o.dnd.mouseStartX,p=c.getMeasureInPct(c.MeasureUnitEnum.FRAME,o.json_field.frameMargin,o.contentWrapperWidth,o.currentLayout),d=c.getColAndGutterInPct(o.contentWrapperWidth,o.currentLayout,o.json_field.colCount,o.json_field.colGutter,o.json_field.frameMargin),f=-1,h=0,m=o.json_field.cont;h<m.length;h++){var g=m[h];if(g.relid===o.dnd.relid)f=g.col;else if(g.type===a.ElementTypeEnum.STACK)for(var y=0,E=g.cont;y<E.length;y++){var b=E[y];if(b.relid===o.dnd.relid){f=g.col+b.col;break}}if(-1!==f)break}for(var v=f*d+p,_=v+100*u/o.contentWrapperWidth,w=-1,O=p+(o.json_field.colGutter+d)/2,C=0;C<o.json_field.colCount&&(w=C,!(O>=_));C++)O+=d;for(var T=o.dnd.row,A=o.dnd.offsetInRow,N=l-document.getElementById("content-wrap").getBoundingClientRect().top,j=0;j<o.rowCount;j++)if(o.rowsTop[j]<=N&&o.rowsTop[j]+o.rowsHeight[j]>=N){T=j,A=N-o.rowsTop[j];break}w===o.dnd.col&&T===o.dnd.row&&A===o.dnd.offsetInRow||t({type:s.MOVE_DND,row:T,col:w,offsetInRow:A})}}}function r(e){return function(t,n){var o=n();null!==o.dnd&&!1===o.dnd.insertable&&t(u.setNoticeAction(p.default.cannotPutElementThere)),t({type:s.END_DND,event:e}),t(l.updateRowsHeight())}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(20),s=n(8),a=n(4),l=n(12),c=n(11),u=n(2),p=n(16);t.moveDnd=o,t.endDnd=r},function(e,t,n){"use strict";function o(e){return function(t,n){var o=n();if(null!==o.resize&&(0!==e.clientX||0!==c.default.polyFillClientX)){var r=e.clientX,u=e.clientY;0===r&&0===u&&(r=c.default.polyFillClientX,u=c.default.polyFillClientY);for(var p=r-o.resize.mouseStartX,d=a.getColAndGutterInPx(o.contentWrapperWidth,o.currentLayout,o.json_field.colCount,o.json_field.colGutter,o.json_field.frameMargin),f=a.getMeasureInPx(a.MeasureUnitEnum.FRAME,o.json_field.frameMargin,o.contentWrapperWidth,o.currentLayout),h=p,m=-1,g=-1,y=-1,E=-1,b="",v=!0,_=0,w=o.json_field.cont;_<w.length;_++){var O=w[_];if(O.relid===o.resize.relid){m=O.col,g=O.colspan,y=f+m*d,E=g*d-a.getPctMeasureInPx(o.json_field.colGutter,o.contentWrapperWidth),O.type!==s.ElementTypeEnum.STACK&&(v=!1,l.isFrameOverflowLeft(O.frameOverflow)&&(E+=f,y-=f,b="left"),l.isFrameOverflowRight(O.frameOverflow)&&(E+=f,b=l.isFrameOverflowLeft(b)?"both":"right"));break}if(O.type===s.ElementTypeEnum.STACK)for(var C=0,T=O.cont;C<T.length;C++){var A=T[C];if(A.relid===o.resize.relid){m=A.col+O.col,g=A.colspan,y=A.col*d,E=g*d-a.getPctMeasureInPx(o.json_field.colGutter,o.contentWrapperWidth);break}}}o.resize.directionIsLeft?l.isFrameOverflowLeft(b)&&(h-=f):l.isFrameOverflowRight(b)&&(h+=f);var N=Math.round(h/d),j=g,S=m;if(o.resize.directionIsLeft){if((S+=N)<=0){var M=-f/2>h+d*(S-N);b=l.mergeFrameOverflowLeft(b,M),S=0}else b=l.mergeFrameOverflowLeft(b,!1);S>=m+g&&(S=m+g-1),j+=m-S,y+=p,E-=p,o.resize.altKeyPressed&&(E-=p,j+=m-S)}else if(j+=N,E+=p,o.resize.altKeyPressed&&(E+=p,y-=p,S-=N,j+=N),j<1&&(j=1),j+S>=o.json_field.colCount){var k=f/2<h-d*(o.json_field.colCount-(S+j-N));b=l.mergeFrameOverflowRight(b,k),j=o.json_field.colCount-S}else b=l.mergeFrameOverflowRight(b,!1);v&&(b=""),t({type:i.MOVE_RESIZE,col:S,colspan:j,frameOverflow:b,left:y,width:E,diffX:p})}}}function r(e){return function(t,n){t({type:i.END_RESIZE,event:e})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),s=n(4),a=n(11),l=n(5),c=n(20);t.moveResize=o,t.endResize=r},function(e,t,n){"use strict";function o(e,t){var n=!1;return function(o){n||(e(o),n=!0,setTimeout(function(){n=!1},t))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidUpdate=function(e,t){this.props.cont!==e.cont&&i.processInstagramEmbeds()},t.prototype.render=function(){var e=this.props.w,t=this.props.h;if(0!==e&&0!==t){var n={paddingBottom:100*t/e+"%"};return r.createElement("div",{className:"placeholder",style:n,dangerouslySetInnerHTML:{__html:this.props.cont}})}return r.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.cont}})},t}(r.Component);t.default=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(126),s=n(5),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){i.default.highlightBlock(this.domCode)},t.prototype.componentDidUpdate=function(e,t){this.props.cont!==e.cont&&i.default.highlightBlock(this.domCode)},t.prototype.render=function(){var e=this,t=s.trunc(this.props.cont,300);return r.createElement("pre",null,r.createElement("code",{className:"html",ref:function(t){return e.domCode=t}},t))},t}(r.Component);t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=hljs},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return r.createElement("div",{className:"lay-hr"})},t}(r.Component);t.default=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=i.trunc(this.props.cont,300);return r.createElement("pre",null,r.createElement("code",{className:"lay-shortcode"},e))},t}(r.Component);t.default=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(48),a=function(e,t){return{dnd:e.dnd,resize:e.resize,elementsHeight:e.elementsHeight,addElementPosition:e.addElementPosition}},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=[],t=this.props.offsetInRow,n=!1,o=!1;if(null!==this.props.dnd&&this.props.dnd.inStack===this.props.cont.relid||(n=!0),null!==this.props.addElementPosition&&this.props.addElementPosition.inStack===this.props.cont.relid||(o=!0),this.props.cont.cont instanceof Array&&this.props.cont.cont.length>0){for(var i=0;i<this.props.cont.cont.length;i++){if(null!==this.props.dnd&&!n)if(this.props.dnd.relid===this.props.cont.cont[i].relid){!0;var a=t+this.props.elementsHeight[this.props.cont.cont[i].relid];this.props.cont.cont.length>i+1&&(a+=this.props.elementsHeight[this.props.cont.cont[i+1].relid]/2),this.props.dnd.offsetInRow<a&&(n=!0)}else this.props.dnd.offsetInRow<t+this.props.elementsHeight[this.props.cont.cont[i].relid]/2&&(e.push(r.createElement("div",{key:-1,className:"lay-stack-dnd-element"})),n=!0);null===this.props.addElementPosition||o||(this.props.addElementPosition.col>=this.props.cont.col+this.props.cont.colspan||this.props.addElementPosition.col<this.props.cont.col?o=!0:this.props.addElementPosition.rowOffset<t+this.props.elementsHeight[this.props.cont.cont[i].relid]/2&&(e.push(r.createElement("div",{key:-1,className:"lay-stack-insert-element"})),o=!0)),e.push(r.createElement("div",{className:"lay-stack-element",key:i},r.createElement(s.default,{width:this.props.width,showContextMenuElement:this.props.showContextMenuElement,hideContextMenuElement:this.props.hideContextMenuElement,key:i,index:i,cont:this.props.cont.cont[i]}))),t+=this.props.elementsHeight[this.props.cont.cont[i].relid]}n||0!==this.props.cont.cont.length&&this.props.dnd.relid===this.props.cont.cont[this.props.cont.cont.length-1].relid?o||e.push(r.createElement("div",{key:-1,className:"lay-stack-insert-element"})):e.push(r.createElement("div",{key:-1,className:"lay-stack-dnd-element"}))}var l={};0===this.props.cont.cont.length&&(l.height="75px");var c=e;if(null!==this.props.resize&&this.props.cont.relid===this.props.resize.relid){var u={};this.props.resize.directionIsLeft?this.props.resize.diffX<0?(u.paddingLeft=-this.props.resize.diffX+"px",u.width="100%"):(u.transform="translateX("+-this.props.resize.diffX+"px)",u.width="calc(100% + "+this.props.resize.diffX+"px)"):this.props.resize.diffX<0?u.width="calc(100% + "+-this.props.resize.diffX+"px)":(u.paddingRight=this.props.resize.diffX+"px",u.width="100%"),c=r.createElement("div",{style:u},e)}var p="lay-stack";return null!==this.props.addElementPosition&&this.props.addElementPosition.droppable&&(p+=" in-stack-droppable"),r.createElement("div",{className:p,style:l},c)},t}(r.Component);t.Stack=l,t.default=i.connect(a)(l)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this.props.cont.carousel[0].type,t={};if(void 0!==typeof this.props.cont.carousel_options&&void 0!==typeof this.props.cont.carousel_options.customAspectRatio&&!0===this.props.cont.carousel_options.customAspectRatio?t.paddingBottom=this.props.cont.carousel_options.customAspectRatioH/this.props.cont.carousel_options.customAspectRatioW*100:e===i.ElementTypeEnum.TEXT?t.paddingBottom=56.25:t.paddingBottom=100*this.props.cont.carousel[0].ar,t.paddingBottom=t.paddingBottom+"%",e===i.ElementTypeEnum.TEXT)return r.createElement("div",{className:"placeholder",style:t},r.createElement("div",{className:"text-slide-wrap"},r.createElement("div",{className:"lay-textformat-parent",dangerouslySetInnerHTML:{__html:this.props.cont.carousel[0].cont}})));var n=this.props.cont.carousel[0].sizes._1024;return void 0!==this.props.cont.carousel[0].sizes&&void 0!==this.props.cont.carousel[0].sizes._1024||(n=this.props.cont.carousel[0].cont),t.backgroundImage="url("+n+")",e===i.ElementTypeEnum.HTML5VIDEO?r.createElement("div",{className:"placeholder type-carousel-html5video",style:t},r.createElement("div",{className:"carousel-html5video-play-icon"})):r.createElement("div",{className:"placeholder",style:t},"'")},t}(r.Component);t.default=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(57),l=n(6),c=n(7),u=n(2),p=n(58),d=n(5),f=n(9),h=function(e,t){return{rowAttrs:e.json_field.rowAttrs}},m=function(e){return{setRowAttr100vh:s.bindActionCreators(p.setRowAttr100vh,e),setRowAttrBgcolor:s.bindActionCreators(u.setRowAttrBgcolorAction,e),setSelectedRowGutters:s.bindActionCreators(u.setSelectedRowGuttersAction,e),openModalEditRowClassesHtmlId:s.bindActionCreators(u.openModalEditRowClassesHtmlIdAction,e),openModalEditRowBgVideo:s.bindActionCreators(u.openModalEditRowBgVideoAction,e),openModalEditRowBgImage:s.bindActionCreators(u.openModalEditRowBgImageAction,e),setRowAttrs:s.bindActionCreators(u.setRowAttrsAction,e)}},g=function(e){function t(t){var n=e.call(this,t)||this;n.state={bgcolor:null,isDropDownBgColorShown:!1};var o=null;return-1!==t.row&&null!==t.rowAttrs[t.row]&&void 0!==t.rowAttrs[t.row]&&null!==t.rowAttrs[t.row].bgcolor&&void 0!==t.rowAttrs[t.row].bgcolor&&""!==t.rowAttrs[t.row].bgcolor&&(o=t.rowAttrs[t.row].bgcolor),n.state=Object.assign({},n.state,{bgcolor:o}),n.handleClearClick=n.handleClearClick.bind(n),n}return o(t,e),t.prototype.hide=function(){this.props.hideContextMenuRow(),this.setState({isDropDownBgColorShown:!1})},t.prototype.handleClearClick=function(){var e=this;this.setState({bgcolor:null}),f.default("#lay-row-context-menu .contextmenu-colorpicker-input").val(""),setTimeout(function(){e.hide()},0)},t.prototype.handleClick=function(e){-1===this.props.row||e.target===document.getElementsByTagName("body")[0]||e.target===this.domElement||this.domElement.contains(e.target)||this.hide()},t.prototype.handleScroll=function(e){this.hide()},t.prototype.componentDidMount=function(){var t=this;e.prototype.componentDidMount.call(this),f.default("#lay-row-context-menu .contextmenu-colorpicker-input").iris({width:200,hide:!1,palettes:l.default.bgColorPalette,target:".row-background-colorpicker",change:function(e,n){t.setState({bgcolor:n.color.toString()})}})},t.prototype.componentWillReceiveProps=function(t){e.prototype.componentWillReceiveProps.call(this,t);var n=null,o=this.state.bgcolor;-1!==t.row&&(null!==t.rowAttrs[t.row]&&void 0!==t.rowAttrs[t.row]&&null!==t.rowAttrs[t.row].bgcolor&&void 0!==t.rowAttrs[t.row].bgcolor&&""!==t.rowAttrs[t.row].bgcolor&&(n=t.rowAttrs[t.row].bgcolor),o!==n&&(this.setState({bgcolor:n}),null===n?this.setState({bgcolor:null}):f.default("#lay-row-context-menu .contextmenu-colorpicker-input").iris("color",n)))},t.prototype.componentWillUpdate=function(e,t){var n=t.bgcolor,o=null;-1!==e.row&&(null!==e.rowAttrs[e.row]&&void 0!==e.rowAttrs[e.row]&&null!==e.rowAttrs[e.row].bgcolor&&void 0!==e.rowAttrs[e.row].bgcolor&&""!==e.rowAttrs[e.row].bgcolor&&(o=e.rowAttrs[e.row].bgcolor),null!==n&&!/^\#[a-zA-Z0-9]{6}$/.test(n)||n===o||this.props.setRowAttrBgcolor(this.props.row,n))},t.prototype.handleChangeBgcolor=function(e){this.setState({bgcolor:e.target.value})},t.prototype.handleClickSetRowGutter=function(e){this.hide(),this.props.setSelectedRowGutters([this.props.row]);var t=document.querySelector(".gridder-header .group-row-gutter input");t.select(),t.focus(),e.stopPropagation()},t.prototype.toggleShowBackgroundColorDropDown=function(){this.setState(function(e){return!0===e.isDropDownBgColorShown?{isDropDownBgColorShown:!1}:{isDropDownBgColorShown:!0}})},t.prototype.toggleRow100vh=function(){var e=!(!0===this.props.rowAttrs[this.props.row].row100vh);this.props.setRowAttr100vh(this.props.row,e),this.hide()},t.prototype.onClickClassesHtmlId=function(){this.props.openModalEditRowClassesHtmlId(this.props.row),this.hide()},t.prototype.onClickSetBgVideo=function(){this.props.openModalEditRowBgVideo(this.props.row),this.hide()},t.prototype.onClickSetBgImage=function(){this.props.openModalEditRowBgImage(this.props.row),this.hide()},t.prototype.onClickRemoveBgVideo=function(){this.props.setRowAttrs(this.props.row,{bgvideo:null}),this.hide()},t.prototype.onClickRemoveBgImage=function(){this.props.setRowAttrs(this.props.row,{bgimage:null}),this.hide()},t.prototype.render=function(){var e=this,t={},n={},o={},i={},s=!1,a=!0;-1===this.props.row?t.display="none":(t.left=this.state.posX,t.top=this.state.posY,null!==this.props.rowAttrs[this.props.row]&&void 0!==this.props.rowAttrs[this.props.row]&&(!0===this.props.rowAttrs[this.props.row].row100vh&&(n.backgroundColor=c.default.backgroundColor.contextMenuRow100hv),this.props.rowAttrs[this.props.row].hasOwnProperty("bgimage")||(o.display="none"),this.props.rowAttrs[this.props.row].hasOwnProperty("bgvideo")||(i.display="none"),(this.props.rowAttrs[this.props.row].hasOwnProperty("classes")&&0!==this.props.rowAttrs[this.props.row].classes.trim().length||this.props.rowAttrs[this.props.row].hasOwnProperty("html_id")&&0!==this.props.rowAttrs[this.props.row].html_id.trim().length)&&(s=!0)),a=this.props.rowAttrs.length===this.props.row+1);var u="btn btn-default",p="Set";s&&(u+=" has-class",p="Edit");var f=r.createElement("button",{type:"button",className:u,onClick:function(){return e.onClickClassesHtmlId()}},r.createElement("span",{className:"dashicons dashicons-editor-code"})," ",r.createElement("span",null,p," HTML class and id")),h="";this.state.isDropDownBgColorShown&&(h+="show-dropdown");var m=r.createElement("button",{type:"button",className:"row-gutter-button btn btn-default",onClick:function(t){return e.handleClickSetRowGutter(t)}},"Set Row Gutter");return r.createElement("div",{onKeyDown:function(e){return d.preventEnter(e)},id:"lay-row-context-menu",className:"lay-context-menu",style:t,ref:function(t){e.domElement=t}},r.createElement("div",{className:"btn-group-vertical"},r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.onClickSetBgImage()}},r.createElement("span",{className:"dashicons dashicons-format-image"})," Set Row Image Background"),r.createElement("button",{type:"button",className:"btn btn-default",style:o,onClick:function(){return e.onClickRemoveBgImage()}},r.createElement("span",{className:"dashicons dashicons-no-alt"})," Remove Row Image Background"),r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.onClickSetBgVideo()}},r.createElement("span",{className:"dashicons dashicons-video-alt3"})," Set Row Video Background"),r.createElement("button",{type:"button",className:"btn btn-default",style:i,onClick:function(){return e.onClickRemoveBgVideo()}},r.createElement("span",{className:"dashicons dashicons-no-alt"})," Remove Row Video Background"),r.createElement("button",{type:"button",className:"btn btn-default",style:n,onClick:function(){return e.toggleRow100vh()}},r.createElement("span",{className:"dashicons dashicons-editor-expand"})," Use Browser Height for Row Height"),f,"1"!==l.default.disableInputs&&!a&&m,r.createElement("button",{type:"button",className:"btn btn-default set-bgcolor-btn",onClick:function(){return e.toggleShowBackgroundColorDropDown()}},r.createElement("span",{className:"dashicons dashicons-admin-customizer",style:{color:this.state.bgcolor}})," Set Row Background Color"),r.createElement("div",{className:h+" contextmenu-colorpicker-wrap"},r.createElement("div",{className:"row-background-colorpicker",ref:function(t){e.colorpickerElement=t}}),r.createElement("div",{className:"row-background-color-input-and-clear-wrap"},r.createElement("input",{type:"text",className:"contextmenu-colorpicker-input",value:this.state.bgcolor,onChange:function(t){return e.handleChangeBgcolor(t)}}),r.createElement("button",{onClick:this.handleClearClick,type:"button",className:"btn btn-default btn-sm row-background-color-clear-color"},"Clear")))))},t}(a.default);t.default=i.connect(h,m)(g)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(6),l=n(4),c=n(2),u=n(58),p=n(57),d=n(5),f=function(e,t){return{currentLayout:e.currentLayout,cont:e.json_field.cont,otherField:"desktop"===e.currentLayout?e.phone_gridder_json_field:e.gridder_json_field,selectedElementsId:e.selectedElementsId}},h=function(e){return{changeElementSpaceAbove:s.bindActionCreators(c.changeElementSpaceAboveAction,e),changeElementSpaceBelow:s.bindActionCreators(c.changeElementSpaceBelowAction,e),changeElementOffsetX:s.bindActionCreators(c.changeElementOffsetXAction,e),changeElementOffsetY:s.bindActionCreators(c.changeElementOffsetYAction,e),changeElementYvel:s.bindActionCreators(c.changeElementYvel,e),changeElementIsScrollToTop:s.bindActionCreators(c.changeElementIsScrollToTop,e),changeElementLbOff:s.bindActionCreators(c.changeElementLbOff,e),openModalEditAction:s.bindActionCreators(c.openModalEditAction,e),openModalEditElementClassesHtmlId:s.bindActionCreators(c.openModalEditElementClassesHtmlIdAction,e),openModalEditElementLinkImage:s.bindActionCreators(c.openModalEditElementLinkImageAction,e),toggleElementDoSync:s.bindActionCreators(u.toggleElementDoSync,e),setElementsDoSync:s.bindActionCreators(u.setElementsDoSync,e),insertIntoOtherLayout:s.bindActionCreators(u.insertIntoOtherLayout,e)}},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleClick=function(e){-1!==this.props.relid&&this.props.hideContextMenuElement()},t.prototype.handleScroll=function(e){this.props.hideContextMenuElement()},t.prototype.handleChangeSpaceAbove=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementSpaceAbove(r,Number(e.target.value))}},t.prototype.handleChangeSpaceBelow=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementSpaceBelow(r,Number(e.target.value))}},t.prototype.handleChangeOffsetX=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementOffsetX(r,Number(e.target.value))}},t.prototype.handleChangeOffsetY=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementOffsetY(r,Number(e.target.value))}},t.prototype.handleChangeYvel=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementYvel(r,Number(e.target.value))}},t.prototype.onClickClassesHtmlId=function(){this.props.openModalEditElementClassesHtmlId(this.props.relid),this.props.hideContextMenuElement()},t.prototype.onClickLinkImage=function(){this.props.openModalEditElementLinkImage(this.props.relid),this.props.hideContextMenuElement()},t.prototype.handleClickSyncElement=function(e,t){e.preventDefault(),e.stopPropagation();var n=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===n.indexOf(this.props.relid)&&n.push(this.props.relid),this.props.setElementsDoSync(n,t),this.props.hideContextMenuElement()},t.prototype.handleClickScrollToTop=function(e){var t=Object.assign([],this.props.selectedElementsId);-1!==this.props.relid&&-1===t.indexOf(this.props.relid)&&t.push(this.props.relid);for(var n=0,o=t;n<o.length;n++){var r=o[n];this.props.changeElementIsScrollToTop(r,e)}this.props.hideContextMenuElement()},t.prototype.handleEditLbCaption=function(e){-1!==this.props.relid&&(this.props.openModalEditAction(this.props.relid,l.ElementAttributeTargetEnum.LIGHTBOX_CAPTION),this.props.hideContextMenuElement())},t.prototype.handleLbOff=function(e){-1!==this.props.relid&&(this.props.changeElementLbOff(this.props.relid,e),this.props.hideContextMenuElement())},t.prototype.handleClickInsertIntoOtherLayout=function(e){this.props.insertIntoOtherLayout(e),this.props.hideContextMenuElement()},t.prototype.render=function(){var e=this,t={},n={spaceabove:null,spacebelow:null,offsetx:null,offsety:null,yvel:null,isscrolltotop:null,lightbox_caption:null,lightboxoff:null},o=!0,i=!1,s=!0,c=0,u=Object.assign([],this.props.selectedElementsId);if(-1===this.props.relid)t.display="none";else{-1===u.indexOf(this.props.relid)&&u.push(this.props.relid),1!==u.length&&(s=!1),t.left=this.state.posX,t.top=this.state.posY;for(var p=0,f=this.props.cont;p<f.length;p++){var h=f[p];if(-1!==u.indexOf(h.relid)){h.type===l.ElementTypeEnum.STACK&&c++;for(var m=0,g=Object.getOwnPropertyNames(n);m<g.length;m++){var y=g[m];null===n[y]?n[y]=h[y]:""!==n[y]&&n[y]!==h[y]&&(n[y]="")}}if(h.type===l.ElementTypeEnum.STACK)for(var E=0,b=h.cont;E<b.length;E++){var v=b[E];if(-1!==u.indexOf(v.relid))for(var _=0,w=Object.getOwnPropertyNames(n);_<w.length;_++){var y=w[_];null===n[y]?n[y]=v[y]:""!==n[y]&&n[y]!==v[y]&&(n[y]="")}}}if(null!==this.props.otherField)for(var O=0,C=this.props.otherField.cont;O<C.length;O++){var h=C[O];if(h.type===l.ElementTypeEnum.STACK)for(var T=h.cont,A=0,N=T;A<N.length;A++){var j=N[A];if(-1!==u.indexOf(j.relid)){u.splice(u.indexOf(j.relid),1);var S=j.dosync,M=void 0===S||S;M||(o=!1),i=!0}}else if(-1!==u.indexOf(h.relid)){u.splice(u.indexOf(h.relid),1);var k=h.dosync,M=void 0===k||k;M||(o=!1),i=!0}}}var x="";o&&(x=" show-icon");var P=[];if(null!==this.props.otherField){if(u.length-c!=0){var D="dashicons dashicons-";"desktop"===this.props.currentLayout?D+="smartphone":D+="desktop",P.push(r.createElement("button",{key:1,type:"button",onClick:function(){return e.handleClickInsertIntoOtherLayout(u)},className:"btn btn-default"},"Insert",!s&&" "+(u.length-c)," element",1!==u.length&&"s"," into ",r.createElement("span",{className:D})," layout"))}u.length-c==0&&i&&P.push(r.createElement("button",{key:2,type:"button",onClick:function(t){return e.handleClickSyncElement(t,!o)},className:"btn btn-default"+x},r.createElement("span",{className:"glyphicon glyphicon-ok"})," ",r.createElement("span",null,"Sync element")," ",r.createElement("span",{className:"sync-el-icons-wrap"},r.createElement("span",{className:"dashicons dashicons-desktop"}),r.createElement("span",{className:"glyphicon glyphicon-transfer"}),r.createElement("span",{className:"dashicons dashicons-smartphone"}))))}var L=null,R=null,I=null,G=null,H=null,B=!1;if(s){for(var F=!1,U=!1,W=0,z=this.props.cont;W<z.length;W++){var h=z[W];if(h.type===l.ElementTypeEnum.STACK)for(var V=h.cont,Y=0,K=V;Y<K.length;Y++){var X=K[Y];X.relid===this.props.relid&&(B=X.type,(X.hasOwnProperty("classes")&&0!==X.classes.trim().length||X.hasOwnProperty("html_id")&&0!==X.html_id.trim().length)&&(F=!0),X.type===l.ElementTypeEnum.IMAGE&&X.hasOwnProperty("imagelink")&&null!==X.imagelink&&"object"==typeof X.imagelink&&(U=!0))}h.relid===this.props.relid&&(B=h.type,(h.hasOwnProperty("classes")&&0!==h.classes.trim().length||h.hasOwnProperty("html_id")&&0!==h.html_id.trim().length)&&(F=!0),h.type===l.ElementTypeEnum.IMAGE&&h.hasOwnProperty("imagelink")&&null!==h.imagelink&&"object"==typeof h.imagelink&&(U=!0))}var D="btn btn-default",J="Set";if(F&&(D+=" has-class",J="Edit"),L=r.createElement("button",{type:"button",className:D,onClick:function(){return e.onClickClassesHtmlId()}},r.createElement("span",{className:"dashicons dashicons-editor-code"})," ",r.createElement("span",null,J," HTML class and id")),s&&B===l.ElementTypeEnum.IMAGE){var q="btn btn-default";U&&(q+=" is-linked"),R=r.createElement("button",{type:"button",className:q,onClick:function(){return e.onClickLinkImage()}},r.createElement("span",{className:"dashicons dashicons-admin-links"})," ",r.createElement("span",null,"Link image"))}var Z="btn btn-default";if(B!==l.ElementTypeEnum.IMAGE&&B!==l.ElementTypeEnum.TEXT||""!==n.isscrolltotop&&(!0===n.isscrolltotop&&(Z+=" show-icon"),I=r.createElement("button",{type:"button",className:Z,onClick:function(){return e.handleClickScrollToTop(!n.isscrolltotop)}},r.createElement("span",{className:"glyphicon glyphicon-ok"}),' Use as "Scroll to top" Button')),"desktop"===this.props.currentLayout&&"1"===a.default.lightboxActiveHere&&B===l.ElementTypeEnum.IMAGE){var $="btn btn-default",Q="Set Lightbox Caption";if(void 0!==n.lightbox_caption&&""!==n.lightbox_caption&&($+=" has-lightbox-caption",Q="Edit Lightbox Caption"),G=r.createElement("button",{type:"button",className:$,onClick:function(){return e.handleEditLbCaption(n.lightbox_caption)}},Q),""!==n.lightboxoff){var ee="btn btn-default";!0===n.lightboxoff&&(ee+=" show-icon"),H=r.createElement("button",{type:"button",className:ee,onClick:function(){return e.handleLbOff(!n.lightboxoff)}},r.createElement("span",{className:"glyphicon glyphicon-ok"})," Lightbox Off")}}}var te=null;if(a.default.parallax){var ne=null;null!==n.yvel&&""!==String(n.yvel)&&(ne=n.yvel>1?"faster "+String(n.yvel):"normal 1"),te=r.createElement("div",{className:"input-group group-parallax"},r.createElement("span",{className:"input-group-addon"},"y-parallax"),r.createElement("div",{className:"form-control"},r.createElement("input",{type:"range",min:"1",max:"3",step:"0.1",defaultValue:String(n.yvel),onChange:function(t){return e.handleChangeYvel(t)}}),r.createElement("span",{className:"y-parallax-status"},ne)))}return r.createElement("div",{onKeyDown:function(e){return d.preventEnter(e)},id:"lay-el-context-menu",className:"lay-context-menu",style:t,ref:function(t){e.domElement=t},onClick:function(e){return e.stopPropagation()}},r.createElement("div",{className:"btn-group-vertical"},r.createElement("div",{className:"input-group group-spaceabove"},r.createElement("span",{className:"input-group-addon"},"space above"),r.createElement("input",{type:"number",step:"0.1",min:"0",className:"form-control",defaultValue:String(n.spaceabove),onChange:function(t){return e.handleChangeSpaceAbove(t)}}),r.createElement("span",{className:"input-group-addon"},"%")),r.createElement("div",{className:"input-group group-spacebelow"},r.createElement("span",{className:"input-group-addon"},"space below"),r.createElement("input",{type:"number",step:"0.1",min:"0",className:"form-control",defaultValue:String(n.spacebelow),onChange:function(t){return e.handleChangeSpaceBelow(t)}}),r.createElement("span",{className:"input-group-addon"},"%")),r.createElement("div",{className:"input-group group-xoffset"},r.createElement("span",{className:"input-group-addon"},"x-offset"),r.createElement("input",{type:"number",step:"0.1",className:"form-control",defaultValue:String(n.offsetx),onChange:function(t){return e.handleChangeOffsetX(t)}}),r.createElement("span",{className:"input-group-addon"},"%")),r.createElement("div",{className:"input-group group-yoffset"},r.createElement("span",{className:"input-group-addon"},"y-offset"),r.createElement("input",{type:"number",step:"0.1",className:"form-control",defaultValue:String(n.offsety),onChange:function(t){return e.handleChangeOffsetY(t)}}),r.createElement("span",{className:"input-group-addon"},"%")),L,R,te,"1"===a.default.phoneLayoutActive&&P,I,G,H))},t}(p.default);t.default=i.connect(f,h)(m)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(17),l=n(7),c=n(11),u=n(2),p=n(50),d=n(9),f=n(16),h=n(10),m=function(e,t){return{addElements:e.addElements,rowsHeight:e.rowsHeight,rowsTop:e.rowsTop,contentWrapperWidth:e.contentWrapperWidth,frameMargin:e.json_field.frameMargin,rowGutters:e.json_field.rowGutters,rowAttrs:e.json_field.rowAttrs,topFrameMargin:e.json_field.topFrameMargin,colGutter:e.json_field.colGutter,colCount:e.json_field.colCount,headerHeight:e.headerHeight,currentLayout:e.currentLayout}},g=function(e){return{changeAddElementPosition:s.bindActionCreators(u.changeAddElementPositionAction,e),addElementToCont:s.bindActionCreators(h.addElementToCont,e),deleteAddElements:s.bindActionCreators(u.deleteAddElements,e),setNotice:s.bindActionCreators(u.setNoticeAction,e)}},y=2,E=null,b=function(e){function t(t){var n=e.call(this,t)||this;n.onKeyDownBind=function(e){return n.onKeyDown(e)},n.onClickBind=function(e){return n.onClick(e)},n.onMouseMoveThrottle=a.throttle(n.onMouseMove.bind(n),l.default.throttleMouseMove);var o=y;return"desktop"!==t.currentLayout&&(null===E&&(E=t.colCount),o=E),n.state={row:0,col:0,colspan:o,x:0,y:0,align:"bottom"},n}return o(t,e),t.prototype.componentDidMount=function(){window.addEventListener("mousemove",this.onMouseMoveThrottle),window.addEventListener("keydown",this.onKeyDownBind),document.getElementById("rows-wrap").addEventListener("click",this.onClickBind);for(var e=document.getElementsByClassName("lay-stack"),t=0;t<e.length;t++)e.item(t).addEventListener("click",this.onClickBind);window.dispatchEvent(new Event("mousemove")),this.props.setNotice(f.default.pressPlusMinusToChangeSize)},t.prototype.componentDidUpdate=function(){"desktop"!==this.props.currentLayout?E=this.state.colspan:y=this.state.colspan},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.onMouseMoveThrottle),window.removeEventListener("keydown",this.onKeyDownBind),document.getElementById("rows-wrap").removeEventListener("click",this.onClickBind);for(var e=document.getElementsByClassName("lay-stack"),t=0;t<e.length;t++)e.item(t).removeEventListener("click",this.onClickBind)},t.prototype.componentWillReceiveProps=function(e){if(e.currentLayout!==this.props.currentLayout){var t=y;"desktop"!==e.currentLayout&&(null===E&&(E=e.colCount),t=E),this.setState({colspan:t})}},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 189:case 173:case 109:case 54:this.state.colspan>1&&(this.setState({colspan:this.state.colspan-1}),this.props.changeAddElementPosition(this.state.row,this.state.col,this.state.colspan));break;case 187:case 171:case 107:case 122:case 61:this.state.colspan<this.props.colCount&&(this.setState({colspan:this.state.colspan+1}),this.props.changeAddElementPosition(this.state.row,this.state.col,this.state.colspan));break;case 8:case 46:case 27:this.props.deleteAddElements()}},t.prototype.calcPosition=function(e){for(var t=d.default("#content-wrap").offset(),n=e.clientX,o=e.clientY,r=e.pageY-t.top,i=e.pageX-t.left,s=-1,a=c.getColInPx(this.props.contentWrapperWidth,this.props.currentLayout,this.props.colCount,this.props.colGutter,this.props.frameMargin),l=c.getPctMeasureInPx(this.props.colGutter,this.props.contentWrapperWidth),u=c.getMeasureInPx(c.MeasureUnitEnum.FRAME,this.props.frameMargin,this.props.contentWrapperWidth,this.props.currentLayout),p=0;p<this.props.colCount&&!(u>i);p++)if(u+=a,p+1!==this.props.colCount&&(u+=l),u>i){s=p;break}for(var f=-1,h="bottom",m=c.getMeasureInPx(c.MeasureUnitEnum.TOP_FRAME,this.props.topFrameMargin,this.props.contentWrapperWidth,this.props.currentLayout),g=0,p=0;p<this.props.rowAttrs.length;p++){var y=this.props.rowsHeight[p];if(void 0===this.props.rowsHeight[p]&&(y=c.getPctMeasureInPx(20,this.props.contentWrapperWidth)),m>r)break;if((m+=y)>r){f=p,g=y+r-m;var E=g/y;h=E<1/3?"top":E<=2/3?"middle":"bottom";break}p<this.props.rowGutters.length&&(m+=c.getMeasureInPx(c.MeasureUnitEnum.ROW_GUTTER,this.props.rowGutters[p],this.props.contentWrapperWidth,this.props.currentLayout))}return{x:i,y:r,clientX:n,clientY:o,col:s,row:f,align:h,rowOffset:g}},t.prototype.onMouseMove=function(e){var t=this.calcPosition(e);t.col===this.state.col&&t.row===this.state.row&&t.align===this.state.align&&t.rowOffset===this.state.rowOffset||this.props.changeAddElementPosition(t.row,t.col,this.state.colspan,t.align,t.rowOffset),this.setState(t)},t.prototype.onClick=function(e){e.target.classList.contains("btn-default")||e.target.parentElement.classList.contains("btn-default")||(this.props.addElementToCont(this.getCont()),e.stopPropagation())},t.prototype.getCont=function(){var e={type:this.props.addElements[0].type,cont:"",align:this.state.align,row:this.state.row,col:this.state.col,colspan:this.state.colspan,offsetx:0,offsety:0,spaceabove:0,spacebelow:0,yvel:1,push:0,relid:-1};return Object.assign({},e,this.props.addElements[0])},t.prototype.render=function(){if(null===this.props.addElements||0===this.props.addElements.length)return null;var e=this.props.addElements.length,t={marginTop:this.props.headerHeight},n={top:this.state.clientY+20,left:this.state.clientX-20},o=this.getCont(),i=this.props.contentWrapperWidth/window.innerWidth*100+"%";return r.createElement("div",{className:"add-element-wrap",style:t},e>1&&r.createElement("span",{className:"badge add-count",style:n},e),r.createElement(p.default,{x:this.state.clientX+12,y:this.state.clientY+12,index:5,cont:o,width:i}))},t}(r.Component);t.default=i.connect(m,g)(b)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(135),l=n(2),c=n(10),u=function(e,t){return{modal:e.modal}},p=function(e){return{openModalAdd:s.bindActionCreators(l.openModalAddAction,e),setAddElements:s.bindActionCreators(l.setAddElementsAction,e),setElementContent:s.bindActionCreators(c.setElementContent,e),closeModal:s.bindActionCreators(l.closeModalAction,e)}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state={additionalModal:null,additionalElements:null},n}return o(t,e),t.prototype.componentDidMount=function(){window.laylink_project_descripton_tinymce=this.openProjectDescriptionLinkHelperModal.bind(this)},t.prototype.openProjectDescriptionLinkHelperModal=function(){this.props.openModalAdd("projectDescriptionLinkHelper")},t.prototype.clearAdditionalElement=function(){this.setState({additionalElements:null})},t.prototype.setAdditionalElements=function(e){this.setState({additionalElements:e,additionalModal:null})},t.prototype.setAdditionalModal=function(e,t){void 0===t&&(t=null),this.setState({additionalModal:e,additionalElements:t})},t.prototype.closeAdditionalModal=function(){null!==this.state.additionalModal&&"linkImage"===this.state.additionalModal.type?this.setState({additionalModal:null,additionalElements:[]}):this.setState({additionalModal:null})},t.prototype.render=function(){var e=this,t=[],n=null===this.state.additionalModal;return null!==this.props.modal&&(t.push(r.createElement(a.default,{visible:n,modal:this.props.modal,setAddElements:this.props.setAddElements,setElementContent:this.props.setElementContent,closeModal:this.props.closeModal,additionalElements:this.state.additionalElements,clearAdditionalElement:this.clearAdditionalElement.bind(this),setAdditionalModal:this.setAdditionalModal.bind(this)})),n||t.push(r.createElement(a.default,{visible:!0,modal:this.state.additionalModal,setElementContent:function(t,n){return e.setAdditionalElements([n])},setAddElements:this.setAdditionalElements.bind(this),closeModal:this.closeAdditionalModal.bind(this)}))),r.createElement("div",null,t)},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),s=n(136),a=n(137),l=n(138),c=n(139),u=n(140),p=n(142),d=n(144),f=n(145),h=n(146),m=n(147),g=n(148),y=n(149),E=n(150),b=n(151),v=n(152),_=n(5),w=n(6),O=n(153),C=n(267),T=n(269),A=n(270),N={},j=Object.assign(N,{bgVideo:h.default,bgImage:m.default,createPhoneLayout:y.default,deletePhoneLayout:E.default,embed:c.default,html:u.default,html5video:a.default,img:g.default,linkImage:b.default,postThumbnail:v.default,shortcode:d.default,template:p.default,text:s.default,thumbnailgrid:C.default,elementgrid:T.default,video:l.default}),S=function(e){function t(t){var n=e.call(this,t)||this;return w.default.plugins.layThemeCarousel&&(j.carousel=O.default),j.projectDescriptionLinkHelper=A.default,n}return o(t,e),t.prototype.getId=function(e,t){switch(void 0===t&&(t=null),e){case"createPhoneLayout":return"create-phone-layout-modal";case"classesHtmlIdElement":case"classesHtmlIdRow":return"edit-html-class-id-modal";case"deletePhoneLayout":return"confirm-delete-phone-layout-modal";case"bgVideo":return"bg-video-modal";case"bgVideo":return"bg-image-modal";case i.ElementTypeEnum.HTML5VIDEO:return"html5-video-input-modal";case"template":return"choose-template-modal";case"linkImage":return"link-image-modal";case i.ElementTypeEnum.SHORTCODE:case i.ElementTypeEnum.TEXT:case i.ElementTypeEnum.THUMBNAIL_GRID:case i.ElementTypeEnum.ELEMENT_GRID:case i.ElementTypeEnum.CAROUSEL:return e+"-modal";case i.ElementTypeEnum.POST_THUMBNAIL:return"post-thumbnail-modal";case i.ElementTypeEnum.IMAGE:case i.ElementTypeEnum.EMBED:case i.ElementTypeEnum.HTML:case i.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO:return e+"-input-modal";default:return"input-modal"}},t.prototype.getElement=function(e,t,n){switch(void 0===t&&(t=null),void 0===n&&(n=i.ElementAttributeTargetEnum.CONT),e){case"classesHtmlIdElement":return r.createElement(f.default,{isRow:!1,cont:t});case"classesHtmlIdRow":return r.createElement(f.default,{isRow:!0,cont:t});case i.ElementTypeEnum.TEXT:return r.createElement(s.default,{cont:t,target:n,setElementContent:this.props.setElementContent,closeModal:this.props.closeModal,setAddElements:this.props.setAddElements,setAdditionalModal:this.props.setAdditionalModal,additionalElements:this.props.additionalElements,clearAdditionalElement:this.props.clearAdditionalElement});default:if(j.hasOwnProperty(e)){var o=j[e];return r.createElement(o,{cont:t,type:e,setAddElements:this.props.setAddElements,setElementContent:this.props.setElementContent,closeModal:this.props.closeModal,setAdditionalModal:this.props.setAdditionalModal,additionalElements:this.props.additionalElements,clearAdditionalElement:this.props.clearAdditionalElement})}}},t.prototype.handleClickBackground=function(e){e.stopPropagation(),e.preventDefault(),this.props.closeModal()},t.prototype.render=function(){var e=this,t=this.getId(this.props.modal.type,this.props.modal.cont),n=this.getElement(this.props.modal.type,this.props.modal.cont,this.props.modal.target),o={};return this.props.visible||(o.display="none"),r.createElement("div",{style:o,id:t,className:"lay-input-modal",onKeyDown:function(e){return _.preventEnter(e)}},n,r.createElement("div",{className:"background",onClick:function(t){return e.handleClickBackground(t)}}))},t}(r.Component);t.default=S},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(9),a=n(13),l=n(6),c=n(4),u=n(5),p=function(e,t){return{currentLayout:e.currentLayout}},d=function(e){function t(t){var n=e.call(this,t)||this;n.selectionNode=null;var o="";null!==n.props.cont&&(n.props.cont.hasOwnProperty(n.props.target)&&(o=n.props.cont[n.props.target]),o=a.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(o)),tinymce.get("gridder_text_editor").setContent(o),s.default("#text-input-modal").show(),s.default("body").addClass("modal-open"),setTimeout(function(){"phone"===n.props.currentLayout?tinymce.get("gridder_text_editor").$("body").addClass("phone-textformats"):tinymce.get("gridder_text_editor").$("body").removeClass("phone-textformats"),tinymce.get("gridder_text_editor").focus()},0);var r=s.default(".text-modal-notice");return r.hide(),r.eq(0).fadeIn(200),n.bindOk(),n.bindNoticeCloseButtons(),n.bindNoticeDontShowAgainButtons(),n.bindNoticeNextTipButtons(),n.bindClose(),n}return o(t,e),t.prototype.bindNoticeCloseButtons=function(){s.default(".text-modal-notice button.close").on("click",function(){s.default(this.parentNode).hide()})},t.prototype.bindNoticeDontShowAgainButtons=function(){s.default(".text-modal-notice button.dont-show-again").on("click",function(){var e=s.default(this.parentNode).attr("data-optionname");s.default.ajax({type:"POST",url:l.default.ajaxUrl,data:{action:"set_notice_hidden_via_ajax",optionname:e}}),s.default(this.parentNode).find("button.next-tip").click()})},t.prototype.bindNoticeNextTipButtons=function(){s.default(".text-modal-notice button.next-tip").on("click",function(){s.default(this.parentNode).fadeOut(200);var e=s.default(this.parentNode).next();setTimeout(function(){e.hasClass("text-modal-notice")&&e.fadeIn(200)},200)})},t.prototype.bindOk=function(){var e=this;s.default("#text-input-modal .add-text-btn").on("click",function(){e.handleClickOk()})},t.prototype.bindClose=function(){var e=this;s.default("#text-input-modal .close-modal-btn, #text-input-modal .background").on("click",function(t){t.stopPropagation(),t.preventDefault(),e.props.closeModal()})},t.prototype.componentDidMount=function(){window.laylink_tinymce=this.showLayLinkModal.bind(this)},t.prototype.componentWillUnmount=function(){tinymce.get("gridder_text_editor").windowManager.close(window),s.default("#text-input-modal").hide(),s.default("#text-input-modal .add-text-btn").off("click"),tinymce.get("gridder_text_editor").setContent(""),s.default("body").removeClass("modal-open"),window.laylink_tinymce=void 0},t.prototype.showLayLinkModal=function(e){var t=tinymce.get("gridder_text_editor"),n=t.selection.getNode();tinymce.isGecko&&(this.selectionNode=t.selection.getRng());var o={};"a"!==n.nodeName.toLowerCase()||""===n.getAttribute("href")||n.getAttribute("href").startsWith("#")||(o.imagelink={url:u.getRelativeURL(n.getAttribute("href")),id:Number(n.getAttribute("data-id")),type:n.getAttribute("data-type"),title:n.getAttribute("data-title"),newtab:"_blank"===n.getAttribute("target")},o.relid=0),this.props.setAdditionalModal({type:"linkImage",cont:o}),s.default("#text-input-modal").hide()},t.prototype.componentWillReceiveProps=function(e){if(null===this.props.additionalElements&&e.additionalElements instanceof Array){if(s.default("#text-input-modal").show(),e.additionalElements.length>0&&e.additionalElements[0].imagelink){var t=tinymce.get("gridder_text_editor");t.focus(),tinymce.isGecko&&t.selection.setRng(this.selectionNode),tinymce.isIE&&t.selection.moveToBookmark(t.windowManager.bookmark);var n={href:u.getStaticURL(e.additionalElements[0].imagelink.url),"data-type":e.additionalElements[0].imagelink.type,"data-id":e.additionalElements[0].imagelink.id,"data-title":e.additionalElements[0].imagelink.title,target:e.additionalElements[0].imagelink.newtab?"_blank":""},o=t.dom.getParent(t.selection.getNode(),"a");o?t.dom.setAttribs(o,n):t.execCommand("mceInsertLink",!1,n)}this.props.clearAdditionalElement()}},t.prototype.handleClickOk=function(){var e=tinymce.get("gridder_text_editor").getContent();""===e.trim()&&(e="");var t="";if(null!==this.props.cont&&this.props.cont.hasOwnProperty(this.props.target)&&(t=this.props.cont[this.props.target]),e=a.default.putActiveLangStringIntoEncodedString(e,t),null===this.props.cont){var n={cont:e,type:c.ElementTypeEnum.TEXT};this.props.setAddElements([n])}else{var n={};n[this.props.target]=e,this.props.setElementContent(this.props.cont.relid,n)}tinymce.get("gridder_text_editor").setContent("")},t.prototype.render=function(){return null},t}(r.Component);t.default=i.connect(p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(28),s=n(5),a=n(4),l=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={autoplay:!1,loop:!1,mute:!1,controls:!1,playpauseonclick:!1,playicon:!1,ar:null,mp4:null,cont:null,filename:null,sizes:null,imgar:null}:n.state=t.cont,n}return o(t,e),t.prototype.handleClickOk=function(){var e=Object.assign({type:a.ElementTypeEnum.HTML5VIDEO},this.state);null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeAutoplay=function(e){this.setState({autoplay:e.target.checked}),!0===e.target.checked?(this.setState({mute:!0}),this.setState({muteDisabled:"disabled"})):this.setState({muteDisabled:""})},t.prototype.handleChangeLoop=function(e){this.setState({loop:e.target.checked})},t.prototype.handleChangeMute=function(e){this.setState({mute:e.target.checked})},t.prototype.handleChangeControls=function(e){this.setState({controls:e.target.checked})},t.prototype.handleChangePlayIcon=function(e){this.setState({playicon:e.target.checked})},t.prototype.handleChangePlayPauseOnClick=function(e){this.setState({playpauseonclick:e.target.checked})},t.prototype.handleClickSetVideo=function(){var e=this,t=i.default.media({title:"Set a .mp4",button:{text:"Ok"},multiple:!1,library:{type:"video"}});t.on("select",function(){var n=t.state().get("selection").toJSON();"video/mp4"===n[0].mime&&e.setState({mp4:s.getRelativeURL(n[0].url),filename:n[0].filename,ar:n[0].height/n[0].width})}),t.open()},t.prototype.handleClickSetPoster=function(){var e=this,t=i.default.media({title:"Set a poster image",button:{text:"Ok"},multiple:!1,library:{type:"image"}});t.on("select",function(){var n=t.state().get("selection").toJSON();if("image"===n[0].type){var o=s.getRelativeSizes(n[0].sizes);e.setState({cont:s.getContImageURL(o),sizes:o,imgar:n[0].height/n[0].width})}}),t.open()},t.prototype.getPoster=function(){if(null===this.state.sizes)return null;var e={};return null!==this.state.sizes&&(e.backgroundImage="url("+s.getContImageURL(this.state.sizes)+")"),this.state.hasOwnProperty("ar")&&null!==this.state.ar?e.paddingBottom=100*this.state.ar+"%":this.state.hasOwnProperty("h")&&null!==this.state.h&&null!==this.state.w?e.paddingBottom=100*this.state.h/this.state.w+"%":null!==this.state.imgar&&(e.paddingBottom=100*this.state.imgar+"%"),r.createElement("div",{className:"placeholder",style:e})},t.prototype.render=function(){var e=this,t="Add HTML5 Video";null!==this.props.cont&&(t="Edit HTML5 Video");var n;return n=[r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.autoplay,onChange:function(t){return e.handleChangeAutoplay(t)}})," ",r.createElement("span",null,"Autoplay"))),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.playpauseonclick,onChange:function(t){return e.handleChangePlayPauseOnClick(t)}})," ",r.createElement("span",null,"Play/pause on click"))),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.loop,onChange:function(t){return e.handleChangeLoop(t)}})," ",r.createElement("span",null,"Loop"))),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.mute,disabled:this.state.muteDisabled,onChange:function(t){return e.handleChangeMute(t)}})," ",r.createElement("span",null,"Mute"))),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.controls,onChange:function(t){return e.handleChangeControls(t)}})," ",r.createElement("span",null,"Show Standard Controls"))),r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.playicon,onChange:function(t){return e.handleChangePlayIcon(t)}})," ",r.createElement("span",null,'Show Custom "Play" Icon')))],r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"form-group html5-video-group"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-6"},r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-default btn-sm mp4-btn",onClick:function(){return e.handleClickSetVideo()}},"Set .mp4")," * ",r.createElement("span",{className:"filename"},this.state.filename)),r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-default btn-sm poster-btn",onClick:function(){return e.handleClickSetPoster()}},"Set placeholder image")," *"),r.createElement("div",{className:"html5-video-poster-thumb"},this.getPoster())),r.createElement("div",{className:"col-md-6"},n)),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-6"}),r.createElement("div",{className:"col-md-6"},r.createElement("p",{style:{marginBottom:0}},"Autoplaying videos must be muted to autoplay on newer browsers."))))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-video-btn",disabled:null===this.state.mp4||null===this.state.cont,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=l},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(17),l=n(7),c=n(2),u=n(10),p=n(9),d=n(4),f=n(5),h=/(youtu(?:\.be|be\.com)\/(?:.*v(?:\/|=)|(?:.*\/)?)([\w'-]+))/i,m=/(vimeo\.com\/)([0-9]+)(\?autoplay=true)?$/,g=/(autoplay=)(true|1)$/,y=function(e,t){return{}},E=function(e){return{setAddElements:s.bindActionCreators(c.setAddElementsAction,e),setElementContent:s.bindActionCreators(u.setElementContent,e),closeModal:s.bindActionCreators(c.closeModalAction,e)}},b=function(e){function t(t){var n=e.call(this,t)||this;return n.currentAjaxId=0,n.setVimeoEmbedDebounced=a.debounce(n.setVimeoEmbed.bind(n),l.default.debounceHandleChangeUrl),n.setYoutubeEmbedDebounced=a.debounce(n.setYoutubeEmbed.bind(n),l.default.debounceHandleChangeUrl),null===t.cont?n.state={title:"",description:"",url:"",cont:"",h:-1,w:-1,iframe:"",alert:!1,valid:!1}:n.state=Object.assign({},t.cont,{title:"",description:"",alert:!1,valid:!1}),n}return o(t,e),t.prototype.componentDidMount=function(){""!==this.state.url&&this.handleChangeUrl(this.state.url),this.focusTag.focus()},t.prototype.handleClickOk=function(){var e={cont:this.state.cont,iframe:this.state.iframe,url:this.state.url,w:this.state.w,h:this.state.h,ar:this.state.h/this.state.w,type:d.ElementTypeEnum.YOUTUBE_VIMEO_VIDEO};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeUrlEvent=function(e){var t=e.target.value,n=t.length>3?4:t.length;t.substr(0,n)!=="http".substr(0,n)&&(t="http://"+t,e.target.value=t),this.setState({url:t,valid:!1,alert:!1,title:"",description:""}),""!==t.trim()&&this.handleChangeUrl(t)},t.prototype.handleChangeUrl=function(e){this.currentAjaxId+=1;var t=this.currentAjaxId;null!==e.match(m)?""===this.state.url?this.setVimeoEmbed(e,t):this.setVimeoEmbedDebounced(e,t):null!==e.match(h)?""===this.state.url?this.setYoutubeEmbed(e,t):this.setYoutubeEmbedDebounced(e,t):this.setState({alert:!0,valid:!1})},t.prototype.setVimeoEmbed=function(e,t){var n=this,o=encodeURIComponent(e.match(m)[2]),r="";null!==e.match(g)&&(r="&autoplay=1"),p.default.getJSON("https://vimeo.com/api/oembed.json?url=https%3A%2F%2Fvimeo.com%2F"+o+r,function(e,o,i){var s=e.thumbnail_url,a=e.title,l=f.trunc(e.description,220),c=Number(e.height),u=Number(e.width),p='<iframe src="//player.vimeo.com/video/'+e.video_id+"?api=1"+r+'&title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff" width="'+e.width+'" height="'+e.height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';t===n.currentAjaxId&&n.setState({cont:s,alert:!1,valid:!0,title:a,description:l,h:c,w:u,iframe:p})}).fail(function(e,o,r){t===n.currentAjaxId&&n.setState({alert:!0,valid:!1})})},t.prototype.setYoutubeEmbed=function(e,t){var n=this,o=e.match(h)[2];p.default.ajax({url:"https://query.yahooapis.com/v1/public/yql",data:{q:"select * from json where url ='https://www.youtube.com/oembed?url=http://www.youtube.com/watch?v="+o+"&format=json'",format:"json"},dataType:"jsonp",success:function(e){if(null!==e.query.results){var r=e.query.results.json.thumbnail_url,i=e.query.results.json.title,s=Number(e.query.results.json.height),a=Number(e.query.results.json.width),l='<iframe width="'+e.query.results.json.width+'" height="'+e.query.results.json.height+'" src="//www.youtube.com/embed/'+o+'?enablejsapi=1&wmode=transparent&autohide=1&iv_load_policy=3&modestbranding=1&rel=0&showinfo=0&showsearch=0?&theme=light&color=white" frameborder="0" allowfullscreen></iframe>';t===n.currentAjaxId&&n.setState({cont:r,alert:!1,valid:!0,title:i,description:"",h:s,w:a,iframe:l})}else t===n.currentAjaxId&&n.setState({alert:!0,valid:!1,title:"",description:""})},error:function(e){t===n.currentAjaxId&&n.setState({alert:!0,valid:!1})}})},t.prototype.render=function(){var e=this,t="Add Video";null!==this.props.cont&&(t="Edit Video");var n={};this.state.valid||(n.display="none");var o={};return this.state.alert||(o.display="none"),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"alert alert-danger",role:"alert",style:o},r.createElement("strong",null,"Malformed address!")," Please check if this is a valid Youtube or Vimeo address."),r.createElement("input",{type:"text",className:"form-control input-lg",ref:function(t){return e.focusTag=t},placeholder:"Youtube or Vimeo address",defaultValue:this.state.url,onChange:function(t){return e.handleChangeUrlEvent(t)}}),r.createElement("div",{className:"media",style:n},r.createElement("div",{className:"pull-left"},r.createElement("img",{id:"video-preview",className:"media-object",src:this.state.cont,alt:""})),r.createElement("div",{className:"media-body"},r.createElement("h4",{className:"media-heading"},this.state.title),r.createElement("p",null,this.state.description)))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-video-btn",disabled:!this.state.valid,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=i.connect(y,E)(b)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(17),l=n(7),c=n(5),u=n(6),p=n(2),d=n(10),f=n(9),h=n(4),m=function(e,t){return{}},g=function(e){return{setAddElements:s.bindActionCreators(p.setAddElementsAction,e),setElementContent:s.bindActionCreators(d.setElementContent,e),closeModal:s.bindActionCreators(p.closeModalAction,e)}},y='<span class="dashicons dashicons-format-image"></span>',E=function(e){function t(t){var n=e.call(this,t)||this;return n.xhr=!1,n.currentAjaxId=0,n.setEmbedDebounced=a.debounce(n.setEmbed.bind(n),l.default.debounceHandleChangeUrl),null===t.cont?n.state={url:"",cont:y,h:0,w:0,alert:!1,valid:!1}:n.state=Object.assign({},t.cont,{alert:!1,valid:!1}),n}return o(t,e),t.prototype.componentDidMount=function(){""!==this.state.url&&this.handleChangeUrl(this.state.url),this.focusTag.focus()},t.prototype.handleClickOk=function(){var e={cont:this.state.cont,url:this.state.url,w:this.state.w,h:this.state.h,type:h.ElementTypeEnum.EMBED};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeUrlEvent=function(e){var t=e.target.value,n=t.length>3?4:t.length;t.substr(0,n)!=="http".substr(0,n)&&(t="http://"+t,e.target.value=t),this.setState({url:t,valid:!1,alert:!1,cont:y}),""!==t.trim()&&this.handleChangeUrl(t)},t.prototype.handleChangeUrl=function(e){this.currentAjaxId+=1;var t=this.currentAjaxId;""===this.state.url?this.setEmbed(e,t):this.setEmbedDebounced(e,t)},t.prototype.setEmbed=function(e,t){var n=this;f.default.ajax({url:u.default.ajaxUrl,data:{action:"get_embed",layembedval:e},type:"post",dataType:"html",success:function(e){if(t===n.currentAjaxId)if(e){var o=e,r=0,i=0,s=f.default(e);s[0].hasAttribute("width")&&(r=Number(s.attr("width"))),s[0].hasAttribute("height")&&(i=Number(s.attr("height"))),n.setState({alert:!1,valid:!0,cont:o,h:i,w:r}),c.processInstagramEmbeds()}else n.setState({alert:!0,valid:!1,cont:y})}})},t.prototype.render=function(){var e=this,t="Add Embed";null!==this.props.cont&&(t="Edit Embed");var n={};this.state.valid||(n.display="none");var o={};return this.state.alert||(o.display="none"),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"alert alert-danger",role:"alert",style:o},"Error, no embed found for this URL."),r.createElement("input",{type:"text",className:"form-control input-lg",ref:function(t){return e.focusTag=t},placeholder:""!==this.state.url?"":"Enter a URL",defaultValue:this.state.url,onChange:function(t){return e.handleChangeUrlEvent(t)}}),r.createElement("div",{className:"embed-preview-wrap",style:n},r.createElement("div",{id:"embed-preview",dangerouslySetInnerHTML:{__html:this.state.cont}}))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-embed-btn",disabled:!this.state.valid,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=i.connect(m,g)(E)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(10),c=n(141),u=n(4),p=function(e,t){return{}},d=function(e){return{setAddElements:s.bindActionCreators(a.setAddElementsAction,e),setElementContent:s.bindActionCreators(l.setElementContent,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},f=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={cont:""}:n.state=t.cont,n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;this.editor=c.default.edit("ace-html-modal-editor"),this.editor.setTheme("ace/theme/xcode"),this.editor.getSession().setMode("ace/mode/html"),this.editor.setShowPrintMargin(!1),null!==this.props.cont&&this.editor.setValue(this.state.cont),this.editor.getSession().on("change",function(t){var n=e.editor.getValue();e.setState({cont:n})}),setTimeout(function(){e.editor.renderer.updateText(),e.editor.focus()},0)},t.prototype.handleClickOk=function(){var e=Object.assign({type:u.ElementTypeEnum.HTML},this.state);null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.render=function(){var e=this,t="Add HTML";return null!==this.props.cont&&(t="Edit HTML"),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title js-html-modal-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body",onKeyDown:function(e){return e.stopPropagation()}},r.createElement("div",{id:"ace-html-modal-editor",style:{fontSize:"16px"}})),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-html-btn",disabled:""===this.state.cont.trim(),onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=i.connect(p,d)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=ace},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(143),c=n(6),u=n(9),p=function(e,t){return{}},d=function(e){return{setTemplate:s.bindActionCreators(l.setTemplate,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},f=function(e){function t(t){var n=e.call(this,t)||this;return n.state={templates:null,id:null},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;u.default.ajax({url:c.default.ajaxUrl,data:{action:"get_lg_templates_json"},type:"post",dataType:"html",success:function(t){try{var n=JSON.parse(t);e.setState({templates:n})}catch(e){}}})},t.prototype.handleClickOk=function(){this.props.setTemplate(this.state.id),this.props.closeModal()},t.prototype.handleClickTemplate=function(e){for(var t=e.target;!t.hasAttribute("data-id");)t=t.parentElement;this.setState({id:t.getAttribute("data-id")})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.render=function(){var e=this,t=null;if(null!==this.state.templates){for(var n=[],o=0;o<this.state.templates.length;o++){var i="";o%2==0&&(i+="alternate"),Number(this.state.id)===Number(this.state.templates[o].id)&&(""!==i&&(i+=" "),i+="selected");var s=r.createElement("li",{key:o,className:i,"data-id":this.state.templates[o].id,onClick:function(t){return e.handleClickTemplate(t)}},r.createElement("input",{type:"hidden",className:"item-permalink",value:this.state.templates[o].permalink}),r.createElement("input",{type:"hidden",className:"item-id",value:this.state.templates[o].id}),r.createElement("span",{className:"item-title"},this.state.templates[o].title),r.createElement("span",{className:"item-info"},this.state.templates[o].date));n.push(s)}t=r.createElement("div",{className:"lg-template-posts-wrap"},r.createElement("div",{id:"wp-link"},r.createElement("ul",null,n)))}return r.createElement("div",{className:"panel panel-default"},r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close")),r.createElement("div",{className:"panel-body"},r.createElement("p",{className:"lead text-center"},"Please choose a template.")),t,r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default lg-insert-template",disabled:null===this.state.id,onClick:function(){return e.handleClickOk()}},"Replace current layout with template")))},t}(r.Component);t.default=i.connect(p,d)(f)},function(e,t,n){"use strict";function o(e){return function(t,n){var o=n(),l=i.default.ajax({url:s.default.ajaxUrl,data:{action:"get_lg_template_json_by_id",lg_id:e},type:"post",dataType:"json"}),c={url:s.default.ajaxUrl,data:{action:"get_lg_cpl_template_json_by_id",lg_id:e},type:"post",dataType:"json"};s.default.phoneLayoutActive?i.default.when(l,i.default.ajax(c)).then(function(e,n){"desktop"!==o.currentLayout&&t(a.changeBreakpointAction()),t(a.setTemplateAction(r.castJsonFieldType(e[0]),r.castJsonFieldType(n[0])))}):i.default.when(l).then(function(e){"desktop"!==o.currentLayout&&t(a.changeBreakpointAction()),t(a.setTemplateAction(r.castJsonFieldType(e[0])))})}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(9),s=n(6),a=n(2);t.setTemplate=o},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(10),c=n(4),u=function(e,t){return{}},p=function(e){return{setAddElements:s.bindActionCreators(a.setAddElementsAction,e),setElementContent:s.bindActionCreators(l.setElementContent,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},d=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={cont:""}:n.state=t.cont,n}return o(t,e),t.prototype.componentDidMount=function(){this.focusTag.focus()},t.prototype.handleClickOk=function(){var e={cont:this.state.cont,type:c.ElementTypeEnum.SHORTCODE,shortcodeid:Math.round(Date.now())};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeCont=function(e){this.setState({cont:e.target.value})},t.prototype.render=function(){var e=this,t="Add Shortcode";return null!==this.props.cont&&(t="Edit Shortcode"),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("input",{type:"text",className:"form-control input-lg",ref:function(t){return e.focusTag=t},defaultValue:this.state.cont,onChange:function(t){return e.handleChangeCont(t)}})),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-shortcode-btn",disabled:""===this.state.cont.trim(),onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(10),c=function(e,t){return{}},u=function(e){return{setElementContent:s.bindActionCreators(l.setElementContent,e),setRowAttrs:s.bindActionCreators(a.setRowAttrsAction,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},p=function(e){function t(t){var n=e.call(this,t)||this;return n.state=Object.assign({html_id:"",classes:""},t.cont),n}return o(t,e),t.prototype.handleClickOk=function(){var e={html_id:this.state.html_id,classes:this.state.classes};this.props.isRow?this.props.setRowAttrs(this.props.cont.row,e):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleChangeHtmlId=function(e){this.setState({html_id:e.target.value})},t.prototype.handleChangeClasses=function(e){this.setState({classes:e.target.value})},t.prototype.render=function(){var e=this;return r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},"Set HTML class and id"),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("p",null,"HTML classes and ids can't contain special characters and can't start with a number. An id needs to be unique on its page. You can assign multiple classes separated by spaces but you can only assign one id."),r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"lay-html-class-input"},"class"),r.createElement("input",{id:"lay-html-class-input",type:"text",placeholder:"myclass anotherclass",defaultValue:this.state.classes,className:"form-control",onChange:function(t){return e.handleChangeClasses(t)}})),r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"lay-html-id-input"},"id"),r.createElement("input",{id:"lay-html-id-input",type:"text",placeholder:"myid",className:"form-control",defaultValue:this.state.html_id,onChange:function(t){return e.handleChangeHtmlId(t)}}))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg edit-class-btn",onClick:function(){return e.handleClickOk()}},"Save")))},t}(r.Component);t.default=i.connect(c,u)(p)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(28),c=n(5),u=function(e,t){return{}},p=function(e){return{setRowAttrs:s.bindActionCreators(a.setRowAttrsAction,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},d=function(e){function t(t){var n=e.call(this,t)||this;return n.state=Object.assign({mp4:null,mp4Ar:null,filename:null,image:null,imageAr:null},t.cont),n}return o(t,e),t.prototype.handleClickOk=function(){var e={mp4:this.state.mp4,mp4Ar:this.state.mp4Ar,filename:this.state.filename,image:this.state.image,imageAr:this.state.imageAr};this.props.setRowAttrs(this.props.cont.row,{bgvideo:e,bgimage:null})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickSetVideo=function(){var e=this,t=l.default.media({title:"Set a .mp4",button:{text:"Ok"},multiple:!1,library:{type:"video"}});t.on("open",function(){"browse"!==t.content._mode&&t.content.mode("browse")}),t.on("select",function(){var n=t.state().get("selection").toJSON();"video/mp4"===n[0].mime&&e.setState({mp4:c.getRelativeURL(n[0].url),mp4Ar:n[0].height/n[0].width,filename:n[0].filename})}),t.open()},t.prototype.handleClickUnsetThumbnail=function(){this.setState({image:null,imageAr:null})},t.prototype.handleClickSetThumbnail=function(){var e=this,t=l.default.media({title:"Set a poster image",button:{text:"Ok"},multiple:!1,library:{type:"image"}});t.on("select",function(){var n=t.state().get("selection").toJSON();"image"===n[0].type&&e.setState({image:c.getRelativeSizes(n[0].sizes),imageAr:n[0].height/n[0].width})}),t.open()},t.prototype.getThumbnail=function(){if(null===this.state.image)return null;var e={};return null!==this.state.image&&(e.backgroundImage="url("+c.getContImageURL(this.state.image)+")"),null!==this.state.mp4Ar?e.paddingBottom=100*this.state.mp4Ar+"%":null!==this.state.imageAr&&(e.paddingBottom=100*this.state.imageAr+"%"),r.createElement("div",{className:"placeholder",style:e})},t.prototype.componentDidMount=function(){this.props.cont.hasOwnProperty("bgvideo")&&this.setState({mp4:this.props.cont.bgvideo.mp4,mp4Ar:this.props.cont.bgvideo.mp4Ar,filename:this.props.cont.bgvideo.filename,image:this.props.cont.bgvideo.image,imageAr:this.props.cont.bgvideo.imageAr})},t.prototype.getPlaceholderImageText=function(){return"The placeholder image is used on mobile devices that do not support inline autoplaying videos."},t.prototype.render=function(){var e=this;return r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title js-bg-video-modal-title"},"Set Row Video Background"),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"form-group bg-video-group"},r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-default btn-sm mp4-btn",onClick:function(){return e.handleClickSetVideo()}},"Set .mp4"),r.createElement("span",{className:"filename"},this.state.filename)),r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-default btn-sm image-btn",onClick:function(){return e.handleClickSetThumbnail()}},"Set placeholder image")),null!==this.state.image&&r.createElement("div",null,r.createElement("button",{type:"button",className:"btn btn-default btn-sm image-btn",onClick:function(){return e.handleClickUnsetThumbnail()}},"Unset image")),r.createElement("div",{className:"bg-video-image-thumb"},this.getThumbnail())),r.createElement("p",null,this.getPlaceholderImageText())),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg bg-video-add-video-btn",disabled:null===this.state.mp4,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(28),c=n(4),u=n(16),p=n(5),d=function(e,t){return{}},f=function(e){return{setRowAttrs:s.bindActionCreators(a.setRowAttrsAction,e),setNotice:s.bindActionCreators(a.setNoticeAction,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=l.default.media({title:"Choose Image",button:{text:"Ok"},multiple:!1});t.on("open",function(){if("browse"!==t.content._mode&&t.content.mode("browse"),e.props.cont.hasOwnProperty("bgimage")&&e.props.cont.bgimage.hasOwnProperty("attid")){var n=l.default.media.attachment(e.props.cont.bgimage.attid);t.state().get("selection").add(n)}}),t.on("select",function(){var n=t.state().get("selection").toJSON()[0];if("image"===n.type){var o=void 0,r=["thumbnail","medium","medium_large","large","full"],i={};for(var s in n.sizes)if(-1===r.indexOf(s)){var a={w:n.sizes[s].width,h:n.sizes[s].height,url:p.getRelativeURL(n.sizes[s].url)};i[s]=a}o=c.castBgImage({attid:n.id,url:p.getRelativeURL(n.sizes.full.url),sizes:i}),e.props.setRowAttrs(e.props.cont.row,{bgimage:o,bgvideo:null})}else e.props.setNotice(u.default.fileIsNotAnImage)}),t.on("close",function(){e.props.closeModal()}),t.open()},t.prototype.render=function(){return null},t}(r.Component);t.default=i.connect(d,f)(h)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(28),s=n(5),a=n(4),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t="Add Images",n=!0;null!==this.props.cont&&(this.props.cont.cont instanceof Array?t="Edit Images":(t="Edit Image",n=!1));var o=i.default.media({library:{type:"image"},title:t,button:{text:"Ok"},multiple:n});o.on("open",function(){if("browse"!==o.content._mode&&o.content.mode("browse"),null!==e.props.cont)if(e.props.cont.cont instanceof Array)for(var t=0,n=e.props.cont.cont;t<n.length;t++){var r=n[t],s=i.default.media.attachment(r.attid);o.state().get("selection").add(s)}else{var s=i.default.media.attachment(e.props.cont.attid);o.state().get("selection").add(s)}}),o.on("select",function(){var t=o.state().get("selection");if(0!==t.length){for(var n=[],r=0,i=t.toJSON();r<i.length;r++){var l=i[r],c=s.getRelativeSizes(l.sizes);n.push({type:a.ElementTypeEnum.IMAGE,attid:l.id,cont:s.getContImageURL(c),sizes:c,ar:l.height/l.width,alt:l.alt})}null===e.props.cont?e.props.setAddElements(n):e.props.cont.cont instanceof Array?e.props.setElementContent(e.props.cont.relid,n):e.props.setElementContent(e.props.cont.relid,n[0])}}),o.on("close",function(){e.props.closeModal()}),o.open()},t.prototype.render=function(){return null},t}(r.Component);t.default=l},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(59),c=n(9),u=function(e,t){return{}},p=function(e){return{createStackedPhoneLayout:s.bindActionCreators(l.createStackedPhoneLayout,e),createEmptyPhoneLayout:s.bindActionCreators(l.createEmptyPhoneLayout,e),createCopiedPhoneLayout:s.bindActionCreators(l.createCopiedPhoneLayout,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleClickEmpty=function(){this.props.createEmptyPhoneLayout()},t.prototype.handleClickStacked=function(){this.props.createStackedPhoneLayout()},t.prototype.handleClickCopied=function(){this.props.createCopiedPhoneLayout()},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.render=function(){var e=this,t="";return t='The Gridder Defaults used can be set in: <br />"Lay Options" &rarr; "Gridder Defaults" &rarr; "Phone Gridder Defaults".',r.createElement("div",{className:"panel panel-default"},r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close")),r.createElement("div",{className:"panel-body"},r.createElement("p",{className:"lead text-center"},"Creating custom phone layout for the first time.",r.createElement("br",null),"How do you want to start with your phone layout?"),r.createElement("span",{className:"create-phone-layout-tooltip","data-toggle":"tooltip","data-placement":"top",title:"Row attributes like row backgrounds and empty rows will be omitted."},r.createElement("button",{type:"button",className:"btn btn-default js-cpl-stack",onClick:function(){return e.handleClickStacked()}},"Stack elements on top of each other")),r.createElement("button",{type:"button",className:"btn btn-default js-cpl-copy",onClick:function(){return e.handleClickCopied()}},"Copy same layout"),r.createElement("button",{type:"button",className:"btn btn-default js-cpl-empty",onClick:function(){return e.handleClickEmpty()}},"Start with empty layout"),r.createElement("p",{className:"text-center create-phone-layout-descr",style:{color:"lightgray"},dangerouslySetInnerHTML:{__html:t}})))},t.prototype.componentDidMount=function(){c.default('[data-toggle="tooltip"]').tooltip()},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(2),l=n(59),c=n(9),u=function(e,t){return{}},p=function(e){return{deletePhoneLayout:s.bindActionCreators(l.deletePhoneLayout,e),closeModal:s.bindActionCreators(a.closeModalAction,e)}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleClickDelete=function(){this.props.deletePhoneLayout()},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.render=function(){var e=this;return r.createElement("div",{className:"panel panel-default"},r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close")),r.createElement("div",{className:"panel-body"},r.createElement("p",{className:"lead text-left"},"Delete custom phone layout?"),r.createElement("div",{className:"text-right"},r.createElement("span",{className:"cdpl-tooltip","data-toggle":"tooltip","data-placement":"left",title:"Without a custom phone layout, the layout on phones will be the standard stacked layout."},r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickDelete()}},"Delete")),r.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return e.handleClickClose()}},"Cancel"))))},t.prototype.componentDidMount=function(){c.default('[data-toggle="tooltip"]').tooltip()},t}(r.Component);t.default=i.connect(u,p)(d)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(9),s=n(13),a=n(6),l=n(5),c=n(7),u=function(e){function t(t){var n=e.call(this,t)||this,o={imagelink:{url:"",id:null,type:"",newtab:!1,catid:null,title:null},posts:[],search:""};return null!==t.cont&&t.cont.hasOwnProperty("imagelink")&&""!==t.cont.imagelink&&(o.imagelink=t.cont.imagelink,o.imagelink.url=l.getStaticURL(o.imagelink.url)),n.state=o,n}return o(t,e),t.prototype.componentDidMount=function(){this.loadPostsList()},t.prototype.loadPostsList=function(){var e,t=this;e={action:"get_posts_for_laylinkmodal_json"};i.default.ajax({url:a.default.ajaxUrl,data:e,type:"post",dataType:"json",success:function(e){t.setState({posts:e})}})},t.prototype.handleClickSave=function(){var e=this.state.imagelink.url;e=null!==e&&e.startsWith("mailto:")?e:null===e||e.startsWith("http")?l.getRelativeURL(this.state.imagelink.url):"http://"+e;var t={imagelink:{url:e,id:this.state.imagelink.id,type:this.state.imagelink.type,newtab:this.state.imagelink.newtab}};t.imagelink.title=this.state.imagelink.title,"category"!==this.state.imagelink.type&&(t.imagelink.catid=this.state.imagelink.catid),this.props.setElementContent(this.props.cont.relid,t)},t.prototype.handleClickRemove=function(){var e={imagelink:null};this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickPost=function(e){this.setState({imagelink:{url:e.url,id:e.id,type:e.type,newtab:this.state.imagelink.newtab,catid:e.catid,title:e.title}})},t.prototype.handleClickNewtab=function(){this.setState({imagelink:{url:this.state.imagelink.url,id:this.state.imagelink.id,type:this.state.imagelink.type,newtab:!this.state.imagelink.newtab,catid:this.state.imagelink.catid,title:this.state.imagelink.title}})},t.prototype.handleChangeUrl=function(e){this.setState({imagelink:{url:e.target.value,id:null,type:"",newtab:this.state.imagelink.newtab,catid:null,title:""}})},t.prototype.handleChangeSearch=function(e){this.setState({search:e.target.value})},t.prototype.getPosts=function(){for(var e=this,t=[],n=0,o=this,i=0,a=this.state.posts;i<a.length;i++){var l=a[i];!function(i){var a=i.title;if(a=s.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(a),""!==o.state.search&&!a.toLowerCase().startsWith(o.state.search.toLowerCase()))return"continue";var l="";n%2==0&&(l+="alternate"),o.state.imagelink.id===i.id&&o.state.imagelink.type===i.type&&(l+=" selected");var c=void 0;c="category"===i.type?"category":i.type+" "+i.date;var u=r.createElement("li",{className:l,onClick:function(){return e.handleClickPost(i)}},r.createElement("input",{type:"hidden",className:"item-permalink",value:i.url}),r.createElement("input",{type:"hidden",className:"item-id",value:i.id}),r.createElement("input",{type:"hidden",className:"item-type",value:i.type}),i.hasOwnProperty("catid")&&""!==i.catid&&r.createElement("input",{type:"hidden",className:"item-catid",value:i.catid}),r.createElement("span",{className:"item-title"},a),r.createElement("span",{className:"item-info"},c));t.push(u),n++}(l)}return t},t.prototype.render=function(){var e=this,t="Edit Image Link",n={};return 0===this.props.cont.relid&&(t="Edit Link",n.display="none"),this.props.cont.hasOwnProperty("imagelink")&&""!==this.props.cont.imagelink||(n.display="none",t="Set Image Link",0===Object.getOwnPropertyNames(this.props.cont).length&&(t="Set Link")),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("input",{type:"text",className:"form-control input-lg",placeholder:c.default.website,value:this.state.imagelink.url,onChange:function(t){return e.handleChangeUrl(t)}}),r.createElement("div",{className:"link-image-checkbox-wrap"},r.createElement("input",{type:"checkbox",id:"new-tab",checked:this.state.imagelink.newtab,onClick:function(){return e.handleClickNewtab()}}),r.createElement("label",{htmlFor:"new-tab"},"Open link in a new tab")),r.createElement("input",{type:"search",name:"lay-imagelink-search-input",id:"lay-imagelink-search-input",placeholder:"Search",value:this.state.search,onChange:function(t){return e.handleChangeSearch(t)}}),r.createElement("div",{className:"lay-imagelink-postlist-wrap"},r.createElement("div",{id:"wp-link"},r.createElement("ul",null,this.getPosts())))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg remove-link-btn",style:n,onClick:function(){return e.handleClickRemove()}},"Remove Link"),r.createElement("button",{type:"button",className:"btn btn-default btn-lg edit-link-btn",disabled:""===this.state.imagelink.url.trim(),onClick:function(){return e.handleClickSave()}},"Save")))},t}(r.Component);t.default=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(7),a=n(5),l=n(6),c=n(9),u=n(4),p=n(13),d=null,f=function(e,t){return{jsonFieldCont:e.json_field.cont}},h=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDownBind=function(e){return n.onKeyDown(e)},n.onKeyUpBind=function(e){return n.onKeyUp(e)},n.shiftKeyPressed=!1,n.ctrlKeyPressed=!1,n.lastSelectedPostId=-1,null===t.cont?n.state={selectedPostIds:[],posts:null===d?[]:d}:n.state={posts:null===d?[]:d,selectedPostIds:[Number(t.cont.postid)]},n}return o(t,e),t.prototype.componentDidMount=function(){var e=this;null===d&&c.default.ajax({url:l.default.ajaxUrl,data:{action:"get_post_thumbnail_json",screenId:l.default.screenId,id:l.default.id},type:"GET",dataType:"json",success:function(t){d=t,e.setState({posts:t})}}),window.addEventListener("keydown",this.onKeyDownBind),window.addEventListener("keyup",this.onKeyUpBind)},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDownBind),window.removeEventListener("keyup",this.onKeyUpBind)},t.prototype.onKeyDown=function(e){switch(e.keyCode){case 16:this.shiftKeyPressed=!0;case 17:case 224:case 91:this.ctrlKeyPressed=!0}},t.prototype.onKeyUp=function(e){switch(e.keyCode){case 16:this.shiftKeyPressed=!1;case 17:case 224:case 91:this.ctrlKeyPressed=!1}},t.prototype.handleClickOk=function(){for(var e=[],t=0,n=this.state.selectedPostIds;t<n.length;t++){var o=n[t],r=this.getPostForState(o);!1!==r&&e.push(r)}null===this.props.cont?this.props.setAddElements(e):this.props.setElementContent(this.props.cont.relid,e[0])},t.prototype.getPostForState=function(e){for(var t=null,n=0,o=this.state.posts;n<o.length;n++){var r=o[n];if(r.postid===e){t=r;break}}if(null===t)return!1;var i=a.getRelativeSizes(t.sizes),s="";return""!==t.mo_sizes&&(s=a.getRelativeSizes(t.mo_sizes)),{type:u.ElementTypeEnum.POST_THUMBNAIL,title:t.title,postid:Number(t.postid),descr:t.descr,link:a.getRelativeURL(t.link),attid:Number(t.attid),ar:t.ar,cont:a.getContImageURL(i),sizes:i,mo_sizes:s,mo_h:t.mo_h,mo_w:t.mo_w,video_url:a.getRelativeURL(t.video_url),video_w:Number(t.video_w),video_h:Number(t.video_h)}},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickThumbnail=function(e){var t=Object.assign([],this.state.selectedPostIds),n=t.indexOf(e);if(0===this.state.selectedPostIds.length||!1===this.ctrlKeyPressed&&!1===this.shiftKeyPressed&&-1===n)this.lastSelectedPostId=e,t=[e];else if(-1!==n&&!1===this.shiftKeyPressed)t.splice(n,1),this.setLastSelectedPostIdNearby(e);else if(this.shiftKeyPressed&&-1!==this.lastSelectedPostId){for(var o=!1,r=0,i=this.state.posts;r<i.length;r++){var s=i[r];if(o){if(-1===t.indexOf(Number(s.postid))&&t.push(Number(s.postid)),Number(s.postid)===this.lastSelectedPostId||Number(s.postid)===e)break}else if((Number(s.postid)===this.lastSelectedPostId||Number(s.postid)===e)&&(o=!0,-1===t.indexOf(Number(s.postid))&&t.push(Number(s.postid)),this.lastSelectedPostId===e))break}this.lastSelectedPostId=e}else this.ctrlKeyPressed&&-1===n&&(this.lastSelectedPostId=e,t.push(e));this.setState({selectedPostIds:t})},t.prototype.setLastSelectedPostIdNearby=function(e){var t=-1;for(var n in this.state.posts)if(this.state.posts[n].postid===e){t=Number(n);break}if(-1===t)return void(this.lastSelectedPostId=-1);for(var n=t+1;n<this.state.posts.length;n++)if(-1!==this.state.selectedPostIds.indexOf(Number(this.state.posts[n].postid)))return void(this.lastSelectedPostId=this.state.posts[n].postid);for(var n=t-1;n>=0;n--)if(-1!==this.state.selectedPostIds.indexOf(Number(this.state.posts[n].postid)))return void(this.lastSelectedPostId=this.state.posts[n].postid);this.lastSelectedPostId=-1},t.prototype.render=function(){var e=this,t="Add "+s.default.postName+" Thumbnail";null!==this.props.cont&&(t="Edit "+s.default.postName+" Thumbnail");for(var n=[],o=[],i=0,a=this.props.jsonFieldCont;i<a.length;i++){var l=a[i];l.type===u.ElementTypeEnum.POST_THUMBNAIL&&-1===n.indexOf(l.postid)&&n.push(l.postid)}for(var c=this,f=0,h=this.state.posts;f<h.length;f++){var m=h[f];!function(t){var i="col-sm-2 col-md-2";-1!==n.indexOf(t.postid)&&(i+=" already-inserted");var s="thumbnail";-1!==c.state.selectedPostIds.indexOf(Number(t.postid))&&(s+=" selected");var a=void 0,l="center";l+=t.sizes.full.width>t.sizes.full.height?" landscape":" portrait",a=t.sizes.hasOwnProperty("_265")?t.sizes._265.url:t.sizes.full.url,o.push(r.createElement("div",{className:i},r.createElement("div",{className:s,onClick:function(){return e.handleClickThumbnail(Number(t.postid))}},r.createElement("div",{className:l},r.createElement("img",{src:a}))),r.createElement("div",{className:"caption"},"Title: ",r.createElement("span",{dangerouslySetInnerHTML:{__html:p.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(t.title)}}),r.createElement("br",null),"Category: ",t.cats[0].name)))}(m)}return null!==d&&0===d.length&&o.push(r.createElement("div",null,"No ",s.default.postName," Thumbnails available to insert!")),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"container-fluid"},o)),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-project-btn",disabled:0===this.state.selectedPostIds.length,onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=i.connect(f)(h)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(60),s=n(13),a=n(7),l=n(4),c=n(5),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doubleClicked=!1,t}return o(t,e),t.prototype.getContent=function(){if(this.props.value.type===l.ElementTypeEnum.TEXT)return r.createElement("div",{className:"carousel-text-slide",dangerouslySetInnerHTML:{__html:this.props.value.cont}});var e="";return e=void 0===this.props.value.sizes||void 0===this.props.value.sizes._512?this.props.value.cont:this.props.value.sizes._512,e=c.getStaticURL(e),r.createElement("img",{draggable:!1,src:e,alt:""})},t.prototype.getOrientation=function(){return void 0!==this.props.value.orientation?this.props.value.orientation:null},t.prototype.getCaptionClassName=function(){return void 0!==this.props.value.caption&&""!==s.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.value.caption)?" show-caption":""},t.prototype.handleClick=function(e){var t=this;e.stopPropagation(),setTimeout(function(){t.doubleClicked||t.props.selectSlide()},200)},t.prototype.handleDoubleClick=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.props.editSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleDoubleClickOnCaption=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.props.editCaptionOfSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleClickDelete=function(e){e.stopPropagation(),e.preventDefault(),this.props.deleteSlide()},t.prototype.render=function(){var e=this,t="lay-carousel-slide-parent";this.props.selected&&(t+=" selected");var n=s.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(this.props.value.caption);return r.createElement("div",{className:"lay-carousel-slide-dragcontainer",onDoubleClick:function(t){return e.handleDoubleClick(t)},onClick:function(t){return e.handleClick(t)}},r.createElement("div",{className:t,"data-type":this.props.value.type},r.createElement("button",{className:"lay-carousel-delete-slide btn btn-default btn-sm",onClick:function(t){return e.handleClickDelete(t)}},""),r.createElement("div",{className:"type-indicator"}),r.createElement("div",{className:"lay-carousel-slide","data-orientation":this.props.value.orientation},this.getContent(),r.createElement("div",{className:"carousel-slide-caption"+this.getCaptionClassName(),dangerouslySetInnerHTML:{__html:n},onDoubleClick:function(t){return e.handleDoubleClickOnCaption(t)}}))))},t}(r.Component),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this,t=[],n=this;for(var o in this.props.items)!function(o){var s=i.SortableElement(u);t.push(r.createElement(s,{key:"order-item-"+o,index:Number(o),value:n.props.items[Number(o)],selected:n.props.selectedSlide===Number(o),selectSlide:function(){return e.props.selectSlide(Number(o))},deleteSlide:function(){return e.props.deleteSlide(Number(o))},editSlide:function(){return e.props.editSlide(l.ElementAttributeTargetEnum.CONT,Number(o))},editCaptionOfSlide:function(){return e.props.editSlide(l.ElementAttributeTargetEnum.CAPTION,Number(o))}}))}(o);return r.createElement("div",{className:"lay-carousel-slides-wrap"},t)},t}(r.Component),d={random:!1,autoplay:!1,customAspectRatio:!1,customAspectRatioW:null,customAspectRatioH:null},f=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={carousel:[],carousel_options:d,selectedSlide:null,editSlide:null}:n.state=Object.assign({selectedSlide:null,editSlide:null},t.cont),n}return o(t,e),t.prototype.handleAddElementModal=function(e){this.setState({selectedSlide:null}),this.props.setAdditionalModal({type:e,cont:null})},t.prototype.componentWillReceiveProps=function(e){if(null!==e.additionalElements&&null===this.props.additionalElements){var t=Object.assign([],this.state.carousel);if(null===this.state.editSlide){for(var n=e.additionalElements,o=0,r=n;o<r.length;o++){var i=r[o];i.type===l.ElementTypeEnum.POST_THUMBNAIL&&i.hasOwnProperty("title")&&(i.caption=i.title)}t=t.concat(n)}else e.additionalElements.length>0&&Object.assign(t[this.state.editSlide],e.additionalElements[0]);this.setState({carousel:t,editSlide:null}),this.props.clearAdditionalElement()}},t.prototype.handleEditElementModal=function(e,t){if(void 0===e&&(e=l.ElementAttributeTargetEnum.CONT),void 0===t&&(t=this.state.selectedSlide),null!==t&&this.state.carousel.length>t){var n=this.state.carousel[t].type;e!==l.ElementAttributeTargetEnum.CONT&&(n=l.ElementTypeEnum.TEXT),this.props.setAdditionalModal({type:n,cont:this.state.carousel[t],target:e}),this.setState({selectedSlide:null,editSlide:t})}},t.prototype.handleChangeRandom=function(e){var t=Object.assign({},this.state.carousel_options,{random:Boolean(e.target.checked)});this.setState({carousel_options:t})},t.prototype.handleChangeAutoplay=function(e){var t=Object.assign({},this.state.carousel_options,{autoplay:Boolean(e.target.checked)});this.setState({carousel_options:t})},t.prototype.handleChangeCustomAspectRatio=function(e){var t=Object.assign({},this.state.carousel_options,{customAspectRatio:Boolean(e.target.checked)});t.customAspectRatio?(t.customAspectRatioW=16,t.customAspectRatioH=9):(t.customAspectRatioW=null,t.customAspectRatioH=null),this.setState({carousel_options:t})},t.prototype.handleChangeCustomAspectRatioW=function(e){var t=Object.assign({},this.state.carousel_options,{customAspectRatioW:Number(e.target.value)});this.setState({carousel_options:t})},t.prototype.handleChangeCustomAspectRatioH=function(e){var t=Object.assign({},this.state.carousel_options,{customAspectRatioH:Number(e.target.value)});this.setState({carousel_options:t})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickOk=function(){var e={type:l.ElementTypeEnum.CAROUSEL,carousel_options:this.state.carousel_options,carousel:this.state.carousel};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.onSortEnd=function(e,t){e.oldIndex!==e.newIndex&&this.setState({carousel:i.arrayMove(this.state.carousel,e.oldIndex,e.newIndex),selectedSlide:null})},t.prototype.selectSlide=function(e){e===this.state.selectedSlide?this.setState({selectedSlide:null}):this.setState({selectedSlide:e})},t.prototype.deleteSlide=function(e){var t=Object.assign([],this.state.carousel);t.splice(e,1),this.setState({carousel:t,selectedSlide:null})},t.prototype.render=function(){var e=this,t="Add Carousel";null!==this.props.cont&&(t="Edit Carousel");var n={};this.state.carousel_options.customAspectRatio?(n.width=this.state.carousel_options.customAspectRatioW/this.state.carousel_options.customAspectRatioH*22+"px",n.height="22px"):n.display="none";var o=i.SortableContainer(p);return r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"carousel-top-controls-wrap"},r.createElement("div",{className:"btn-group btn-group-sm",role:"group"},r.createElement("button",{type:"button",className:"btn btn-default carousel-add-images-btn",onClick:function(){return e.handleAddElementModal(l.ElementTypeEnum.IMAGE)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Image"),r.createElement("button",{type:"button",className:"btn btn-default carousel-add-video-btn",onClick:function(){return e.handleAddElementModal(l.ElementTypeEnum.HTML5VIDEO)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," HTML5 Video"),r.createElement("button",{type:"button",className:"btn btn-default carousel-add-text-btn",onClick:function(){return e.handleAddElementModal(l.ElementTypeEnum.TEXT)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Text"),r.createElement("button",{type:"button",className:"btn btn-default carousel-add-projects-btn",onClick:function(){return e.handleAddElementModal(l.ElementTypeEnum.POST_THUMBNAIL)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," ",a.default.postName," Thumbnail")),r.createElement("div",{className:"btn-group btn-group-sm",role:"group"},r.createElement("button",{type:"button",className:"btn btn-default carousel-edit-slide-btn",onClick:function(){return e.handleEditElementModal()},disabled:null===this.state.selectedSlide},"Edit"),r.createElement("button",{type:"button",className:"btn btn-default carousel-edit-caption-btn",onClick:function(){return e.handleEditElementModal(l.ElementAttributeTargetEnum.CAPTION)},disabled:null===this.state.selectedSlide},"Edit Caption")),r.createElement("div",{className:"carousel-random-order"},r.createElement("input",{id:"carousel-random-order",type:"checkbox",checked:this.state.carousel_options.random,onChange:function(t){return e.handleChangeRandom(t)}}),r.createElement("label",{htmlFor:"carousel-random-order"},"Random Order")),r.createElement("div",{className:"carousel-autoplay"},r.createElement("input",{id:"carousel-autoplay",type:"checkbox",checked:this.state.carousel_options.autoplay,onChange:function(t){return e.handleChangeAutoplay(t)}}),r.createElement("label",{htmlFor:"carousel-autoplay"},"Autoplay")),r.createElement("div",{className:"carousel-custom-aspect-ratio"},r.createElement("input",{id:"carousel-custom-aspect-ratio",type:"checkbox",checked:this.state.carousel_options.customAspectRatio,onChange:function(t){return e.handleChangeCustomAspectRatio(t)}}),r.createElement("label",{htmlFor:"carousel-custom-aspect-ratio"},"Use Custom Aspect Ratio"),r.createElement("input",{disabled:!this.state.carousel_options.customAspectRatio,type:"number",min:"0",className:"carousel-ar-w",value:null===this.state.carousel_options.customAspectRatioW?"":this.state.carousel_options.customAspectRatioW,onChange:function(t){return e.handleChangeCustomAspectRatioW(t)}})," : ",r.createElement("input",{disabled:!this.state.carousel_options.customAspectRatio,type:"number",min:"0",className:"carousel-ar-h",value:null===this.state.carousel_options.customAspectRatioH?"":this.state.carousel_options.customAspectRatioH,onChange:function(t){return e.handleChangeCustomAspectRatioH(t)}})),r.createElement("div",{className:"carousel-aspect-ratio-icon",style:n})),r.createElement("div",{id:"carousel-content-region"},r.createElement(o,{items:this.state.carousel,onSortEnd:this.onSortEnd.bind(this),axis:"xy",distance:15,selectedSlide:this.state.selectedSlide,selectSlide:this.selectSlide.bind(this),deleteSlide:this.deleteSlide.bind(this),editSlide:this.handleEditElementModal.bind(this)}))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-project-btn",disabled:this.state.carousel===[],onClick:function(){return e.handleClickOk()}},"Ok")))},t}(r.Component);t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(e){i(this,n);var t=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleStart=function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2===e.button||r(e))return!1;t._touched=!0,t._pos={x:e.pageX,y:e.pageY};var i=(0,_.closest)(e.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var s=t.props.useDragHandle,a=i.sortableInfo,l=a.index,c=a.collection;if(s&&!(0,_.closest)(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:c},"a"===e.target.tagName.toLowerCase()&&e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-e.pageX,y:t._pos.y-e.pageY};var i=Math.abs(t._delta.x)+Math.abs(t._delta.y);o||r&&!(r&&i>=r)?o&&i>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(e){var n=t.manager.getActive();if(n){var o=t.props,i=o.axis,s=o.getHelperDimensions,a=o.helperClass,l=o.hideSortableGhost,c=o.onSortStart,u=o.useWindowAsScrollContainer,p=n.node,d=n.collection,f=p.sortableInfo.index,h=(0,_.getElementMargin)(p),m=t.container.getBoundingClientRect(),g=s({index:f,node:p,collection:d});t.node=p,t.margin=h,t.width=g.width,t.height=g.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=p.getBoundingClientRect(),t.containerBoundingRect=m,t.index=f,t.newIndex=f,t.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},t.offsetEdge=t.getEdgeOffset(p),t.initialOffset=t.getOffset(e),t.initialScroll={top:t.scrollContainer.scrollTop,left:t.scrollContainer.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var y=p.querySelectorAll("input, textarea, select"),E=p.cloneNode(!0);if([].concat(r(E.querySelectorAll("input, textarea, select"))).forEach(function(e,t){"file"!==e.type&&y[t]&&(e.value=y[t].value)}),t.helper=t.document.body.appendChild(E),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-h.top+"px",t.helper.style.left=t.boundingClientRect.left-h.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",l&&(t.sortableGhost=p,p.style.visibility="hidden",p.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(u?0:m.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(u?t.contentWindow.innerWidth:m.left+m.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(u?0:m.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(u?t.contentWindow.innerHeight:m.top+m.height)-t.boundingClientRect.top-t.height/2),a){var b;(b=t.helper.classList).add.apply(b,r(a.split(" ")))}t.listenerNode=e.touches?p:t.contentWindow,_.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),_.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:f}),c&&c({node:p,index:f,collection:d},e)}},t.handleSortMove=function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)},t.handleSortEnd=function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,i=t.manager.active.collection;t.listenerNode&&(_.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),_.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var s=t.manager.refs[i],a=0,l=s.length;a<l;a++){var c=s[a],u=c.node;c.edgeOffset=null,u.style[_.vendorPrefix+"Transform"]="",u.style[_.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({oldIndex:t.index,newIndex:t.newIndex,collection:i},e),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},o={x:1,y:1},r={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,o.y=r.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,o.x=r.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,o.y=r.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,o.x=r.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*o.x*n.x,top:1*o.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new v.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,E.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return a(n,t),p(n,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getContainer,o=t.useWindowAsScrollContainer,r=this.props.contentWindow||window;this.container="function"==typeof n?n(this.getWrappedInstance()):(0,g.findDOMNode)(this),this.document=this.container.ownerDocument||document,this.scrollContainer=o?this.document.body:this.container,this.contentWindow="function"==typeof r?r():r;for(var i in this.events)!function(t){e.events.hasOwnProperty(t)&&_.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}(i)}},{key:"componentWillUnmount",value:function(){var e=this;for(var t in this.events)!function(t){e.events.hasOwnProperty(t)&&_.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}(t)}},{key:"getEdgeOffset",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var n={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode!==this.container?this.getEdgeOffset(e.parentNode,n):n}}},{key:"getOffset",value:function(e){return{x:e.touches?e.touches[0].pageX:e.pageX,y:e.touches?e.touches[0].pageY:e.pageY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,E.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=u(t,2),o=n[0],r=n[1];return[this.getLockPixelOffset(o),this.getLockPixelOffset(r)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n=e,o="px";if("string"==typeof e){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,E.default)(null!==r,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',e),t=n=parseFloat(e),o=r[1]}return(0,E.default)(isFinite(t)&&isFinite(n),"lockOffset value should be a finite. Given %s",e),"%"===o&&(t=t*this.width/100,n=n*this.height/100),{x:t,y:n}}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockToContainerEdges,r=this.getOffset(e),i={x:r.x-this.initialOffset.x,y:r.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,o){var s=this.getLockPixelOffsets(),a=u(s,2),l=a[0],c=a[1],p={x:this.width/2-l.x,y:this.height/2-l.y},d={x:this.width/2-c.x,y:this.height/2-c.y};i.x=(0,_.limit)(this.minTranslate.x+p.x,this.maxTranslate.x-d.x,i.x),i.y=(0,_.limit)(this.minTranslate.y+p.y,this.maxTranslate.y-d.y,i.y)}"x"===n?i.y=0:"y"===n&&(i.x=0),this.helper.style[_.vendorPrefix+"Transform"]="translate3d("+i.x+"px,"+i.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=this.manager.getOrderedRefs(),r={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},i={left:this.offsetEdge.left+this.translate.x+r.left,top:this.offsetEdge.top+this.translate.y+r.top},s={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var a=0,l=o.length;a<l;a++){var c=o[a].node,u=c.sortableInfo.index,p=c.offsetWidth,d=c.offsetHeight,f={width:this.width>p?p/2:this.width/2,height:this.height>d?d/2:this.height/2},h={x:0,y:0},m=o[a].edgeOffset;m||(o[a].edgeOffset=m=this.getEdgeOffset(c));var g=a<o.length-1&&o[a+1],y=a>0&&o[a-1];g&&!g.edgeOffset&&(g.edgeOffset=this.getEdgeOffset(g.node)),u!==this.index?(t&&(c.style[_.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?u<this.index&&(i.left+s.left-f.width<=m.left&&i.top+s.top<=m.top+f.height||i.top+s.top+f.height<=m.top)?(h.x=this.width+this.marginOffset.x,m.left+h.x>this.containerBoundingRect.width-f.width&&(h.x=g.edgeOffset.left-m.left,h.y=g.edgeOffset.top-m.top),null===this.newIndex&&(this.newIndex=u)):u>this.index&&(i.left+s.left+f.width>=m.left&&i.top+s.top+f.height>=m.top||i.top+s.top+f.height>=m.top+d)&&(h.x=-(this.width+this.marginOffset.x),m.left+h.x<this.containerBoundingRect.left+f.width&&(h.x=y.edgeOffset.left-m.left,h.y=y.edgeOffset.top-m.top),this.newIndex=u):u>this.index&&i.left+s.left+f.width>=m.left?(h.x=-(this.width+this.marginOffset.x),this.newIndex=u):u<this.index&&i.left+s.left<=m.left+f.width&&(h.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=u)):this.axis.y&&(u>this.index&&i.top+s.top+f.height>=m.top?(h.y=-(this.height+this.marginOffset.y),this.newIndex=u):u<this.index&&i.top+s.top<=m.top+f.height&&(h.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=u))),c.style[_.vendorPrefix+"Transform"]="translate3d("+h.x+"px,"+h.y+"px,0)"):n&&(this.sortableGhost=c,c.style.visibility="hidden",c.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,E.default)(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=o.withRef?"wrappedInstance":null;return f.default.createElement(e,c({ref:t},(0,_.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),n}(d.Component),t.displayName=(0,_.provideDisplayName)("sortableList",e),t.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){if(-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},t.propTypes={axis:m.default.oneOf(["x","y","xy"]),distance:m.default.number,lockAxis:m.default.string,helperClass:m.default.string,transitionDuration:m.default.number,contentWindow:m.default.any,onSortStart:m.default.func,onSortMove:m.default.func,onSortEnd:m.default.func,shouldCancelStart:m.default.func,pressDelay:m.default.number,useDragHandle:m.default.bool,useWindowAsScrollContainer:m.default.bool,hideSortableGhost:m.default.bool,lockToContainerEdges:m.default.bool,lockOffset:m.default.oneOfType([m.default.number,m.default.string,m.default.arrayOf(m.default.oneOfType([m.default.number,m.default.string]))]),getContainer:m.default.func,getHelperDimensions:m.default.func},t.childContextTypes={manager:m.default.object.isRequired},n}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=l;var d=n(0),f=o(d),h=n(61),m=o(h),g=n(27),y=n(38),E=o(y),b=n(159),v=o(b),_=n(29)},function(e,t,n){"use strict";var o=n(156),r=n(157),i=n(158);e.exports=function(){function e(e,t,n,o,s,a){a!==i&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";function o(e){return function(){return e}}var r=function(){};r.thatReturns=o,r.thatReturnsFalse=o(!1),r.thatReturnsTrue=o(!0),r.thatReturnsNull=o(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function o(e,t,n,o,i,s,a,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,i,s,a,l],p=0;c=new Error(t.replace(/%s/g,function(){return u[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};e.exports=o},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(160),a=o(s),l=n(243),c=o(l),u=function(){function e(){r(this,e),this.refs={}}return i(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return(0,a.default)(this.refs[this.active.collection],function(t){return t.node.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return(0,c.default)(this.refs[e],function(e){return e.node.sortableInfo.index})}}]),e}();t.default=u},function(e,t,n){var o=n(161),r=n(238),i=o(r);e.exports=i},function(e,t,n){function o(e){return function(t,n,o){var a=Object(t);if(!i(t)){var l=r(n,3);t=s(t),n=function(e){return l(a[e],e,a)}}var c=e(t,n,o);return c>-1?a[l?t[c]:c]:void 0}}var r=n(39),i=n(25),s=n(34);e.exports=o},function(e,t,n){function o(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}var r=n(163),i=n(224),s=n(74);e.exports=o},function(e,t,n){function o(e,t,n,o){var l=n.length,c=l,u=!o;if(null==e)return!c;for(e=Object(e);l--;){var p=n[l];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<c;){p=n[l];var d=p[0],f=e[d],h=p[1];if(u&&p[2]){if(void 0===f&&!(d in e))return!1}else{var m=new r;if(o)var g=o(f,h,d,e,t,m);if(!(void 0===g?i(h,f,s|a,o,m):g))return!1}}return!0}var r=n(62),i=n(66),s=1,a=2;e.exports=o},function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},function(e,t,n){function o(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():s.call(t,n,1),--this.size,!0)}var r=n(31),i=Array.prototype,s=i.splice;e.exports=o},function(e,t,n){function o(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}var r=n(31);e.exports=o},function(e,t,n){function o(e){return r(this.__data__,e)>-1}var r=n(31);e.exports=o},function(e,t,n){function o(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var r=n(31);e.exports=o},function(e,t,n){function o(){this.__data__=new r,this.size=0}var r=n(30);e.exports=o},function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t,n){function o(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<a-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}var r=n(30),i=n(41),s=n(42),a=200;e.exports=o},function(e,t,n){function o(e){return!(!s(e)||i(e))&&(r(e)?h:c).test(a(e))}var r=n(63),i=n(178),s=n(23),a=n(65),l=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,p=Object.prototype,d=u.toString,f=p.hasOwnProperty,h=RegExp("^"+d.call(f).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=o},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){function o(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var o=!0}catch(e){}var r=a.call(e);return o&&(t?e[l]=n:delete e[l]),r}var r=n(22),i=Object.prototype,s=i.hasOwnProperty,a=i.toString,l=r?r.toStringTag:void 0;e.exports=o},function(e,t){function n(e){return r.call(e)}var o=Object.prototype,r=o.toString;e.exports=n},function(e,t,n){function o(e){return!!i&&i in e}var r=n(179),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=o},function(e,t,n){var o=n(14),r=o["__core-js_shared__"];e.exports=r},function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},function(e,t,n){function o(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}var r=n(182),i=n(30),s=n(41);e.exports=o},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var r=n(183),i=n(184),s=n(185),a=n(186),l=n(187);o.prototype.clear=r,o.prototype.delete=i,o.prototype.get=s,o.prototype.has=a,o.prototype.set=l,e.exports=o},function(e,t,n){function o(){this.__data__=r?r(null):{},this.size=0}var r=n(32);e.exports=o},function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},function(e,t,n){function o(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}var r=n(32),i="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;e.exports=o},function(e,t,n){function o(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}var r=n(32),i=Object.prototype,s=i.hasOwnProperty;e.exports=o},function(e,t,n){function o(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}var r=n(32),i="__lodash_hash_undefined__";e.exports=o},function(e,t,n){function o(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=n(33);e.exports=o},function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},function(e,t,n){function o(e){return r(this,e).get(e)}var r=n(33);e.exports=o},function(e,t,n){function o(e){return r(this,e).has(e)}var r=n(33);e.exports=o},function(e,t,n){function o(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var r=n(33);e.exports=o},function(e,t,n){function o(e,t,n,o,g,E){var b=c(e),v=c(t),_=b?h:l(e),w=v?h:l(t);_=_==f?m:_,w=w==f?m:w;var O=_==m,C=w==m,T=_==w;if(T&&u(e)){if(!u(t))return!1;b=!0,O=!1}if(T&&!O)return E||(E=new r),b||p(e)?i(e,t,n,o,g,E):s(e,t,_,n,o,g,E);if(!(n&d)){var A=O&&y.call(e,"__wrapped__"),N=C&&y.call(t,"__wrapped__");if(A||N){var j=A?e.value():e,S=N?t.value():t;return E||(E=new r),g(j,S,n,o,E)}}return!!T&&(E||(E=new r),a(e,t,n,o,g,E))}var r=n(62),i=n(67),s=n(199),a=n(203),l=n(219),c=n(15),u=n(69),p=n(71),d=1,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;e.exports=o},function(e,t,n){function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}var r=n(42),i=n(195),s=n(196);o.prototype.add=o.prototype.push=i,o.prototype.has=s,e.exports=o},function(e,t){function n(e){return this.__data__.set(e,o),this}var o="__lodash_hash_undefined__";e.exports=n},function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}e.exports=n},function(e,t){function n(e,t){return e.has(t)}e.exports=n},function(e,t,n){function o(e,t,n,o,r,O,T){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!O(new i(e),new i(t)));case d:case f:case g:return s(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case m:var A=l;case E:var N=o&u;if(A||(A=c),e.size!=t.size&&!N)return!1;var j=T.get(e);if(j)return j==t;o|=p,T.set(e,t);var S=a(A(e),A(t),o,r,O,T);return T.delete(e),S;case v:if(C)return C.call(e)==C.call(t)}return!1}var r=n(22),i=n(200),s=n(40),a=n(67),l=n(201),c=n(202),u=1,p=2,d="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",E="[object Set]",b="[object String]",v="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",O=r?r.prototype:void 0,C=O?O.valueOf:void 0;e.exports=o},function(e,t,n){var o=n(14),r=o.Uint8Array;e.exports=r},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}e.exports=n},function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},function(e,t,n){function o(e,t,n,o,s,l){var c=n&i,u=r(e),p=u.length;if(p!=r(t).length&&!c)return!1;for(var d=p;d--;){var f=u[d];if(!(c?f in t:a.call(t,f)))return!1}var h=l.get(e);if(h&&l.get(t))return h==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=c;++d<p;){f=u[d];var y=e[f],E=t[f];if(o)var b=c?o(E,y,f,t,e,l):o(y,E,f,e,t,l);if(!(void 0===b?y===E||s(y,E,n,o,l):b)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var v=e.constructor,_=t.constructor;v!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return l.delete(e),l.delete(t),m}var r=n(204),i=1,s=Object.prototype,a=s.hasOwnProperty;e.exports=o},function(e,t,n){function o(e){return r(e,s,i)}var r=n(205),i=n(206),s=n(34);e.exports=o},function(e,t,n){function o(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}var r=n(68),i=n(15);e.exports=o},function(e,t,n){var o=n(207),r=n(208),i=Object.prototype,s=i.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),o(a(e),function(t){return s.call(e,t)}))}:r;e.exports=l},function(e,t){function n(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}e.exports=n},function(e,t){function n(){return[]}e.exports=n},function(e,t,n){function o(e,t){var n=s(e),o=!n&&i(e),u=!n&&!o&&a(e),d=!n&&!o&&!u&&c(e),f=n||o||u||d,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!p.call(e,g)||f&&("length"==g||u&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||h.push(g);return h}var r=n(210),i=n(43),s=n(15),a=n(69),l=n(44),c=n(71),u=Object.prototype,p=u.hasOwnProperty;e.exports=o},function(e,t){function n(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}e.exports=n},function(e,t,n){function o(e){return i(e)&&r(e)==s}var r=n(21),i=n(24),s="[object Arguments]";e.exports=o},function(e,t){function n(){return!1}e.exports=n},function(e,t,n){function o(e){return s(e)&&i(e.length)&&!!a[r(e)]}var r=n(21),i=n(45),s=n(24),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=o},function(e,t,n){(function(e){var o=n(64),r="object"==typeof t&&t&&!t.nodeType&&t,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&o.process,l=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=l}).call(t,n(70)(e))},function(e,t,n){function o(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}var r=n(216),i=n(217),s=Object.prototype,a=s.hasOwnProperty;e.exports=o},function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}var o=Object.prototype;e.exports=n},function(e,t,n){var o=n(218),r=o(Object.keys,Object);e.exports=r},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var o=n(220),r=n(41),i=n(221),s=n(222),a=n(223),l=n(21),c=n(65),u=c(o),p=c(r),d=c(i),f=c(s),h=c(a),m=l;(o&&"[object DataView]"!=m(new o(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||i&&"[object Promise]"!=m(i.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,o=n?c(n):"";if(o)switch(o){case u:return"[object DataView]";case p:return"[object Map]";case d:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var o=n(18),r=n(14),i=o(r,"DataView");e.exports=i},function(e,t,n){var o=n(18),r=n(14),i=o(r,"Promise");e.exports=i},function(e,t,n){var o=n(18),r=n(14),i=o(r,"Set");e.exports=i},function(e,t,n){var o=n(18),r=n(14),i=o(r,"WeakMap");e.exports=i},function(e,t,n){function o(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}var r=n(73),i=n(34);e.exports=o},function(e,t,n){function o(e,t){return a(e)&&l(t)?c(u(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?s(n,e):r(t,o,p|d)}}var r=n(66),i=n(226),s=n(232),a=n(46),l=n(73),c=n(74),u=n(35),p=1,d=2;e.exports=o},function(e,t,n){function o(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}var r=n(75);e.exports=o},function(e,t,n){var o=n(228),r=/^\./,i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=o(function(e){var t=[];return r.test(e)&&t.push(""),e.replace(i,function(e,n,o,r){t.push(o?r.replace(s,"$1"):n||e)}),t});e.exports=a},function(e,t,n){function o(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}var r=n(229),i=500;e.exports=o},function(e,t,n){function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(o.Cache||r),n}var r=n(42),i="Expected a function";o.Cache=r,e.exports=o},function(e,t,n){function o(e){return null==e?"":r(e)}var r=n(231);e.exports=o},function(e,t,n){function o(e){if("string"==typeof e)return e;if(s(e))return i(e,o)+"";if(a(e))return u?u.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=n(22),i=n(77),s=n(15),a=n(26),l=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=o},function(e,t,n){function o(e,t){return null!=e&&i(e,t,r)}var r=n(233),i=n(234);e.exports=o},function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},function(e,t,n){function o(e,t,n){t=r(t,e);for(var o=-1,u=t.length,p=!1;++o<u;){var d=c(t[o]);if(!(p=null!=e&&n(e,d)))break;e=e[d]}return p||++o!=u?p:!!(u=null==e?0:e.length)&&l(u)&&a(d,u)&&(s(e)||i(e))}var r=n(76),i=n(43),s=n(15),a=n(44),l=n(45),c=n(35);e.exports=o},function(e,t,n){function o(e){return s(e)?r(a(e)):i(e)}var r=n(236),i=n(237),s=n(46),a=n(35);e.exports=o},function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},function(e,t,n){function o(e){return function(t){return r(t,e)}}var r=n(75);e.exports=o},function(e,t,n){function o(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:s(n);return l<0&&(l=a(o+l,0)),r(e,i(t,3),l)}var r=n(239),i=n(39),s=n(240),a=Math.max;e.exports=o},function(e,t){function n(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}e.exports=n},function(e,t,n){function o(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}var r=n(241);e.exports=o},function(e,t,n){function o(e){if(!e)return 0===e?e:0;if((e=r(e))===i||e===-i){return(e<0?-1:1)*s}return e===e?e:0}var r=n(242),i=1/0,s=1.7976931348623157e308;e.exports=o},function(e,t,n){function o(e){if("number"==typeof e)return e;if(i(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||u.test(e)?p(e.slice(2),n?2:8):l.test(e)?s:+e}var r=n(23),i=n(26),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,p=parseInt;e.exports=o},function(e,t,n){var o=n(244),r=n(246),i=n(256),s=n(264),a=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,o(t,1),[])});e.exports=a},function(e,t,n){function o(e,t,n,s,a){var l=-1,c=e.length;for(n||(n=i),a||(a=[]);++l<c;){var u=e[l];t>0&&n(u)?t>1?o(u,t-1,n,s,a):r(a,u):s||(a[a.length]=u)}return a}var r=n(68),i=n(245);e.exports=o},function(e,t,n){function o(e){return s(e)||i(e)||!!(a&&e&&e[a])}var r=n(22),i=n(43),s=n(15),a=r?r.isConcatSpreadable:void 0;e.exports=o},function(e,t,n){function o(e,t,n){var o=-1;t=r(t.length?t:[u],l(i));var p=s(e,function(e,n,i){return{criteria:r(t,function(t){return t(e)}),index:++o,value:e}});return a(p,function(e,t){return c(e,t,n)})}var r=n(77),i=n(39),s=n(247),a=n(253),l=n(72),c=n(254),u=n(36);e.exports=o},function(e,t,n){function o(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,function(e,r,i){o[++n]=t(e,r,i)}),o}var r=n(248),i=n(25);e.exports=o},function(e,t,n){var o=n(249),r=n(252),i=r(o);e.exports=i},function(e,t,n){function o(e,t){return e&&r(e,t,i)}var r=n(250),i=n(34);e.exports=o},function(e,t,n){var o=n(251),r=o();e.exports=r},function(e,t){function n(e){return function(t,n,o){for(var r=-1,i=Object(t),s=o(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===n(i[l],l,i))break}return t}}e.exports=n},function(e,t,n){function o(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&!1!==o(a[s],s,a););return n}}var r=n(25);e.exports=o},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},function(e,t,n){function o(e,t,n){for(var o=-1,i=e.criteria,s=t.criteria,a=i.length,l=n.length;++o<a;){var c=r(i[o],s[o]);if(c){if(o>=l)return c;return c*("desc"==n[o]?-1:1)}}return e.index-t.index}var r=n(255);e.exports=o},function(e,t,n){function o(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e===e,s=r(e),a=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!s&&e>t||s&&a&&c&&!l&&!u||o&&a&&c||!n&&c||!i)return 1;if(!o&&!s&&!u&&e<t||u&&n&&i&&!o&&!s||l&&n&&i||!a&&i||!c)return-1}return 0}var r=n(26);e.exports=o},function(e,t,n){function o(e,t){return s(i(e,t,r),e+"")}var r=n(36),i=n(257),s=n(259);e.exports=o},function(e,t,n){function o(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),l=Array(a);++s<a;)l[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(l),r(e,this,c)}}var r=n(258),i=Math.max;e.exports=o},function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},function(e,t,n){var o=n(260),r=n(263),i=r(o);e.exports=i},function(e,t,n){var o=n(261),r=n(262),i=n(36),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:o(t),writable:!0})}:i;e.exports=s},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){var o=n(18),r=function(){try{var e=o(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t){function n(e){var t=0,n=0;return function(){var s=i(),a=r-(s-n);if(n=s,a>0){if(++t>=o)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var o=800,r=16,i=Date.now;e.exports=n},function(e,t,n){function o(e,t,n){if(!a(n))return!1;var o=typeof t;return!!("number"==o?i(n)&&s(t,n.length):"string"==o&&t in n)&&r(n[t],e)}var r=n(40),i=n(25),s=n(44),a=n(23);e.exports=o},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),c(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index;n||this.setDraggable(t,o)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,o=e.index;n?this.removeDraggable(t):this.setDraggable(t,o)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection;e.disabled||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,h.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,g.default)(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=o.withRef?"wrappedInstance":null;return p.default.createElement(e,l({ref:t},(0,y.omit)(this.props,"collection","disabled","index")))}}]),n}(u.Component),t.displayName=(0,y.provideDisplayName)("sortableElement",e),t.contextTypes={manager:f.default.object.isRequired},t.propTypes={index:f.default.number.isRequired,collection:f.default.oneOfType([f.default.number,f.default.string]),disabled:f.default.bool},t.defaultProps={collection:0},n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=a;var u=n(0),p=o(u),d=n(61),f=o(d),h=n(27),m=n(38),g=o(m),y=n(29)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return n=t=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),c(n,[{key:"componentDidMount",value:function(){(0,d.findDOMNode)(this).sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,h.default)(o.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var t=o.withRef?"wrappedInstance":null;return p.default.createElement(e,l({ref:t},this.props))}}]),n}(u.Component),t.displayName=(0,m.provideDisplayName)("sortableHandle",e),n}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=a;var u=n(0),p=o(u),d=n(27),f=n(38),h=o(f),m=n(29)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),s=n(3),a=n(4),l=n(2),c=n(10),u=n(6),p=n(54),d=n(268),f=n(7),h=n(13),m={desktop:{colCount:4,colGutter:1,rowGutter:1},tablet:{colCount:2,colGutter:1,rowGutter:1},phone:{colCount:1,colGutter:1,rowGutter:1},layoutType:"masonry",cat_id:u.default.categories[0].cat_ID},g=function(e,t){return{thumbnailGridPosts:e.thumbnailGridPosts}},y=function(e){return{setAddElements:s.bindActionCreators(l.setAddElementsAction,e),setElementContent:s.bindActionCreators(c.setElementContent,e),closeModal:s.bindActionCreators(l.closeModalAction,e),updateThumbnailsOfCategory:s.bindActionCreators(l.updateThumbnailsOfCategoryAction,e)}},E=function(e){function t(t){var n=e.call(this,t)||this;return null===t.cont?n.state={config:m,currentLayout:"desktop",sortedPosts:null}:n.state=Object.assign({currentLayout:"desktop",sortedPosts:null},t.cont),n}return o(t,e),t.prototype.componentDidMount=function(){this.loadOrderListForThumbnailgrid()},t.prototype.loadOrderListForThumbnailgrid=function(){var e=this;jQuery.ajax({url:u.default.ajaxUrl,data:{action:"get_order_list_for_thumbnailgrid",catId:this.state.config.cat_id},type:"GET",dataType:"json",success:function(t){e.setState({sortedPosts:t})}})},t.prototype.componentDidUpdate=function(e,t){null===t.sortedPosts&&null!==this.state.sortedPosts&&this.initSortable(),t.config.cat_id!==this.state.config.cat_id&&this.loadOrderListForThumbnailgrid()},t.prototype.initSortable=function(){var e=this,t=this.state.config.cat_id;new d.default(this.sortedPostsDomElement,{onUpdate:function(){var n=[];jQuery(e.sortedPostsDomElement).find(".thumb-postid").each(function(){n.push(Number(jQuery(this).attr("data-id")))}),jQuery.ajax({url:u.default.ajaxUrl,data:{action:"thumbgrid_save_project_order",project_order:{termid:t,ids:n}},type:"POST",dataType:"json",success:function(){jQuery.ajax({url:u.default.ajaxUrl,data:{action:"get_thumbnails_for_thumbnailgrid",catId:t},type:"GET",dataType:"json",success:function(n){e.props.updateThumbnailsOfCategory(t,n)}})}})}})},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickOk=function(){var e={type:a.ElementTypeEnum.THUMBNAIL_GRID,config:this.state.config};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickDevice=function(e){this.setState({currentLayout:e})},t.prototype.handleChangeCategory=function(e){this.setState({config:Object.assign({},this.state.config,{cat_id:Number(e.target.value)})})},t.prototype.handleChangeLayoutType=function(e){this.setState({config:Object.assign({},this.state.config,{layoutType:e.target.value})})},t.prototype.handleChangeColCount=function(e){var t=Number(e.target.value);if(t>0&&t<16){var n=Object.assign({},this.state.config[this.state.currentLayout],{colCount:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeColGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{colGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeRowGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{rowGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.render=function(){var e=this,t="Add "+f.default.postName+" Thumbnail Grid";null!==this.props.cont&&(t="Edit "+f.default.postName+" Thumbnail Grid");for(var n=[],o=0,i=u.default.categories;o<i.length;o++){var s=i[o];n.push(r.createElement("option",{value:s.cat_ID},s.cat_name))}var a=["preview-desktop","preview-tablet","preview-phone"];switch(this.state.currentLayout){case"desktop":a[0]+=" active";break;case"tablet":a[1]+=" active";break;case"phone":a[2]+=" active"}for(var l=[],c=1;c<16;c++)l.push(r.createElement("option",{value:c},c));var d=[];return null!==this.state.sortedPosts&&(d=this.state.sortedPosts.map(function(e){return r.createElement("li",{className:"item","data-id":e.post_id},r.createElement("img",{src:e.src}),h.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(e.title),r.createElement("input",{className:"thumb-postid",type:"hidden","data-id":e.post_id}))})),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"thumbnailgrid-top-controls-wrap"},r.createElement("div",{className:"thumbnailgrid-control-wrap"},r.createElement("label",null,"Category"),r.createElement("select",{className:"thumbnailgrid-category-select",value:this.state.config.cat_id,onChange:function(t){return e.handleChangeCategory(t)}},n)),r.createElement("div",{className:"thumbnailgrid-control-wrap"},r.createElement("label",null,"Layout Type"),r.createElement("select",{value:this.state.config.layoutType,onChange:function(t){return e.handleChangeLayoutType(t)},className:"layout-type-thumbgrid"},r.createElement("option",{value:"masonry"},"Masonry"),r.createElement("option",{value:"top-aligned"},"Top aligned"),r.createElement("option",{value:"middle-aligned"},"Middle aligned"),r.createElement("option",{value:"bottom-aligned"},"Bottom aligned"))),r.createElement("div",{className:"thumbnailgrid-control-wrap thumbnailgrid-responsive-control"},r.createElement("label",null,"Thumbnails per row"),r.createElement("select",{value:this.state.config[this.state.currentLayout].colCount,onChange:function(t){return e.handleChangeColCount(t)},className:"column-count-thumbgrid"},l)),r.createElement("div",{className:"thumbnailgrid-control-wrap thumbnailgrid-responsive-control"},r.createElement("label",null,"Column Gutter"),r.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"column-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].colGutter,onChange:function(t){return e.handleChangeColGutter(t)}}),"%"),r.createElement("div",{className:"thumbnailgrid-control-wrap thumbnailgrid-responsive-control"},r.createElement("label",null,"Row Gutter"),r.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"row-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].rowGutter,onChange:function(t){return e.handleChangeRowGutter(t)}}),"%"),r.createElement("div",{className:"sortable-region"},r.createElement("div",{className:"thumbnailgrid-order-wrap"},r.createElement("label",null,f.default.postName," Order"),r.createElement("div",{className:"ul-region"},r.createElement("ul",{ref:function(t){e.sortedPostsDomElement=t},className:"lay-thumbnailgrid-item-order"},d))))),r.createElement("div",{id:"thumbnailgrid-content-region"},this.props.thumbnailGridPosts[this.state.config.cat_id]&&0===this.props.thumbnailGridPosts[this.state.config.cat_id].length&&r.createElement("div",{className:"thumbnailgrid-empty"},"This category contains no projects."),r.createElement("div",{className:"thumbnailgrid-scrollable-container"},r.createElement("div",{className:"lay-thumbnailgrid-item-wrap "+this.state.currentLayout+"-preview"},r.createElement(p.default,{cont:this.state,currentLayout:this.state.currentLayout}))))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-thumbnailgrid-btn",onClick:function(){return e.handleClickOk()}},"Ok"),r.createElement("div",{className:"devices"},r.createElement("button",{type:"button",className:a[0],onClick:function(){return e.handleClickDevice("desktop")}}),r.createElement("button",{type:"button",className:a[1],onClick:function(){return e.handleClickDevice("tablet")}}),r.createElement("button",{type:"button",className:a[2],onClick:function(){return e.handleClickDevice("phone")}}))))},t}(r.Component);t.default=i.connect(g,y)(E)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=Sortable},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(60),s=n(4),a=n(6),l=n(56),c=n(7),u=n(13),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doubleClicked=!1,t}return o(t,e),t.prototype.getContent=function(){if(this.props.value.type===s.ElementTypeEnum.TEXT)return r.createElement("div",{className:"elementgrid-text-slide",dangerouslySetInnerHTML:{__html:this.props.value.cont}});var e="";return e=void 0===this.props.value.sizes||void 0===this.props.value.sizes._512?this.props.value.cont:this.props.value.sizes._512,r.createElement("img",{draggable:!1,src:e,alt:""})},t.prototype.getOrientation=function(){return void 0!==this.props.value.orientation?this.props.value.orientation:null},t.prototype.getCaptionClassName=function(){return this.props.value.type===s.ElementTypeEnum.POST_THUMBNAIL||void 0!==this.props.value.caption&&""!==this.props.value.caption.trim()?" show-caption":""},t.prototype.handleClick=function(e){var t=this,n=e.metaKey,o=e.shiftKey;e.stopPropagation(),setTimeout(function(){t.doubleClicked||t.props.selectSlide(n,o)},200)},t.prototype.handleDoubleClick=function(e){var t=this;e.stopPropagation(),e.preventDefault(),this.props.editSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleDoubleClickOnCaption=function(e){var t=this;switch(this.props.value.type){case s.ElementTypeEnum.TEXT:case s.ElementTypeEnum.POST_THUMBNAIL:return this.handleDoubleClick(e)}e.stopPropagation(),e.preventDefault(),this.props.editCaptionOfSlide(),this.doubleClicked=!0,setTimeout(function(){t.doubleClicked=!1},200)},t.prototype.handleClickDelete=function(e){e.stopPropagation(),e.preventDefault(),this.props.deleteSlide()},t.prototype.render=function(){var e=this,t="lay-elementgrid-slide-parent";this.props.selected&&(t+=" selected");var n=this.props.value.caption;return this.props.value.type===s.ElementTypeEnum.POST_THUMBNAIL&&(n=this.props.value.title),n=u.default.getTextOfActiveDefaultOrOtherLangFromEncodedString(n),r.createElement("div",{className:"lay-elementgrid-slide-dragcontainer",onDoubleClick:function(t){return e.handleDoubleClick(t)},onClick:function(t){return e.handleClick(t)}},r.createElement("div",{className:t,"data-type":this.props.value.type},r.createElement("button",{className:"lay-elementgrid-delete-slide",onClick:function(t){return e.handleClickDelete(t)}},""),r.createElement("div",{className:"type-indicator"}),r.createElement("div",{className:"lay-elementgrid-slide","data-orientation":this.props.value.orientation},this.getContent(),r.createElement("div",{className:"elementgrid-slide-caption"+this.getCaptionClassName(),dangerouslySetInnerHTML:{__html:n},onDoubleClick:function(t){return e.handleDoubleClickOnCaption(t)}}))))},t}(r.Component),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this,t=[],n=this;for(var o in this.props.items)!function(o){var a=i.SortableElement(p);t.push(r.createElement(a,{key:"order-item-"+o,index:Number(o),value:n.props.items[Number(o)],selected:-1!==n.props.selectedSlides.indexOf(Number(o)),selectSlide:function(t,n){return e.props.selectSlide(Number(o),t,n)},deleteSlide:function(){return e.props.deleteSlide(Number(o))},editSlide:function(){return e.props.editSlide(s.ElementAttributeTargetEnum.CONT,Number(o))},editCaptionOfSlide:function(){return e.props.editSlide(s.ElementAttributeTargetEnum.CAPTION,Number(o))}}))}(o);return r.createElement("div",{className:"lay-elementgrid-slides-wrap"},t)},t}(r.Component),f={desktop:{colCount:4,colGutter:1,rowGutter:1},tablet:{colCount:2,colGutter:1,rowGutter:1},phone:{colCount:1,colGutter:1,rowGutter:1},layoutType:"masonry",elements:[]},h=function(e){function t(t){var n=e.call(this,t)||this;return n.onKeyDownBind=function(e){return n.onKeyDown(e)},null===t.cont?n.state={config:f,currentLayout:"desktop",editSlide:null,selectedSlides:[]}:n.state=Object.assign({currentLayout:"desktop",editSlide:null,selectedSlides:[]},t.cont),n}return o(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.onKeyDownBind)},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.onKeyDownBind)},t.prototype.handleClickClose=function(){this.props.closeModal()},t.prototype.handleClickOk=function(){var e={type:s.ElementTypeEnum.ELEMENT_GRID,config:this.state.config};null===this.props.cont?this.props.setAddElements([e]):this.props.setElementContent(this.props.cont.relid,e)},t.prototype.handleClickDevice=function(e){this.setState({currentLayout:e})},t.prototype.handleChangeLayoutType=function(e){this.setState({config:Object.assign({},this.state.config,{layoutType:e.target.value})})},t.prototype.handleChangeColCount=function(e){var t=Number(e.target.value);if(t>0&&t<16){var n=Object.assign({},this.state.config[this.state.currentLayout],{colCount:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeColGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{colGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleChangeRowGutter=function(e){var t=Number(e.target.value);if(t>=0&&t<=100){var n=Object.assign({},this.state.config[this.state.currentLayout],{rowGutter:t}),o={};o[this.state.currentLayout]=n,this.setState({config:Object.assign({},this.state.config,o)})}},t.prototype.handleAddElementModal=function(e){this.setState({selectedSlides:[]}),this.props.setAdditionalModal({type:e,cont:null})},t.prototype.componentWillReceiveProps=function(e){if(null!==e.additionalElements&&null===this.props.additionalElements){var t=Object.assign({},this.state.config),n=Object.assign([],t.elements);null===this.state.editSlide?n=e.additionalElements.concat(n):e.additionalElements.length>0&&Object.assign(n[this.state.editSlide],e.additionalElements[0]),t.elements=n,this.setState({config:t,editSlide:null}),this.props.clearAdditionalElement()}},t.prototype.handleEditElementModal=function(e,t){if(void 0===e&&(e=s.ElementAttributeTargetEnum.CONT),void 0===t&&(t=null),null===t&&0!==this.state.selectedSlides.length&&(t=this.state.selectedSlides[0]),null!==t&&this.state.config.elements.length>t){var n=this.state.config.elements[t].type;e!==s.ElementAttributeTargetEnum.CONT&&(n=s.ElementTypeEnum.TEXT),this.props.setAdditionalModal({type:n,cont:this.state.config.elements[t],target:e}),this.setState({selectedSlides:[],editSlide:t})}},t.prototype.onSortEnd=function(e,t){if(e.oldIndex!==e.newIndex){var n=Object.assign({},this.state.config),o=Object.assign([],n.elements);n.elements=i.arrayMove(o,e.oldIndex,e.newIndex),this.setState({config:n,selectedSlides:[]})}},t.prototype.selectSlide=function(e,t,n){var o=Object.assign([],this.state.selectedSlides),r=o.indexOf(e);if(t)-1===r?o.push(e):o.splice(r,1);else if(n)if(0===o.length)o=[e];else{o.push(e),o.sort(function(e,t){return e-t});var i=o[0],s=o[o.length-1];o=[];for(var a=i;a<=s;a++)o.push(a)}else o=-1!==r&&1===o.length?[]:[e];this.setState({selectedSlides:o})},t.prototype.deleteSlide=function(e){var t=Object.assign({},this.state.config),n=Object.assign([],t.elements);n.splice(e,1),t.elements=n,this.setState({config:t,selectedSlides:[]})},t.prototype.onKeyDown=function(e){if((8===e.keyCode||46===e.keyCode)&&0!==this.state.selectedSlides.length){var t=Object.assign({},this.state.config),n=Object.assign([],t.elements),o=Object.assign([],this.state.selectedSlides);o=o.filter(function(e,t,n){return n.indexOf(e)===t}),o.sort(function(e,t){return t-e}),o.forEach(function(e){n.splice(e,1)}),t.elements=n,this.setState({config:t,selectedSlides:[]})}},t.prototype.render=function(){var e=this,t="Add Element Grid";null!==this.props.cont&&(t="Edit Element Grid");var n=["preview-desktop","preview-tablet","preview-phone"];switch(this.state.currentLayout){case"desktop":n[0]+=" active";break;case"tablet":n[1]+=" active";break;case"phone":n[2]+=" active"}for(var o=[],u=1;u<16;u++)o.push(r.createElement("option",{value:u},u));var p=i.SortableContainer(d),f=!0,h=!0,m=!0;if(1===this.state.selectedSlides.length&&this.state.config.elements.length>this.state.selectedSlides[0]){f=!1;switch(this.state.config.elements[this.state.selectedSlides[0]].type){case s.ElementTypeEnum.IMAGE:m=!1;case s.ElementTypeEnum.HTML5VIDEO:h=!1}}return r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},t),r.createElement("button",{type:"button",className:"close close-modal-btn",onClick:function(){return e.handleClickClose()}},r.createElement("span",{"aria-hidden":"true"},""),r.createElement("span",{className:"sr-only"},"Close"))),r.createElement("div",{className:"panel-body"},r.createElement("div",{className:"elementgrid-top-controls-wrap"},r.createElement("div",{className:"elementgrid-control-wrap"},r.createElement("label",null,"Layout Type"),r.createElement("select",{value:this.state.config.layoutType,onChange:function(t){return e.handleChangeLayoutType(t)},className:"layout-type-thumbgrid"},r.createElement("option",{value:"masonry"},"Masonry"),r.createElement("option",{value:"top-aligned"},"Top aligned"),r.createElement("option",{value:"middle-aligned"},"Middle aligned"),r.createElement("option",{value:"bottom-aligned"},"Bottom aligned"))),r.createElement("div",{className:"elementgrid-control-wrap"},r.createElement("label",null,"Elements per Row"),r.createElement("select",{value:this.state.config[this.state.currentLayout].colCount,onChange:function(t){return e.handleChangeColCount(t)},className:"column-count-thumbgrid"},o)),r.createElement("div",{className:"elementgrid-control-wrap"},r.createElement("label",null,"Column Gutter"),r.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"column-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].colGutter,onChange:function(t){return e.handleChangeColGutter(t)}}),"%"),r.createElement("div",{className:"elementgrid-control-wrap"},r.createElement("label",null,"Row Gutter"),r.createElement("input",{type:"number",min:"0",max:"100",step:"0.1",className:"row-gutter-thumbgrid",value:this.state.config[this.state.currentLayout].rowGutter,onChange:function(t){return e.handleChangeRowGutter(t)}}),"%"),r.createElement("br",{className:"gridder-header-linebreak"}),r.createElement("div",{className:"elementgrid-control-wrap btn-group btn-group-sm",role:"group"},r.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-images-btn",onClick:function(){return e.handleAddElementModal(s.ElementTypeEnum.IMAGE)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Image"),r.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-video-btn",onClick:function(){return e.handleAddElementModal(s.ElementTypeEnum.HTML5VIDEO)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," HTML5 Video"),r.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-text-btn",onClick:function(){return e.handleAddElementModal(s.ElementTypeEnum.TEXT)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," Text"),r.createElement("button",{type:"button",className:"btn btn-default elementgrid-add-projects-btn",onClick:function(){return e.handleAddElementModal(s.ElementTypeEnum.POST_THUMBNAIL)}},r.createElement("span",{className:"glyphicon glyphicon-plus"})," ",c.default.postName," Thumbnail")),r.createElement("div",{className:"elementgrid-edit-control-wrap btn-group btn-group-sm",role:"group"},r.createElement("button",{type:"button",className:"btn btn-default elementgrid-edit-slide-btn",onClick:function(){return e.handleEditElementModal()},disabled:f},"Edit"),r.createElement("button",{type:"button",className:"btn btn-default elementgrid-edit-caption-btn",onClick:function(){return e.handleEditElementModal(s.ElementAttributeTargetEnum.CAPTION)},disabled:h},"Edit Caption"),a.default.lightboxActiveHere&&r.createElement("button",{type:"button",className:"btn btn-default elementgrid-edit-lightbox-caption-btn",onClick:function(){return e.handleEditElementModal(s.ElementAttributeTargetEnum.LIGHTBOX_CAPTION)},disabled:m},"Edit Lightbox Caption"))),r.createElement("div",{className:"elementgrid-content-region"},r.createElement("div",{className:"elementgrid-edit-container"},r.createElement("div",{className:"elementgrid-edit-order"},r.createElement(p,{items:this.state.config.elements,onSortEnd:this.onSortEnd.bind(this),axis:"xy",distance:15,selectedSlides:this.state.selectedSlides,selectSlide:this.selectSlide.bind(this),deleteSlide:this.deleteSlide.bind(this),editSlide:this.handleEditElementModal.bind(this)}))),r.createElement("div",{className:"elementgrid-preview "+this.state.currentLayout+"-preview"},0!==this.state.config.elements.length&&r.createElement(l.default,{cont:this.state,currentLayout:this.state.currentLayout}),0===this.state.config.elements.length&&r.createElement("div",{className:"elementgrid-empty"},"Add Elements using the buttons on the top left.")))),r.createElement("div",{className:"panel-footer clearfix"},r.createElement("button",{type:"button",className:"btn btn-default btn-lg add-elementgrid-btn",onClick:function(){return e.handleClickOk()},disabled:0===this.state.config.elements.length},"Ok"),r.createElement("div",{className:"devices"},r.createElement("button",{type:"button",className:n[0],onClick:function(){return e.handleClickDevice("desktop")}}),r.createElement("button",{type:"button",className:n[1],onClick:function(){return e.handleClickDevice("tablet")}}),r.createElement("button",{type:"button",className:n[2],onClick:function(){return e.handleClickDevice("phone")}}))))},t}(r.Component);t.default=h},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.componentDidMount=function(){var e=tinymce.get("lay_project_description"),t=e.selection.getNode(),n={};"a"!==t.nodeName.toLowerCase()||""===t.getAttribute("href")||t.getAttribute("href").startsWith("#")||(n.imagelink={url:i.getRelativeURL(t.getAttribute("href")),id:Number(t.getAttribute("data-id")),type:t.getAttribute("data-type"),title:t.getAttribute("data-title"),newtab:"_blank"===t.getAttribute("target")},n.relid=0),this.props.setAdditionalModal({type:"linkImage",cont:n})},t.prototype.componentWillReceiveProps=function(e){var t=this;if(null===this.props.additionalElements&&e.additionalElements instanceof Array){if(e.additionalElements.length>0&&e.additionalElements[0].imagelink){var n=tinymce.get("lay_project_description");tinymce.isIE&&n.selection.moveToBookmark(n.windowManager.bookmark);var o={href:i.getStaticURL(e.additionalElements[0].imagelink.url),"data-type":e.additionalElements[0].imagelink.type,"data-id":e.additionalElements[0].imagelink.id,"data-title":e.additionalElements[0].imagelink.title,target:e.additionalElements[0].imagelink.newtab?"_blank":""},r=n.dom.getParent(n.selection.getNode(),"a");r?n.dom.setAttribs(r,o):n.execCommand("mceInsertLink",!1,o)}this.props.clearAdditionalElement(),setTimeout(function(){return t.props.closeModal()},0)}},t.prototype.render=function(){return null},t}(r.Component);t.default=s}]);